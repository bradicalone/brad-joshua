{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","animate768","animate400","isFirefox","InstallTrigger","isSafari","navigator","userAgent","indexOf","wW","window","innerWidth","wH","innerHeight","_","clss","classes","document","getElementsByClassName","length","getElementsByTagName","setAttribute","style","transform","visibility","easeOut","progress","Math","pow","newSize","string","size","el","ogWidth","getBoundingClientRect","width","ogHeight","height","getAttribute","console","log","slotMachine","canvas","getElementById","ctx","getContext","Slot","this","x","text","letters","addLetter","letterHeight","bottom","j","data","top","letter","speed","start","push","unshift","drawUp","drawDown","font","fillText","fillStyle","update","toggle","splice","clearRect","requestAnimationFrame","bind","slot","querySelector","addEventListener","Stretch","strtch","letterDist","mixedNum","count","t","lineCount","colors","Letters","total","y","pushLetters","dist","canvasHeight","stretch","distance","begin","beginY","scaleTotal","distY","color","setTransform","scale","textY","letterSpacing","drawBackFlip","addLetters","timestamp","globalCompositeOperation","runtime","min","toFixed","setTimeout","e","StarryNight","trailData","houseWidth","houseHeight","images","menData","headArc","stepDown","rotatedPos","rotateDegree","lastPosX","lastPosY","undefined","arcStartX","arcStartY","house","houseImg","currentY","right","startY","startX","starryNight","drawImage","rise","moveLeft","lastPosition","xPos","yPos","radius","alpha","shift","drawStars","cir","save","globalAlpha","beginPath","arc","PI","opacity","fill","restore","drawTrail","trail","rad","fade","drawExplosion","circle","explodeStart","ease","explodeSize","drawMen","men","translate","translateX","translateY","rotate","img","opac","arcX","arcY","arcRadius","randomMax","max","floor","random","addData","measurements","delay","globAlpha","endPos","time","restoreData","draw","image","radiusTaper","menLength","parseInt","distanceX","walkDown","headIterate","newRotatedPos","iterate","roatedPos","startPos","lastX","lastY","currentX","drawHouse","WebFont","load","google","families","active","particleCanvas","particleCtx","canvasParentWidth","canvasParentHeight","sizing","content","ns","Image","ending","retractStart","imgCanvas","callback","createElement","position","left","zIndex","pointerEvents","foreignObject","createElementNS","appendChild","createParticleCanvas","ExplodingParticle","_this2","animationDuration","life","remainingLife","rgbArray","retract","finale","end","distX","abs","particles","createParticleAtPoint","colorData","particle","startTime","Date","now","clearData","removeAttribute","runEvents","imageLeft","imageTop","reductionFactor","target","rgbaData","getImageData","index","rgbaColorArr","slice","onload","src","ImageShatter","loadImages","$this","ext","sort","a","b","Technologies","svgPageWidth","svgPageHeight","bodyData","icons","newTechnologies","canvasWidth","svgHeight","setTechnologiesWidth","addBodyData","headX","headY","bookHeight","sprites","bodyWidth","bodyHeight","imgWidth","imgHeight","imgIcons","loopImgs","w","replace","h","timing","endX","endY","X","Y","staticSpeed","getPos","ele","elemRect","mainSvg","elemLeft","centeredLeft","rotateHead","pos","drawBook","bookX","bookY","drawBody","drawIcons","spr","turn","prog","totalX","totalY","counter","loadedImages","imgs","forEach","bodyImgs","svgPage","btnOpen","svgCloseButton","svgCircle","hovermap","hoverMap","removeGooey","animateEnd","classList","remove","display","animateCircle","elem","add","parentElement","closeButtonShow","num","opposite","openModals","id","err","event","onanimationend","popUpCards","open_modals","popUpcards","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","attributes","return","svg","svgWidth","querySelectorAll","groupName","Array","children","newHeight","setAttributeY","posHeight","thisPos","childNodes","items","canvasArea","canvasPos","adjustElements","designCanvas","lastDist","currentPath","btnWrap","mouseOut","pointerDist","handler","totalDist","nodelist","elArray","getDistance","className","animateGooey","contains","animatePathLines","path","map_paths","classId","removeCardsClass","card","animateCardsUp","regEx","cardParent","parentNode","styleTransform","removeCircles","activeCircles","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","removeAll","handleMap","type","newPathArray","pathArray","targetArray","getPathElement","circles","paths","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","arguments","cirPairs","pairCircles","AnimateCircles","onmouseover","btnPos","placeCloseButton","toggleStars","robotSection","stars","updateText","textField","changeToggle","boolean","toggleFalse","updateImgText","imgText","textLength","textContent","electricBox","randomCir","relay","item","newNum","findNum","getRandom","designImages","img_container","animateSlider","partialDist","imgStart","newStart","containerWidth","cloneImage","clonedImg","cloneNode","imgInlarge","checkForDuplicates","moveElement","animateData","innerText","isNaN","element","stopPropagation","checkForClasses","pathLength","strokeDasharray","strokeDashoffset","addElectricity","NightStars","_this3","randomStart","duration","k","Flicker","increntment","cos","radSize","sin","starSize","opacSpeed","randomSpeed","flicker","gradient","createRadialGradient","addColorStop","createStars","starCount","nightStars","all","DesignSlider","img_container_rect","ellipse","rec","sectionContainer","actualTop","setEllipseAttributes","setImgContainer","container_Width","img_containerY","setButtonLocation","addedWidth","updateRobot","designSlider","AssemblyLine","_classCallCheck","mainSVG","sliders","codeContainers","rect","bBox","getBBox","_$exec","exec","_slicedToArray","values","rollerUnit","codeElements","rollerElem","codeElem","slidersContainer","getRect","RollerUnit","_this4","_possibleConstructorReturn","__proto__","getPrototypeOf","beginPos","lessThan","current","click","beltClick","foreinObjs","foreinGroup","belts","arr","hasAttribute","actual","apply","_toConsumableArray","_this5","getElemValue","startingPoint","actualDist","maxElement","minElement","moveEnd","moveBeginning","rightPageStart","reverse","pageRight","place","removed","removedChild","addChild","attrName","attrValue","_this","foreignObjects","slider_x","slider_y","slider_width","slider_height","targetElem","positiveCurrent","startDist","posCurrent","difference","currentDirection","sign","currentDist","distDirection","dist_i","rightStart","cur","handleRightPageStart","curDist","oppisiteDir","PosOrNegDistance","lessThanHalf","moreThanHalf","currentBeginPos","handleDoubleClick","updateBeltPos","topGears","bottomGears","imgGroup","animate","beltPos","animateBelts","foreinObjArr","beltWidth","beltDirections","InLargeImg","_this6","container","animateClipPath","imgWrap","mouseMove","removeListener","mouseY","imageClose","removeEventListener","clssName","removeImg","elemX","groupArr","toggleMoveElement","group","sorted","imgContent","url","innerHTML","cls","img_content","fragment","createDocumentFragment","insertBefore","_this7","removeChild","tagName","removeClickListener","insertText","addClickListener","clipPath","clipStart","clipValue","match","clientY","getTransform","translateValue","transformOrigin","scalePhoto","vertY","handleY","mouseDown","positionForiegnObject","updatePos","showImage","toggleRobot","flight","direction","navToggle","Navigation","navItems","scrollTo","animateScroll","section","outExpo","elDist","scroll","toggleOpenBtn","sectionId","scrollToElem","getScrolltoElement","pageYOffset","targetBtn","_this8","nodeName","scrollTo768","controller","toggleAnimate","flightStars","circuit","robot","robotFlight","flames","from","to","keys","graphs","recClip","robotRect","graph","_$exec3","graphWidth","graphHeight","robotHeight","robotWidth","FallingStars","attr","cx","cy","star","createStar","performance","elapsed","firstChild","flyIntoPlace","hiddenX","hideRobot","randomInterval","graphData","strokeLength","runValue","getTotalLength","getLength","getValue","getStrokeLength","animateGraph","round","stroke","drawPercentStroke","startAnimateGraph","flyIn","increment","drawBurners","assign","axis","_keys$map","map","_keys$map2","startRobotFlight","triggerStars","star_count","ScrollAnimate","_this9","sections","elmTop","elmHeight","elmBottom","willChange","digital","removeDigitalAnimation","_this10","checkElemTop","Digital","watch","_this11","Circuit","_this12","animCircuit","startAnimation","elements","totalLength","prevPos","points","numberOfItems","getItem","sqrt","constructor","SVGPolylineElement","getSvgPolylineLength","SVGLineElement","x1","x2","y1","y2","SVGRectElement","SVGPathElement","getSvgEementLength","startHandAnimation","getRandomPath","getDashStroke","countSpeed","dataLength","startCircleAnimation","run","_el$0$getPointAtLengt","getPointAtLength","startLineAnimation","dashArray","dashOffset","setDashArray"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\n/******  GLOBAL VARIABLES  *******/ \nconst animate768 = \"M565.1,0v900H0c0,0,0-75.3,0-192.4c0-211.7,0-303.7,0-533.1C0,50.5,0,0,0,0H565.1z;\"+\n                 \"M565.1,0v900H182.7c0,0-44-72.5-44-191.7c0-107.5,121.8-396.1,121.8-533.8C260.5,41,245.9,0,245.9,0H565.1z;\"+\n                 \"M571.8,0v900H386.7c0,0-31.4-42.7-31.4-191.7C355.3,568,555,285,555,80.7C555,20,551.5,0,551.5,0H571.8z;\"+\n                 \"M573,0v900h-2.3c0,0,0.4-65.2,0.4-192.4c0-176.8-0.2-347.9-0.2-533.4c0-124-0.2-174.2-0.2-174.2H573z\";\n\nconst animate400 = \"M390,800H6c0,0-6-45.9-6-161.3C0,443.6,5,286.1,5,47.3C5,10.7,3,0,3,0h387V800z;\"+\n                 \"M390,800H96c0,0-46-45.9-46-161.3c0-195.1,130-352.6,130-591.3c0-36.7-3-47.3-3-47.3h213V800z;\"+\n                 \"M390,800H243c0,0-37-45.9-37-161.3c0-195.1,176-352.6,176-591.3c0-36.7-1-47.3-1-47.3h9V800z;\"+\n                 \"M390,800h-7c0,0,0-45.9,0-161.3c0-195.1,5-352.6,5-591.3c0-36.7-1-47.3-1-47.3h3V800z\";\n\nconst isFirefox = typeof InstallTrigger !== 'undefined';\nconst isSafari = navigator.userAgent.indexOf(\"Safari\") != -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n//If user is on ipad / iphone / ipod\nlet isIOS = function(){\n    let userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    return /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream\n}\n\nconst wW = window.innerWidth;\nconst wH = window.innerHeight;\nlet lastDist;\n\n\n\n\n//Firefox Bug, transforms not working, so sets attribute to 0 instead\nif(isFirefox){\n    //svg morfing problem\n    document.getElementsByTagName('feGaussianBlur')[0].setAttribute('stdDeviation', '6')\n    //svg css problem\n    _('svg-circle').setAttribute('r', 0);\n    _('svg-circle').style.transform = 'scale(1)'\n} \n\nif(isSafari) _('svg-page').style.visibility = \"hidden\"\n\nfunction _(clss){\n\n    let classes = document.getElementsByClassName(clss);\n\n    if(classes.length === 1){\n        return classes[0]\n    }\n    if(classes.length > 1){\n        return classes\n    }else return \"Not a working class\"\n};\n\nvar easeOut = function(progress){\n    return Math.pow(--progress, 5) + 1;\n};\n\n//String: indicates new size of width or height that you want. Size: of the new size of the string. El: the element you want it for\nvar newSize = function(string, size, el){\n    if(typeof el  !== 'undefined'){\n        \n\n        var ogWidth = el.getBoundingClientRect().width\n        var ogHeight = el.getBoundingClientRect().height\n        if(ogWidth === 0 || ogHeight === 0){\n            ogWidth = el.getAttribute('width')\n            ogHeight = el.getAttribute('height')\n        }\n    }else{\n        var ogWidth = 762.22\n        var ogHeight = 668.97\n    }\n    \n    if(string === 'height' ){\n        let ratio = ogHeight / size\n        return {\n            height: size,\n            width: ogWidth / ratio\n        }\n\n    }else if(string === 'width' ){\n        let ratio = ogWidth / size\n        return {\n            width: size,\n            height: ogHeight / ratio\n        }\n    }else console.log('check parameters');\n}\n\n\nWebFont.load({\n    google: {\n      families: ['Do Hyeon', 'Orbitron']\n    },\n    active: function(){\n        //Starts when google fonts are loaded     \n        slotMachine();\n        Stretch();\n    }\n})\n\nfunction slotMachine(){\n\n    var canvas = document.getElementById('slot-machine');\n    var ctx = canvas.getContext('2d');\n      \n    var Slot = function(){\n\t    this.x = 0;\n\t\tthis.width = canvas.width = wW < 970 ? 360 : 475;\n\t    this.height = canvas.height = wW < 970 ? 360 : 475;\n\t\tthis.text = 'PHOTO'\n\t    this.letters = [];\n\n\t    this.addLetter = function(n){\n\n\t        var letterHeight = wW < 970 ? -124 : -158;\n\n\t        //Places letters at top index 1,3,5\n\t        var bottom = wW < 970 ? this.height + 60 : this.height + 96;\n\t        for(var j = 0; j < n; j++ ){\n\t            //Resets x every iteration\n\t            this.x = 0\n\t            //Adjust bottom and height all letters\n\t            letterHeight = wW < 970 ? letterHeight + 121 : letterHeight + 158\n\t            for(var i = 0; i < this.text.length; i++){\n\n\t                var data = {\n\t                    top: letterHeight,\n\t                    letter: this.text[i],\n\t                    x: i === 0 ? -5 : wW < 970 ? this.x+=74 : this.x+=100.8,\n\t                    speed: 9, \n\t                    bottom: bottom - letterHeight,\n\t                    start: i % 2 === 0 ? \"up\" : \"down\"\n\t                }\n\t                n === 4 ? this.letters.push(data) : this.letters.unshift(data)\n\n\t                var letter = data\n\t        \n\t                if(i%2 === 0){\n\t                    this.drawUp(letter)\n\t                }else{\n\n                        if( wW < 970 ){\n                            //fixes spacing issue Orbitron font\n                            i === 3 ? letter.x += 3 : true\n                            i === 1 ? letter.x -= 3 : true\n                        }\n\t                    this.drawDown(letter)\n\t                } \n\t            }\n\t        }\n\t    }\n\t   this.addLetter(4)\n\t}\n\n    Slot.prototype.drawUp = function(text){\n      \n        ctx.font = wW < 970 ?  \"Bold 62pt Orbitron\" : \"105pt Do Hyeon\";\n        ctx.fillText(text.letter,text.x, text.bottom)\n    }\n    Slot.prototype.drawDown = function(text){\n        \n\t\tctx.fillStyle = \"#0D1B56\";\n         ctx.font = wW < 970 ? \"Bold 62pt Orbitron\" : \"105pt Do Hyeon\";\n        ctx.fillText(text.letter,text.x, text.top)\n\n    }\n\n    Slot.prototype.update = function(){\n\n        // var push = wW < 970 ? -61 : -74\n        var push = wW < 970 ? -61 : -75\n    \tif(!slotMachine.prototype.toggle) return;\n    \n        //New set if letters drawn based on spacing\n        if(this.letters[19].bottom <= push ){\n              \n            this.letters.splice(15,5)\n            this.addLetter(1)\n        }\n\n        ctx.clearRect(0,0,canvas.width, canvas.height)\n        \n    \tfor(var i = 0; i < this.letters.length; i++){\n             \n            var letter = this.letters[i]\n\n            letter.top += letter.speed \n            letter.bottom -= letter.speed \n            \n            if(letter.start === \"up\"){\n\n                this.drawUp(letter)\n\n            }else this.drawDown(letter)\n    \t}\n        requestAnimationFrame(this.update.bind(this))\n    }\n    var slot = new Slot()\n    \n    document.querySelector('.photo .start-canvas').addEventListener('click', function(){\n        \n    \t//Start Canvas\n    \tslotMachine.prototype.toggle = true\n        requestAnimationFrame(slot.update.bind(slot))\n    });\n\n    document.querySelector('.photo .stop-canvas').addEventListener('click', function(){\n      \t//Stop Canvas\n    \tslotMachine.prototype.toggle = false\n    });\n\n}\n\n\n\nfunction Stretch(){\n\n    var canvas = document.getElementById('stretch');\n    var ctx = canvas.getContext('2d');\n  \n    if(wW < 970){\n        var width = 400\n        var height =  375\n        var strtch = 15\n        var letterDist = 53\n        var x = 65\n        var stretchX = 5\n        var mixedNum = 5\n    }\n    if(wW < 400){\n        var width = 360\n        var height =  375\n        var x = 50\n        var mixedNum = -10\n    }\n    if(wW > 970){\n        var width = 650\n        var height =  450\n        var strtch = 30\n        var letterDist = 65\n        var x = 125\n        var mixedNum = 5\n    }\n    /** CHANGE NUMBER FOR lineCount TO ADD OR SUBTRACT HOW MANY LINES OF WORDS **/\n    var lineCount = 7;\n    var count = 0;\n    var t = lineCount - 1;\n    var colors = [\"#DAF7A6\", \"#FFC300 \", \"#FF5733\", \"#C70039\", \"#900C3F\", \"#581845\", \"#37102b\"]\n    var Letters = function(){\n        // this.text = 'SOLUTIONS'\n        this.letters = [];\n        this.total = this.letters.length - 1\n        this.total = 0;\n        this.y = 0;\n\n        \n        this.width = canvas.width = width\n        this.height = canvas.height = height\n        this.text = 'DEVELOPER'\n        \n        this.pushLetters = function(x, dist){\n            //If pushLetters is ran again makes sure this.y = 0\n            if(this.y) this.y = 0\n            var canvasHeight = this.height\n            for(var i = 0; i < lineCount; i++){\n                var data = {\n                    x: x,\n                    letter: this.text,\n                    stretch: strtch,\n                    start: 0,\n                    speed: i,\n                    dist: typeof dist === 'number' ? dist : 0,\n                    //Letters distance between each other virticle \n                     distance: this.y += letterDist,\n                     //Letters start on the bottom\n                    bottom: wW < 970 ? canvasHeight + 45 : canvasHeight + 62,\n                    begin: 1,\n                    //When the next rotation starts\n                    beginY: 0,\n                    scaleTotal: 4,\n                    distY: 0,\n                    color: colors[i]\n                }\n                this.letters.push(data)\n            }\n        }\n        this.pushLetters(x)\n    }\n\n    var drawUp = function(letter, dist){\n\n        ctx.setTransform(1,0,0, letter.scale,letter.x, letter.bottom - dist )\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = letter.color\n        ctx.fillText(letter.letter, 0, letter.textY);\n        // var text = ctx.measureText(letter.letter)\n    }\n    var stretch = function(text){\n        ctx.canvas.style.letterSpacing = text.dist +'px'\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = text.color\n        ctx.fillText(text.letter, text.x, text.bottom - text.distance )\n    }\n\n    var drawDown = function(letter){\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = letter.color\n        ctx.fillText(letter.letter, letter.x, letter.y)\n    }\n\n    var drawBackFlip = function(letter){\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = letter.color\n        ctx.setTransform(1,0,0, letter.scale,letter.x, letter.y )\n        ctx.fillText(letter.letter, 0, letter.textY);\n    }\n    \n    Letters.prototype.addLetters = function(timestamp){\n\n    \tif(!Stretch.prototype.toggle) return;\n       \tvar j = 0;\n\t\n        ctx.globalCompositeOperation = 'destination-under';\n        ctx.setTransform(1,0,0,1,0,0);\n        ctx.clearRect(0,0,canvas.width, canvas.height)\n\n        for(var i = 0; i < this.letters.length; i++){\n            \n            var letter = this.letters[i];\n            letter.y = letter.bottom - letter.distance\n\n            //FOURTH AND LAST CALL, REMOVE WORDS\n            if(count === 3 && i === t) {\n\n                if(!letter.start) letter.start = timestamp\n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 600, 1)\n                letter.y += (letter.distance * progress)\n\n                letter.scale = 0 || (letter.begin - ( letter.scaleTotal * progress) ).toFixed(2)\n                letter.textY =  (letter.beginY + ( letter.distY * progress) ).toFixed(2)\n                drawBackFlip(letter)\n\n                 if(letter.scale == -1 || letter.scale < -1){\n                \n                    letter.beginY = 10\n                    letter.distY = wW < 970 ? -5 : -10\n                    letter.scaleTotal = -4\n                    letter.begin = -3\n                }\n\n                if( progress === 1 ){\n                    //Removes item from array after each word is finished animating\n                    this.letters.splice(t,1)\n                    t--\n                }\n                if( t === -1 ){\n                    setTimeout(function(){\n                        this.total = 0\n                        count = 0\n                        t = lineCount - 1\n                        this.letters.length = 0\n                        this.pushLetters(x)\n                    }.bind(this), 200)\n                } \n            }\n            if( count === 3 && i !== t ) drawDown(letter)\n\n\n            //THIRD, LETTER STRETCH IN\n            if( count === 2 && i === t ) {\n                if(!letter.start) letter.start = timestamp\n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 125, 1)\n                letter.dist = letter.stretch - (letter.stretch * progress)\n\n                letter.x = mixedNum + (letter.stretch * progress) * 4\n                \n                stretch(letter)\n\n               if(progress === 1 ){\n                    t--\n                }\n                //RESETS VARIABLES, CALLS FUNCTION ALL OVER AGAIN\n                if(t === -1){\n                    setTimeout(function(){\n                        count++\n                        t = lineCount - 1\n                        this.letters.length = 0\n                        this.pushLetters(x, 0)\n                    }.bind(this), 200)\n                }\n            }\n            if(count === 2 && i !== t) {\n\n                stretch(letter)\n            }\n          \n            //SECOND, LETTER STRETCH OUT\n            if( count === 1 && i === j ) {\n\n                if(!letter.start) letter.start = timestamp\n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 150, 1);\n\n                letter.dist = letter.stretch * progress;\n                letter.x = x - (letter.dist * 4)\n           \n                stretch(letter)\n\n                if( progress === 1 ){\n                    j++\n                }\n\n                if( j === this.letters.length ){\n                    count++\n                    this.letters.length = 0;\n                    // -5 because letters stretched to far, need to fix numbers\n                    // wW < 970 ? this.pushLetters(5, 15) : this.pushLetters(5, 30);\n                    this.pushLetters(mixedNum, wW < 970 ? 15 : 30 )\n                }\n            }\n            if( count == 1 && i !== j ) {\n                letter.x = letter.x\n                letter.dist = letter.dist\n                stretch(letter)\n            }\n\n            //FIRST, LETTER CLIMBE\n            if( i === j && count === 0 ){\n\n                if(!letter.start) letter.start = timestamp \n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 600, 1)\n                var dist = letter.distance * progress;\n    \n                letter.scale = 0 || (letter.begin - ( letter.scaleTotal * progress) ).toFixed(2)\n                letter.textY =  (letter.beginY + ( letter.distY * progress) ).toFixed(2)\n   \n                drawUp(letter, dist)\n  \n                //Adds second flip to make upright text half way up canvas\n                if(letter.scale == -1 || letter.scale < -1){\n                    //When the next rotation starts for beginY and distY\n                    letter.beginY = wW < 970 ? 5 : 10\n                    letter.distY = wW < 970 ? -5 : -10\n                    letter.scaleTotal = -4\n                    letter.begin = -3\n                }\n                \n                if( progress === 1) {\n                    j++\n                }      \n        \n                if( j === this.letters.length ){\n                    count++\n                    this.letters.length = 0;\n                    this.pushLetters(x, 0)\n\n                }\n            }\n        }\n        requestAnimationFrame(this.addLetters.bind(this))\n    }\n    var letters = new Letters()\n\n    document.querySelector('.developer .start-canvas').addEventListener('click', function(e){\n\n        Stretch.prototype.toggle = true\n        requestAnimationFrame( letters.addLetters.bind(letters) )\n \n    });   \n\n    document.querySelector('.developer .stop-canvas').addEventListener('click', function(){\n\n       Stretch.prototype.toggle = false\n\n    })\n};\n\nfunction ImageShatter(){\n    var sizing = function(content){\n        if(content === 'dur'){\n            if (window.innerWidth < 600)\n                return 2.6\n            else if (window.innerWidth > 600)\n                return 3.5\n                \n        }\n        if(content === 'img'){\n            if(window.innerWidth <= 600) \n                return 400\n            else if (window.innerWidth > 1200)\n\n                return 580\n            else\n                return 500\n        }\n    }\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var img = new Image();\n    var ctx, canvas;\n    var particleCanvas, particleCtx;\n    var canvasParentWidth;\n    var canvasParentHeight;\n    var ending = []\n    var retractStart = 0;\n    var imgCanvas = function(width, height, img,callback){\n        //Watch where this is loaded into when portfolio done\n        // document.body.innerHTML += '<canvas id=\"img-canvas\"></canvas>';\n        // canvas = document.getElementById('img-canvas')\n        canvas = document.getElementById('particle')\n        ctx = canvas.getContext(\"2d\");\n\n        canvas.width = width\n        canvas.height = height\n        canvasParentWidth = _('svg-page').getBoundingClientRect().width\n        canvasParentHeight = _('svg-page').getBoundingClientRect().height\n\n        ctx.drawImage(img, 0, 0, width,height)\n\n        //Calls function for clickable event listener to run and appends background canvas\n        callback(canvas,createParticleCanvas())\n    }\n\n\n    function createParticleCanvas() {\n\n        // Create our canvas\n        particleCanvas = document.createElement(\"canvas\");\n        particleCtx = particleCanvas.getContext(\"2d\");\n\n        // Size our canvas with additional sizing\n        particleCanvas.width = canvasParentWidth\n        particleCanvas.height = canvasParentHeight\n      \n        // Position out canvas\n        particleCanvas.style.position = \"absolute\";\n        particleCanvas.style.top = \"0\";\n        particleCanvas.style.left = \"0\";\n      \n        // Make sure it's on top of other elements\n        particleCanvas.style.zIndex = \"500\";\n        \n        // Make sure other elements under it are clickable\n        particleCanvas.style.pointerEvents = \"none\";\n        var foreignObject = document.createElementNS( ns, \"foreignObject\");\n        foreignObject.setAttribute('class', \"particleObject\")\n        foreignObject.setAttribute('width', canvasParentWidth)\n        foreignObject.setAttribute('height', canvasParentHeight)\n        foreignObject.appendChild(particleCanvas)\n       \n        document.querySelector('g.design').appendChild(foreignObject)\n\n    }\n\n    \n        \n    //Image comes appart\n    var ExplodingParticle = function() {\n        this.begin = 0\n\n        // Set how long we want our particle to animate for\n        this.animationDuration = 1000; // in ms\n\n        // Set the speed / distance for our particle\n        this.speed = {\n            x: window.innerWidth < 768 ? -5 + Math.random() * 10 : -10 + Math.random() * 20,\n            y: window.innerWidth < 768 ? -5 + Math.random() * 10 : -10 + Math.random() * 20\n        };\n      \n        // Size our particle\n        window.innerWidth < 768 ? this.radius = 3 + Math.random() * 3 : this.radius = 4 + Math.random() * 4;\n      \n      \n        // Set a max time to live for our particle\n        this.life = 30 + Math.random() * 10;\n        this.remainingLife = this.life\n\n        // This function will be called by our animation logic later on\n        this.draw = ctx => {\n\n            let p = this\n             \n            if(this.remainingLife > 0 && this.radius > 0) {\n                \n                // Draw a circle at the current location\n                ctx.beginPath()\n                ctx.arc(p.startX, p.startY, p.radius, 0, Math.PI * 2);\n                ctx.fillStyle = \"rgba(\" + this.rgbArray[0] + ',' + this.rgbArray[1] + ',' + this.rgbArray[2] + \", 1)\"\n                ctx.fill()\n          \n                // Update the particle's location and life\n                p.remainingLife--\n                p.radius -= 0.25\n                p.startX += p.speed.x\n                p.startY += p.speed.y\n                \n            }\n        }\n        this.retract = (begin, finale, timestamp) => {\n\n                \n            if(!retractStart) retractStart = timestamp\n        \n                var runtime = timestamp - retractStart\n                var progress = Math.min(runtime / 3000, 1)\n        \n                \n                // canvas.style.opacity = 1 - progress\n                particleCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\n            for(let i = 0; i < begin.length; i++) {\n                var start = begin[i]\n                var end = finale[i]\n                \n     \n                var distX = Math.abs(start.startX  - end.x)\n                var distY = Math.abs(start.startY - end.y)\n                \n                //If end x or y is greater than x or y subtract else add\n                start.x = start.startX > end.x ? start.startX - (distX * progress) : start.startX + (distX * progress)\n                start.y = start.startY > end.y ? start.startY - (distY * progress) : start.startY + (distY * progress)\n                start.rad = start.begin + (end.rad * progress)\n                \n                particleCtx.beginPath()\n                \n                particleCtx.arc(start.x, start.y, start.rad, 0, Math.PI * 2);\n                particleCtx.fillStyle = \"rgba(\" + start.rgbArray[0] + ',' + start.rgbArray[1] + ',' + start.rgbArray[2] + ','+ start.rgbArray[3]+\")\"\n            \n                particleCtx.fill()\n            \n            }\n          if(progress === 1 ){\n            //returns the photo back if ran again\n            return \n          }\n           \n            requestAnimationFrame(function(timestamp){\n                this.retract(begin, finale, timestamp)\n            }.bind(this))\n        }\n    }\n\n\n\n    var particles = [];\n\n    function createParticleAtPoint(x, y, colorData) {\n        let particle = new ExplodingParticle();\n        \n        particle.rgbArray = colorData;\n        particle.startX = x;\n        particle.startY = y;\n        particle.startTime = Date.now();\n        \n        particles.push(particle);\n        let end = {}\n        end.start = 0;\n        end.rad = particle.radius;\n        end.x = x;\n        end.y = y;\n        ending.push(end)\n      \n    }\n\n    var opac = 1;\n    function update() {\n        if(typeof particleCtx !== \"undefined\") {\n            particleCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n        }\n        //image fades as it's breaking apart\n        canvas.style.opacity = (opac = opac - .08)\n\n        // Draw all of our particles in their new location\n        for(let i = 0; i < particles.length; i++) {\n\n            particles[i].draw(particleCtx);\n\n            // When particles \n            if(particles[i].radius < 0) {\n                let percent = (Date.now() - particles[i].startTime) / particles[i].animationDuration                \n                let dur = sizing('dur')\n               \n                if(percent > dur) {\n                \n                    let particle = new ExplodingParticle();\n\n                    particle.retract(particles, ending)\n    \n                    return;\n                }\n            }\n        }\n        window.requestAnimationFrame(update);\n    }\n\n    var clearData = function(){\n        retractStart = null\n        canvas.removeAttribute('style')\n        particleCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n        ending = []\n        particles = []\n    }\n\n    img.onload = function(){\n        var width = sizing('img')\n        var height = width;\n        imgCanvas(width,height,this,runEvents)\n        \n    }\n    img.src = 'images/design-img.png'\n\n    function runEvents(imgCanvas){\n        var foreignObject = document.querySelector('.design .item-canvas')\n     \n        let imageLeft = parseInt(foreignObject.getAttribute('x') );\n        let imageTop = parseInt(foreignObject.getAttribute('y') );\n        // let reductionFactor = window.width <= 400 ? 15 : Math.round(imgCanvas.width / 15)\n        if(window.innerWidth < 600)\n            var reductionFactor = 15\n        if(window.innerWidth >=600) \n            var reductionFactor = 22\n        if(window.innerWidth >= 1200)\n            var reductionFactor = 33\n        \n        //Removes canvas with particles made from when closing svg page\n        _('close-btn').addEventListener('click', clearData)\n\n        imgCanvas.addEventListener('click', function(e){\n            if(e.target.style.opacity ){\n              \n                return clearData()\n            }\n          \n            //width first one pixel, then all of height pixels, width another pixel then all of height pixels \n            let rgbaData = ctx.getImageData(0,0, this.width, this.height).data;\n            let count = 0;\n            for(let x = 0; x < this.width; x++){\n                for(let y = 0; y < this.height; y++){\n    \n                    if(count % reductionFactor === 0) {\n           \n                    let index = (y * this.width + x) * 4;\n                    let rgbaColorArr = rgbaData.slice(index, index + 4);\n                   \n                    let globalX = imageLeft + x;\n                    let globalY = imageTop + y;\n                   \n                    createParticleAtPoint(globalX, globalY, rgbaColorArr)\n\n                    }\n                    count++\n                }\n            }\n            update()\n        });\n    }\n}\nImageShatter();\n\n\n\nfunction StarryNight(){\n       \n    var canvas = document.getElementById('starryNight');\n    var ctx = canvas.getContext('2d');\n    var data = []\n    var trailData = []\n    var rgb =  trailData.length > 1 && 150 / trailData.length\n    var j = 0;\n    var houseWidth = window.innerWidth < 768 ? 380 : 600;\n    var houseHeight = newSize('width', houseWidth).height;\n    this.width = canvas.width = _('svg-page').getAttribute('width');\n    this.height = canvas.height = _('svg-page').getAttribute('height');\n    this.toggle = true;\n\n    this.images = []\n\n    //Men Data\n    var menData = {\n        headArc: window.innerWidth < 768 ? 4 : 6,\n        stepDown: window.innerWidth < 768 ? 12 : 17,\n        rotatedPos: 0,\n        rotateDegree: 14,\n        j: 0, //Each point of animation, walk, stand still, rotate ,falling\n        start: 0,\n        begin: 0,\n        lastPosX: 90,\n        lastPosY: undefined,\n        arcStartX: window.innerWidth < 768 ? 7 : 10,\n        arcStartY: 5\n    }\n\n    //House animation Data\n    this.house = {\n        houseImg: undefined,\n        toggle: undefined,\n        currentY: undefined,\n        start: 0,\n        right: this.width - houseWidth,\n        bottom: this.height - houseHeight,\n        startY: function(){\n            return this.bottom + houseWidth / 2.4\n        },\n        startX: function(){\n            return this.right\n        },\n        begin: function(){\n            menData.lastPosY = (houseHeight / 2.24) - starryNight.images[0].height\n            ctx.drawImage(this.houseImg, this.startX(), this.startY(), houseWidth, houseHeight )\n        },\n        rise: this.height / 2,\n        moveLeft: window.innerWidth < 500 ? this.width / 20 : this.width / 8\n    }\n\n    //Star Trail Data\n    var lastPosition = function(xPos, yPos, radius, alpha){\n        trailData.push({\n            x: xPos,\n            y: yPos,\n            radius: radius,\n            alpha: alpha\n        })\n        if(trailData.length > 25) trailData.shift()\n    }\n\n    this.randomMax = function(min, max){\n        return Math.floor( Math.random() * (max - min) + min )\n    }\n\n    //Adds data for Shooting star\n    this.addData = function(){\n        for(let i = 0; i < 8; i++){\n            var measurements = {\n                // Starts randomly on the x axis\n                delay: i === 0 ? 0 : this.randomMax(1, 2),\n                x: this.randomMax(0, this.width/2),\n                y: this.randomMax(200, this.height),\n                radius: window.innerWidth < 768 ? this.randomMax(5, 13) : this.randomMax(8, 16),\n                distance: this.width + 100,\n                globAlpha: 1,\n                opac: 1,\n                endPos: this.randomMax(100, this.width),\n                start: 0,\n                time: 0,\n                explodeStart: 0,\n                explodeSize: window.innerWidth < 768 ? 20 : 35\n            }\n            data.push(measurements)\n           \n        }\n    }.bind(this)\n\n    //When prototype.toggle = false this automatically gets ran to be able to run animation again\n    this.restoreData = function(){\n        data = []\n        trailData = []\n        j = 0\n        this.addData()\n        menData.begin = null\n    }\n\n    function drawHouse(image,timestamp){\n        if(!image.start) image.start = timestamp\n        var runtime = timestamp - image.start\n        var progress = runtime / 2000\n\n        var distance = image.rise * progress\n        \n        //Floating in place\n        if(image.currentY){\n\n            image.toggle ? image.x = image.currentX - distance  : image.x = image.currentX + distance\n            image.toggle ? image.y = image.currentY + distance  : image.y = image.currentY - distance\n        }\n        \n        if(distance >= image.rise){\n            //Makes currentY true and updates postion of the image\n            image.currentY = image.y\n            image.currentX = image.x\n            image.toggle ? image.toggle = false : image.toggle = true\n            image.start = 0\n            image.rise = 50\n\n        }\n        //Ends the first rise of the image\n        if(!image.currentY) {\n            image.x = image.startX() - (image.moveLeft * progress)\n            image.y = image.startY() - (image.rise * progress)\n        }\n\n        ctx.drawImage(image.houseImg, image.x, image.y, houseWidth, houseHeight )\n    }\n\n    function drawStars(cir){\n        ctx.save()\n        ctx.globalAlpha = cir.alpha\n\n        ctx.beginPath();\n        ctx.arc(cir.xPos, cir.yPos, cir.radius, 0, 2 * Math.PI);\n        ctx.fillStyle = 'rgba(255, 255, 73, ' + cir.opacity + ')'\n        ctx.fill();\n        ctx.restore()\n        lastPosition(cir.xPos, cir.yPos, cir.radius, cir.alpha)\n    }\n\n    function drawTrail(trail){\n        ctx.save()\n        ctx.globalAlpha = 0.2\n        ctx.beginPath();\n        ctx.arc(trail.x, trail.y, trail.rad, 0, 2 * Math.PI, true);\n        ctx.fillStyle = 'rgba(238,'+trail.color+', 6, ' + trail.fade + ')'\n        ctx.fill();\n        ctx.restore()\n    }\n    function drawExplosion(circle, timestamp){\n                \n        if(!circle.explodeStart) circle.explodeStart = timestamp\n        var runtime = timestamp - circle.explodeStart\n        var progress = runtime / 400\n        var ease = easeOut(progress)\n        ctx.beginPath()\n        ctx.arc(circle.xPos, circle.yPos, 0 + (circle.explodeSize * ease), 0, 2 * Math.PI, true)\n        ctx.fillStyle = 'rgba(249, 255, 0, ' + (1 - (.9 * progress) ) + ')'\n        ctx.fill()\n            \n    }\n    function drawMen(men){\n\n        if(menData.j >= 4 && menData.j <= 5){\n            ctx.translate(men.translateX, men.translateY);\n            ctx.rotate(men.rotate * Math.PI / 180);\n            ctx.drawImage(men.img, -men.width/2, -men.height, men.width, men.height)\n            ctx.setTransform(1,0,0,1,0,0)\n        }else{ \n            ctx.save()\n            ctx.globalAlpha = men.opac\n            ctx.beginPath();\n            ctx.arc(men.arcX, men.arcY, men.arcRadius, 0, 2 * Math.PI);\n            ctx.fillStyle = \"#000\"\n            ctx.fill();\n            ctx.drawImage(men.img, men.x, men.y, men.width, men.height)\n            ctx.restore()\n        }\n    }\n\n    var draw = function(timestamp){\n        if(!StarryNight.prototype.toggle){\n            return this.restoreData()\n        } \n\n        //House\n        var image = this.house\n\n        ctx.clearRect(0, 0, this.width, this.height)\n        \n        //Men running start , Stars start after house gets to top. \n        if(image.currentY){\n\n            //**  START OF STARS  **/\n\n            // Draws the trail opacity  \n            if(menData.j >= 1){\n                for(let i = 0; i < trailData.length; i++){\n                    var trail = trailData[i]\n                    var fadeSize =  i / trailData.length\n\n                    //Trail tapers as it goes.\n                    var radiusTaper =   (trail.radius-2) / trailData.length\n                    trail.color = 240 - (i+j)\n                    trail.fade = i / trailData.length\n\n                    //Tapers down the raidus of the trail\n                    trail.rad = (trail.radius = trail.radius - radiusTaper )\n                    // trail.rad = trail.radius\n                    drawTrail(trail)\n                }\n\n                //Draws stars\n                for(let i = 0; i < data.length; i++){\n                    var circle = data[i];\n                    \n                    if( j >= i ){\n                        \n                        if(!circle.start) circle.start = timestamp\n                        let runtime = timestamp - circle.start\n                        let progress = runtime / 2000\n                        var ease = easeOut(progress)\n                        circle.time = (circle.delay - ease)\n\n                        //If the current circle delay = progress draws next circle, (random drawing look)\n                        if(circle.time <= 0){\n\n                            //current circle set to undefined keep from running again\n                            circle.delay = undefined\n                            j++\n                        }\n                        circle.alpha = circle.globAlpha - (1*progress)\n                        circle.opacity = circle.opac -  (.9*progress) \n                        // circle.duration = ease\n                        \n                        if(j%3 !==0 && menData.j >= 1){\n                            circle.xPos = circle.x + (circle.endPos * ease)\n                            circle.yPos = 0 + (circle.y * ease)\n                            ctx.globalCompositeOperation = 'destination-over'\n                        }else {\n                            circle.xPos = circle.x + (circle.endPos * ease)\n                            circle.yPos = 0 + (circle.y * progress)\n                            ctx.globalCompositeOperation = 'source-over'\n                        }\n                    \n                        drawStars(circle)\n\n                        //Explosion start\n                        if(circle.xPos > image.x && circle.yPos > image.y){\n\n                            drawExplosion(circle, timestamp)\n                        \n                        }\n                    \n                        if(j === data.length) {\n                            j = 0\n                            data = []\n                            trailData = []\n                            this.addData()\n                        }\n                    }\n                }\n            }\n            //**  START OF MEN  **/\n            var menLength = starryNight.images.length-1\n\n            for(let i = 0; i < menLength; i++){ \n                var men = starryNight.images[i]\n         \n                if(!menData.begin) menData.begin = timestamp\n                var runtime = timestamp - menData.begin\n                var progress = Math.min(runtime / 2000, 1)\n\n                //First walk out\n                if(menData.j === 0) {\n                    menData.start = parseInt( ( progress * 15).toFixed(0) );\n                    menData.distanceX = window.innerWidth < 768 ? 95 : 205\n                    \n                }\n                //Second Walk stands still\n                if(menData.j === 1){\n                    //Starts and ends with last dude\n                    menData.start = 15\n                    // Keeping count at last man instead of counting through them to animate\n                    menData.distanceX = 0\n                } \n\n                //Third walk down and to the end\n                if(menData.j === 2){\n                    menData.start = parseInt( ( progress * 15).toFixed(0) );\n                    men.walkDown = Math.min( ( progress * 6), 1 ) * menData.stepDown\n                    // menData.distanceX = 250\n                    menData.distanceX = window.innerWidth < 768 ? 159 : 250\n                } \n\n                //Looks down\n                if(menData.j === 3){\n                    var headIterate = Math.min(runtime / 1000, 1)\n\n                    //updates men.walkdown that gets ran before back to 0\n                    men.walkDown = 0\n                    menData.start = 16\n                    menData.distanceX = 0\n                    men.arcX = (image.x + ( menData.lastPosX + (men.width/2+2) )) + ( menData.arcStartX * headIterate )\n                    men.arcY = image.y + ( menData.lastPosY+ 4) + ( menData.arcStartY * headIterate )\n                    men.arcRadius = menData.headArc \n                }\n                //Rotates back and forth\n                if(menData.j === 4){\n                    //2nd rotated position\n                    var newRotatedPos = menData.rotatedPos - ( (menData.rotateDegree * iterate ) - menData.rotatedPos)\n                    menData.start = 14\n\n                    menData.distanceX = 0\n\n                    men.translateX = image.x + (menData.lastPosX + men.width/1.8)\n                    men.translateY = image.y + (menData.lastPosY + men.height)\n                    var iterate = Math.min( ( progress * 3), 3 )\n                    \n                    if(menData.rotatedPos <= menData.rotateDegree){\n                        menData.rotatedPos = (menData.rotateDegree * iterate) \n                        men.rotate  =  menData.rotatedPos\n\n                    }else {\n                        //Rotate back and forth\n                        if(newRotatedPos >= 0) men.rotate = newRotatedPos\n                        if(newRotatedPos <= 0) men.rotate = -newRotatedPos;\n\n                    }\n                    \n                    //updates roatedPos for mendata.js = 5 to be used below\n                    if(progress === 1){\n                        men.arcRadius = 0\n                        menData.roatedPos = men.rotate\n                    }\n                }\n                //Falls Down\n                if(menData.j === 5){\n                    menData.start = parseInt( ( progress * 10).toFixed(0) );\n\n                    men.translateX = image.x + (menData.lastPosX + men.width / 2) + ( (this.width / 6 ) * progress )\n                    men.translateY = image.y + (menData.lastPosY + men.height)  + ( (this.height / 2) * progress )\n                    men.rotate = menData.roatedPos + (180 * progress)\n                    menData.distanceX = 0\n                    if(progress === 1) men.opacity = 0\n                }\n                if(menData.j === 6){\n                    \n                    men.opac = men.opacity + (1 * progress)\n                }\n                \n                if(men.startPos === menData.start){ \n\n                    //Constanatly updates men location on the House\n                    var lastX = menData.lastPosX + ( menData.distanceX * progress );\n                    var lastY = menData.lastPosY + ( men.walkDown || 0 )\n\n                    men.x = image.x + (menData.lastPosX + ( menData.distanceX * progress) )\n                    men.y = image.y  + (menData.lastPosY + (men.walkDown || 0) )\n                \n                    drawMen(men)\n            \n                    if(progress < 1){\n\n            \n                    }else{\n                        //Resets or updates positions\n                        menData.lastPosX = lastX\n                        menData.lastPosY = lastY\n                        menData.j++\n                        menData.begin = 0\n                        menData.start=0\n                    }\n                }\n            }\n        };\n        drawHouse(image,timestamp)\n\n        requestAnimationFrame(draw)\n\n    }.bind(this);\n\n    document.querySelector('.animations .start-canvas').addEventListener('click', function(){\n\n        StarryNight.prototype.toggle = true\n        requestAnimationFrame(draw)\n\n    }.bind(this))\n\n     document.querySelector('.animations .stop-canvas').addEventListener('click', function(){\n\n        StarryNight.prototype.toggle = false\n    })\n}\n\nStarryNight.prototype.loadImages = function(){\n    var height = window.innerWidth < 768 ? 60 : 80\n    var width = window.innerWidth < 768 ? 48 : 64\n    var $this = this\n    var count = 0;\n    var images = []\n    var ext = isFirefox ? \"png\" : \"svg\";\n \n    var men = [         \n        {src: \"images/men/zero.\"+ext, height: height, width: width},\n        {src: \"images/men/one.\"+ext, height: height, width: width},\n        {src: \"images/men/two.\"+ext, height: height, width: width},\n        {src: \"images/men/three.\"+ext, height: height, width: width},\n        {src: \"images/men/four.\"+ext, height: height, width: width},\n        {src: \"images/men/five.\"+ext, height: height, width: width},\n        {src: \"images/men/six.\"+ext, height: height, width: width},\n        {src: \"images/men/seven.\"+ext, height: height, width: width},\n        {src: \"images/men/eight.\"+ext, height: height, width: width},\n        {src: \"images/men/nine.\"+ext, height: height, width: width},\n        {src: \"images/men/ten.\"+ext, height: height, width: width},\n        {src: \"images/men/eleven.\"+ext, height: height, width: width},\n        {src: \"images/men/twelve.\"+ext, height: height, width: width},\n        {src: \"images/men/thirteen.\"+ext, height: height, width: width},\n        {src: \"images/men/fourteen.\"+ext, height: height, width: width},\n        {src: \"images/men/fifteen.\"+ext, height: height, width: width},\n        {src: \"images/men/headless.\"+ext, height: height, width: width},\n        {src: \"images/men/house-floating.\"+ext}\n    ];\n\n    for(let i = 0; i < men.length; i++){\n        \n        var img = new Image();\n        \n        try{\n            throw i\n        }catch(i){\n            img.onload = function(){\n   \n                images.push({\n                    img: this,\n                    height: men[i].height,\n                    width: men[i].width,\n                    start: 0,\n                    startPos: i\n                })\n              \n                if(++count === men.length){\n                    \n                    //Sorts the men array in order due to loading images differently\n                    images.sort(function(a,b){\n                        return a.startPos - b.startPos;\n                    })\n\n                    starryNight.images = images;\n                    //updates the undefined house property with this img\n                    $this.house.houseImg = img;\n                    $this.addData()\n                    $this.house.begin()\n                }\n            }\n            img.src = men[i].src\n        }\n    }\n};\nfunction setTechnologiesWidth(canvasWidth, svgHeight){\n    \n        let canvas = document.getElementById('techIcons');\n        if(wW < 768)  canvas.style.width = canvasWidth * .90 + 'px'\n        if(wW < 540)  canvas.style.width = canvasWidth * .75 + 'px'\n        canvas.style.top = svgHeight - canvas.getBoundingClientRect().height + 'px'\n    \n}\nvar Technologies = function() { \n    var svgPageWidth =  _('svg-page').getAttribute('width')\n    var svgPageHeight = _('svg-page').getAttribute('height')\n    var width = svgPageWidth < 970  || svgPageHeight < 800;\n    this.canvas = document.getElementById('techIcons');\n    \n    this.ctx = this.canvas.getContext('2d');\n    this.width = this.canvas.width = svgPageWidth;\n    this.height = this.canvas.height = svgPageHeight;\n    this.start = 0;\n    this.start;\n    this.bodyData = []\n    this.icons;\n    this.j = 0\n    var newTechnologies = this\n    //Sets canvas width again\n    if(wW < 768) setTechnologiesWidth(this.width, svgPageHeight)\n    this.data = {\n        addBodyData:  function(){\n    \n            if(width){\n                //Body location X and Y\n                return {\n                    x : newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2),\n                    y : (newTechnologies.height - newTechnologies.bodyData[1].height) ,\n                    translateX: newTechnologies.width/2 - (newTechnologies.bodyData[3].width/2)+60,\n                    translateY: (newTechnologies.height - newTechnologies.bodyData[1].height) +70,\n                    headX: newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2) + 41,\n                    headY: (newTechnologies.height - newTechnologies.bodyData[1].height) - 61\n                }\n            }else{\n                return {\n                    x : newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2),\n                    y : (newTechnologies.height - newTechnologies.bodyData[1].height),\n                    //Translate head rotation\n                    translateX: newTechnologies.width/2 - (newTechnologies.bodyData[3].width/2)+85,\n                    //Translate head rotation\n                    translateY: (newTechnologies.height - newTechnologies.bodyData[1].height) + 100,\n                    headX: newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2) + 57,\n                    headY: (newTechnologies.height - newTechnologies.bodyData[1].height) - 87\n                }\n            }\n        },\n        rotate: -140,\n        j: 0,\n        bookHeight: 200\n    }\n    \n    this.sprites = []\n       \n        var ext = isFirefox ? \"png\" : \"svg\";\n\n        var bodyWidth = width ? 1.3 : 1.8;\n        var bodyHeight = width ? 1.3 : 1.8;\n        var src = [\"images/top-head.\"+ext, \"images/face-body.\"+ext, \"images/book.\"+ext, \"images/full-body.\"+ext]\n\n        if(width){\n            var imgWidth = [284.5 ,400, 320.96, 400]\n            var imgHeight = [170.9, 483.7, 226.8, 564.66]\n        }else{\n            var imgWidth = [553.5, 778.2, 629.9, 778]\n            var imgHeight = [332.49, 941, 443.27, 1098.9]\n        }\n    \n        this.imgIcons = [\n                {src: \"images/icons/adobe-50-50.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/after-effects-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/artistic-52-54.\"+ext, width: 40, height: 42},\n                {src: \"images/icons/bootstrap-50-50.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/camera-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/cloud-64-49.5.\"+ext, width: 42, height: 32.5},\n                {src: \"images/icons/code-60-53.\"+ext, width: 43, height: 38},\n                {src: \"images/icons/css-55-52.\"+ext, width: 42, height: 39.8},\n                {src: \"images/icons/design-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/git-hub-55-55.\"+ext, width: 43, height: 43},\n                {src: \"images/icons/google-drive-72-64.\"+ext, width: 46, height: 40.8},\n                {src: \"images/icons/illustrator-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/js-55-56.\"+ext, width: 41, height: 42},\n                {src: \"images/icons/node-50-50.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/nodejs-60.5-37.\"+ext, width: 55, height: 33.6},\n                {src: \"images/icons/npm-70-27.2.\"+ext, width: 65, height: 25.2},\n                {src: \"images/icons/photoshop-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/php-65-35.\"+ext, width: 45, height: 24.2},\n                {src: \"images/icons/python-57-58.\"+ext, width: 40, height: 40.7},\n                {src: \"images/icons/react-59-52.\"+ext, width: 42, height: 37},\n                {src: \"images/icons/server-55-58.\"+ext, width: 40, height: 40}\n        ]\n\n    this.loopImgs = function(){\n        var load = []\n\n        for(var j = 0; j < 4; j++){\n            load.push({\n                src: src[j],\n                width: imgWidth[j] / bodyWidth,\n                height: imgHeight[j] / bodyHeight\n            })\n        }\n        var icons = this.imgIcons\n\n        for(var i = 0; i < icons.length; i++){\n            var w = !width ? icons[i].src.replace(/^([a-z\\/]+)\\/([a-z-?]+)-(\\d\\d)(.+)/ig,\"$3\") : icons[i].width\n            var h = !width ? icons[i].src.replace(/^(.+)(\\d{2})(.+)/ig,\"$2\") : icons[i].height\n\n            load.push({\n                src: icons[i].src,\n                width: parseInt(w),\n                height: parseInt(h)\n            })\n        }\n        return load\n    };\n    function random(min, max){\n        return Math.floor(Math.random() *  (max - min ) + min)\n    };\n    this.addData = function(n){\n        var icons = this.icons\n        for(var i = 0; i < n; i++ ){\n            \n            this.sprites.push({\n                //Each icon draws for ever 30 mil sec\n                timing:  30,\n                endX: random(0, this.width/2 ),\n                endY: random(0, this.height - (this.bodyData[1].height + 50) ),\n                start: 0,\n                speed: random(4000, 9000),\n                x: this.width / 2,\n                y: this.data.addBodyData().y + 15, // plus 100 the sprite size\n                img: this.icons[i%icons.length].img,\n                width: this.icons[i%icons.length].width,\n                height: this.icons[i%icons.length].height,\n                X: 0,\n                Y: 0,\n                staticSpeed: 0,\n                rotate: random(180, 1440)\n            })\n        }\n    }\n}\n\nTechnologies.prototype.rotateHead = function(rotate, pos){\n    var img = this.bodyData\n    this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height)\n    this.ctx.drawImage(img[1].img,  pos.x, pos.y, img[1].width, img[1].height) //Face body\n    this.ctx.translate(  pos.translateX, pos.translateY); // Translate \n    this.ctx.rotate(rotate * Math.PI/180)\n    this.ctx.translate( -pos.translateX,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[0].img,  pos.headX ,  pos.headY, img[0].width, img[0].height)  //Head draw in translated canves\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n};\n\nTechnologies.prototype.drawBook = function(data, pos){\n    var img = this.bodyData\n    this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height)\n    this.ctx.globalCompositeOperation = 'destination-over'\n    this.ctx.drawImage(img[1].img,  pos.x, pos.y, img[1].width, img[1].height) //Face body\n    this.ctx.translate(  pos.translateX, pos.translateY); // Translate \n    this.ctx.rotate(-140 * Math.PI/180)\n    this.ctx.translate( -pos.translateX,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[0].img,  pos.headX ,  pos.headY, img[0].width, img[0].height)  //Head draw in translated canves\n    this.ctx.setTransform(1,0,0,1,0,0);\n\n    this.ctx.translate(  pos.translateX + img[2].width / 2, pos.translateY); // Translate  \n    this.ctx.scale(data.scale, data.scale); //Scales book\n    this.ctx.translate( -pos.translateX - img[2].width / 2 ,-pos.translateY ); // Translate back for\n    this.ctx.drawImage(img[2].img, data.bookX, data.bookY, img[2].width, img[2].height) //book image\n    this.ctx.setTransform(1,0,0,1,0,0);\n};\n\nTechnologies.prototype.drawBody = function(data, pos ){\n    var img = this.bodyData\n\n    this.ctx.drawImage(img[1].img,  pos.x, pos.y, img[1].width, img[1].height) //Face body\n    this.ctx.translate(  pos.translateX, pos.translateY); // Translate \n    this.ctx.rotate(-140 * Math.PI/180)\n    this.ctx.translate( -pos.translateX,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[0].img,  pos.headX ,  pos.headY, img[0].width, img[0].height)  //Head draw in translated canves\n    this.ctx.setTransform(1,0,0,1,0,0);\n    this.ctx.translate(  pos.translateX + img[2].width / 2, pos.translateY); // Translate  \n    this.ctx.scale(1.05, 1.05);\n    this.ctx.translate( -pos.translateX - img[2].width / 2 ,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[2].img, data.bookX, data.bookY, img[2].width, img[2].height) //book image\n    this.ctx.setTransform(1,0,0,1,0,0);\n};\n\nTechnologies.prototype.drawIcons = function(spr){\n    this.ctx.setTransform(1,0,0,1, spr.X, spr.Y);\n    this.ctx.rotate(spr.turn * Math.PI/180)\n    this.ctx.drawImage(spr.img,-spr.width/2, -spr.height/2, spr.width, spr.height );\n    this.ctx.setTransform(1,0,0,1,0,0)\n};\n\nTechnologies.prototype.draw = function(timestamp){\n    if(!this.toggle) return\n    var width = this.width < 970  || this.height < 800\n    var img = this.bodyData\n    var data = this.data;\n    var pos = data.addBodyData();\n    \n  \n    if(!this.start)\n        this.start = timestamp\n        var runtime = timestamp - this.start\n        var progress = Math.min(runtime / 1000, 1)\n\n        if(progress < 1 && data.j <= 1){\n      \n            if(width){\n                //Updates x loactions and y location of book\n                data.bookX = ((pos.translateX)-40) - (0)\n                data.bookY = ((pos.translateY)-110) - (60*progress);\n            }else{\n                //Updates x loactions and y location of book\n                data.bookX = ((pos.translateX)-60) - (0);\n                data.bookY = ((pos.translateY)-180) - (60*progress);\n                \n            }\n            //Rotate head\n            if(data.j === 0){\n\n                var rotate = data.rotate*progress;\n                this.rotateHead(rotate,pos)\n            }\n            //PUsh up book\n            if(data.j === 1){\n\n                data.scale = .5 + (.55 * progress)\n                this.drawBook(data,pos)\n            }\n        }else{\n\n            //Draw Icons\n            if(data.j === 2){\n                this.ctx.setTransform(1,0,0,1,0,0);\n                this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height)\n                this.drawBody(data, pos)\n\n                var sprites = this.sprites.length\n               \n                for(var i = 0; i < sprites; i++ ){\n                    \n                    var spr = this.sprites[i]\n                    \n                    if(i <= this.j){\n                \n                        spr.staticSpeed++\n                    \n                        if(!spr.start) spr.start = timestamp\n                        var run = timestamp - spr.start\n                        var prog = run / spr.speed\n    \n                        if(i%2){\n                            //left up\n                            spr.X = spr.x - (spr.endX * prog)\n                            spr.Y = spr.y - (spr.endY * prog)\n                            spr.turn = -spr.rotate * prog\n            \n                        }else{\n                            //right up;\n                            spr.X = spr.x + (spr.endX * prog)\n                            spr.Y = spr.y - (spr.endY * prog)\n                            spr.turn = spr.rotate * prog\n                        } \n\n                        spr.totalX = spr.X\n                        spr.totalY = spr.Y\n            \n                        if( (spr.totalX+spr.width) <= 0 || (spr.totalY+spr.height) <= 0 || spr.totalX > this.width+spr.width) {\n                            \n                            //Resets values, for same icon to run again\n                            this.sprites[i].start = 0\n                        }\n                        this.drawIcons(spr)\n                        if(spr.staticSpeed === spr.timing) this.j++\n                    }\n                }\n            }else{\n                this.start = 0\n                data.j++\n            }\n        }\n        requestAnimationFrame(this.draw.bind(this))\n};\n\n\nTechnologies.prototype.loadImages = function(){\n    var $this = this;\n    var counter = 0;\n    var loadedImages = 0;\n    var imgs = [];\n    \n    this.loopImgs().forEach(function(image, i){\n        counter++;\n        var img = new Image()\n\n        img.onload = function(){\n\n            //Width or height doesn't exist updates 0 for it\n            imgs.push({img: this, i, width: image.width , height: image.height })\n\n            if(++loadedImages >= counter){     \n                imgs.sort(function(a,b){\n                    return a.i - b.i\n                })\n                //When Icons load full body image gets added\n                $this.ctx.drawImage(imgs[3].img, ($this.width/2) - imgs[1].width / 2.2, ($this.height) - imgs[3].height, imgs[3].width, imgs[3].height) //Full-body image\n        \n                var bodyImgs = imgs.splice(0,4)\n                \n                $this.bodyData = bodyImgs\n                $this.icons = imgs\n            \n                //Icon data\n                $this.addData(imgs.length)\n            }\n        }\n        img.src = image.src;\n    })\n};\n\n\nfunction SvgPage(){\n    var svgCloseButton = document.getElementsByClassName('close-btn svg-button')[0]\n    var svgCircle = document.getElementsByClassName('svg-circle')[0]\n    var toggle, btnOpen;\n    var hovermap = hoverMap()\n    \n    var removeGooey = function(e){\n        setTimeout( () => {\n            hovermap[1](e)\n        },1400)\n        \n        //     var dist = hovermap[1](e)[0]; // Position distance of show-icon gooey\n        //     hovermap[0]( dist, true )  // handler(e) function\n\n    }\n    this.start;\n    //Page animated down removes circle to be animated again\n    this.animateEnd = function(e){\n         _('interactive-container').style.pointerEvents = 'auto' \n\n        if(toggle){\n            //Safari only\n            _('svg-page').style.visibility = 'hidden'\n            svgCircle.classList.remove('circle-animate');\n\n            _(btnOpen)[0].style.display = 'none'\n            document.querySelector('g.'+btnOpen+' .items').classList.remove('items-active')\n            \n            toggle = false\n        }   \n    }\n\n    this.animateCircle = function(timestamp, elem){\n        \n        if(!this.start) this.start = timestamp;\n\n            var runtime = timestamp - this.start;\n            var progress = Math.min(runtime / this.speed, 1)\n            isFirefox ? svgCircle.setAttribute('r', 1500 * progress) : svgCircle.style.transform = 'scale('+ (0 + (1*progress) )+ ')'\n       \n        if(progress < 1) {\n            requestAnimationFrame(function(timestamp){\n                this.animateCircle(timestamp, elem)\n            }.bind(this))\n        }else {\n            //Canvas fades in after page is animated open\n            document.querySelector('g.'+elem+' .items').classList.add('items-active')\n            document.getElementsByClassName(elem)[1].parentElement.classList.add('showCanvas')\n            this.start = null;\n        } \n    }\n    var closeButtonShow = function(num){\n        var opposite = !num ? -56 : 0\n         _('x-circle').style.transform = 'translateX('+ num +'px)'\n         _('line')[0].style.transform = 'translateX('+ opposite +'px) rotate(-45deg)'\n         _('line')[1].style.transform = 'translateX('+ opposite +'px) rotate(45deg)'\n    }\n\n    // Open page function\n    this.openModals = function(e){\n        \n        try{\n            btnOpen = e.target.id\n        }catch(err){\n            btnOpen = e\n        }\n  \n        _('interactive-container').style.pointerEvents = 'none' \n        event = e;\n        _(btnOpen)[0].style.display = 'block'\n        closeButtonShow(-56)\n        //Google 'Do Hyeon' font bug, function has to be ran again in view\n        if(btnOpen === 'photo') slotMachine()\n        //Throbbing Finger image icon\n        if(btnOpen === 'design') document.getElementById('finger').classList.add('finger-scale')\n\n        if(isSafari){\n\n            toggle = true;\n             _('svg-page').style.visibility = \"visible\"\n            svgCircle.classList.add('circle-animate')\n\n            svgCircle.onanimationend = function(){\n      \n                document.querySelector('g.'+btnOpen+' .items').classList.add('items-active')\n                document.getElementsByClassName(btnOpen)[1].parentElement.classList.add('showCanvas')\n\n            }\n\n            //Closes the page animated down\n            svgCloseButton.addEventListener('click', function(){\n                toggle = true;\n\n                //Automatically stops canvas \n                Stretch.prototype.toggle = false\n                slotMachine.prototype.toggle = false\n                StarryNight.prototype.toggle = false\n                Technologies.prototype.toggle = false\n              \n                //Canvas / Items fades out\n                document.getElementsByClassName(btnOpen)[1].parentElement.classList.remove('showCanvas')\n                 \n            })\n        }else{\n            toggle = false;\n\n            requestAnimationFrame(function(timestamp){\n                this.speed = 600;\n                this.animateCircle(timestamp, btnOpen)\n              \n            }.bind(this))\n\n            svgCloseButton.addEventListener('click', function(e){\n                closeButtonShow(0)\n                Stretch.prototype.toggle = false\n                slotMachine.prototype.toggle = false\n                StarryNight.prototype.toggle = false\n                Technologies.prototype.toggle = false\n                document.getElementsByClassName(btnOpen)[1].parentElement.classList.remove('showCanvas')\n\n                setTimeout(function(){\n                    isFirefox ? _('svg-circle').setAttribute('r', 0) : _('svg-circle').style.transform = 'scale(0)'\n             \n                    //Current SVG element hides\n                    document.getElementsByClassName(btnOpen)[0].style.display = 'none'\n                    document.querySelector('g.'+btnOpen+' .items').classList.remove('showCanvas')\n                    // document.getElementsByClassName(btnOpen)[1].parentElement.classList.remove('showCanvas')\n                },1100)\n            });\n        }\n    }.bind(this);\n\n    var popUpCards = function(){\n        let open_modals = this.openModals\n\n        let popUpcards = _('card-popups')\n        for(let cards of popUpcards){\n            cards.addEventListener('click', function(e){\n                removeGooey(e)\n                open_modals(this.attributes[3].value)\n            })\n        }\n    }.bind(this)\n    if(wW < 768) popUpCards()\n    \n    _('circle-thumbnails').addEventListener('click', function(e){\n        if(wW < 768){\n            hovermap[1](e)\n        }else{\n            removeGooey(e)\n            this.openModals(e)\n        }\n        \n         \n    }.bind(this));\n};\n//Add to window object to be used for html page onend function\nwindow.svgPage = new SvgPage();\n\nfunction getPos(ele){\n        \n    var elemRect = ele.getBoundingClientRect();\n    var mainSvg = document.getElementsByClassName('svg-page')[0].getBoundingClientRect();\n    var elemLeft = (mainSvg.width - ( parseInt(ele.getAttribute('width') ) || elemRect.width) ) / 2\n\n    return {\n        width: elemRect.width,\n        mainSvg: mainSvg,\n        left: elemRect.left,\n        top: elemRect.top,\n        height: elemRect.height,\n        //Places image's property left to the center of it's container (center of page)\n        centeredLeft: elemLeft\n    }\n};\nfunction adjustButton(){\n    _('line')[0].setAttribute('width', '35')\n    _('line')[0].setAttribute('x', '10.5')\n    _('line')[0].setAttribute('y', '25')\n    _('line')[1].setAttribute('width', '35')\n    _('line')[1].setAttribute('x', '10.5')\n    _('line')[1].setAttribute('y', '25')\n    _('x-circle').setAttribute('r', '22')\n}\n\n//Different screen sizing , elements adjust to it\nfunction adjustElements(){\n    var pathD768 = \"M565.1,0v900H0c0,0,0-75.3,0-192.4c0-211.7,0-303.7,0-533.1C0,50.5,0,0,0,0H565.1z\";\n    var pathD400 = \"M390,800H0c0,0,0-87.3,0-161.3S0,84,0,47.3S0,0,0,0h390V800z\";\n    var smallSplines = \".42 0 1 1;.42 0 1 1;.42 0 1 1;.42 0 1 1;\"\n    var smallKeyTimes = \"0; 0.20; 0.45; 1\"\n    var svg = document.getElementsByClassName('svg-page')[0]\n    \n    //Sets sizing for opening closing svg-page wave\n    if(wH < 840 && wW){\n        var svgWidth = wW < 500 ? wW - 20 : wW - 50;\n        var svgHeight = wH < 680 ? wH - 15 : wH - 50;\n    }else{\n        var svgWidth = wW < 500 ? wW - 20 : wW - 50;\n        var svgHeight = 840\n    }\n\n    if(wW <= 615){\n        adjustButton()\n         document.getElementById('path').setAttribute('d', pathD768)\n        _('path').setAttribute('values', animate768)\n        _('path').setAttribute('keyTimes', smallKeyTimes)\n        _('path').setAttribute('keySplines', smallSplines)\n    }\n\n    if(wW <= 400){\n        document.getElementById('path').setAttribute('d', pathD400)\n        _('path').setAttribute('values', animate400)\n    }\n\n    if(wW >= 970 && wH){\n\n        svg.setAttribute(\"height\", svgHeight)\n            \n    }else {\n        if(wH > 840){\n            svg.setAttribute(\"viewBox\", \"0 0 \"+ \" \"+svgWidth + \" \" + svgHeight); \n            svg.setAttribute(\"width\", svgWidth)\n            svg.setAttribute(\"height\", svgHeight)\n\n        }\n        if(wH < 840){ \n            svg.setAttribute(\"viewBox\", \"0 0 \"+ \" \"+svgWidth + \" \" + svgHeight); \n            svg.setAttribute(\"width\", svgWidth)\n            svg.setAttribute(\"height\", svgHeight)\n        }\n    }\n\n    if(wW && wH){\n       \n        //Add to element when more canvases are added to HTML\n        var elementG = document.querySelectorAll('g.photo, g.developer, g.design, g.animations, g.technologies')\n\n        elementG.forEach(function(el, i){\n            var groupName = el.classList[0];\n      \n            if(groupName === 'photo'){\n \n                document.getElementById('canvas-area').setAttribute('transform','translate(157, 0)');\n              \n                Array.prototype.forEach.call(el.children,function(elem, i){\n                   \n                    //Camera SVG\n                    if(i === 0){\n                        \n                        let newHeight = newSize('width', 700, elem).height\n                 \n                        elem.setAttribute('width', 700)\n                        elem.setAttribute('height', newHeight)\n\n                        let pos = getPos( elem );\n                        var setAttributeY = pos.mainSvg.height - newHeight - 5\n             \n                        elem.setAttribute('x', pos.centeredLeft)\n                        elem.setAttribute('y', setAttributeY)\n\n                        if(wW <= 500 || wH <= 800){\n                      \n                            elem.style.visibility = 'hidden'\n                        } \n                    }\n                    //ForeignObject holds canvas\n                    if(i === 2){\n                        \n                        if(wW < 970){\n                            var canvasArea = document.getElementById('canvas-area')\n                          \n                            let pos = getPos( canvasArea )\n                        \n                            if(wH < 640 && wW < 800){\n\n                                elem.setAttribute('y', 240)\n                         \n                            }else{\n                            \n                                //firefox\n                                !isFirefox ? elem.setAttribute('y', svg.getAttribute('height') - pos.height - 16) : (svg.getAttribute('width') / 2) - 397.6 / 2\n                                 elem.setAttribute('y', svg.getAttribute('height') - 397.6 - 16)\n                                 // elem.setAttribute('y', 250)\n                            }\n                                \n                            elem.setAttribute('width', 360)\n                            elem.setAttribute('height', 360)\n                            !isFirefox ? elem.setAttribute('x', pos.left -6) : elem.setAttribute('x', (svg.getAttribute('width') / 2) - 397.6 / 2 + 20 )\n                            // elem.setAttribute('y', svg.getAttribute('height') - pos.height - 16)\n                        }else {\n                            var posHeight = getPos( elem )\n                            let width = parseInt( elem.getAttribute('width') )\n                            var elemLeft = (posHeight.mainSvg.width - width) - 15;\n                   \n                            elem.setAttribute('y', 60)\n                            elem.setAttribute('x', elemLeft)\n                        }\n\n                        if(wW <= 500) {\n                            let thisPos = getPos( elem )\n                            elem.setAttribute('x', thisPos.centeredLeft)\n                            \n                            if(wH < 620){\n                                elem.setAttribute('y', 200)\n                            } \n                        }\n                    }\n                    //Items\n                    if(i === 1){\n                        var pos = getPos( document.getElementById('canvas-area') )\n                    \n                        elem.childNodes[1].setAttribute('width', 400)\n                        elem.childNodes[1].setAttribute('height', 235)  \n                        elem.childNodes[1].setAttribute('x', 20)\n                        if(wW < 970){\n                            elem.childNodes[1].setAttribute('y', 0)\n                        }else{\n                            elem.childNodes[1].setAttribute('y', 100)\n                        }\n                        if(window.innerWidth <= 500) {\n                            elem.childNodes[1].setAttribute('width', 335)\n                            elem.childNodes[1].setAttribute('x', 10)\n                            var thisPos = getPos( elem.childNodes[1] )\n                        }\n                    }\n                })\n            };\n            if(groupName === 'developer'){\n                Array.prototype.forEach.call(el.children, function(elem, i){\n             \n                    //foreignObject holds canvas\n                    if(i === 1){\n                        if(wW < 970){\n                            elem.setAttribute('width',400);\n                            elem.setAttribute('height', 375);\n                        }\n                        var pos = getPos(el.children[0])\n                        elem.setAttribute('y', 200)\n                         \n                        if(window.innerWidth <= 850){\n                            if(wH < 690){\n                                elem.setAttribute('y', 25 )\n                                elem.setAttribute('x', 5 )\n                            }else{\n                                elem.setAttribute('x', 50)\n                                elem.setAttribute('y', 75)\n                            }\n                        }\n                        if(window.innerWidth < 505){\n                            if(wH < 690){\n                                elem.setAttribute('y', 50 )\n                                elem.setAttribute('x', 0 )\n                            }\n                            elem.childNodes[1].setAttribute('width',360);\n                            elem.setAttribute('height', 375);\n                   \n                            var thisPos = getPos(elem.childNodes[1])\n                            elem.setAttribute('y', 50 )\n                            elem.setAttribute('x', 5 )\n                        } \n                    }\n                    //items\n                    if(i === 0){\n                        if(window.innerWidth < 505){\n                            elem.childNodes[1].setAttribute('x', 10)\n                            elem.childNodes[1].setAttribute('y', 424)\n                            elem.childNodes[1].setAttribute('width', 370)\n                        } \n                        if(wW > 505 && wW < 850 ){\n                            if(wH < 690){\n                                elem.childNodes[1].setAttribute('y', 425)\n                                elem.childNodes[1].setAttribute('width', 370)\n\n                            }else elem.childNodes[1].setAttribute('y', 460)\n                        }\n                    } \n                })\n            }\n            if(groupName === 'design'){\n                var items = el.children[0].children[0]\n                var canvasArea = el.children[1]\n       \n                if(wH && wW > 970){\n\n                    if( canvasArea ){\n                        if(wW > 1200){\n                            canvasArea.setAttribute('width', 580)\n                            canvasArea.setAttribute('height', 580)\n                        }\n                        canvasArea.setAttribute('y', 80)\n                    }\n                    if( items ){\n                        items.setAttribute('y', 200)\n                    }\n         \n                }else if( wW > 750 && wW < 970){\n             \n                    if( canvasArea ){\n                        //For Safari overflow not working\n                        wW < 810 ? canvasArea.setAttribute('x', 210) : canvasArea.setAttribute('x', 255)\n                        canvasArea.setAttribute('y', 160)\n                        if(wH < 703) {\n                            //For Safari overflow not working\n                            canvasArea.setAttribute('height', 450)\n                        }\n                    }\n                    if( items ){\n                        items.setAttribute('y', 0)\n                    }\n                }else {\n                    items.setAttribute('y', 0)\n                    items.setAttribute('x', 10)\n                    wH < 700 ? items.setAttribute('height', 250)  :  items.setAttribute('height', 260)\n                    items.setAttribute('width', 340)\n\n                    var height = items.getAttribute('height')\n                    canvasArea.setAttribute('y', height)\n\n                    wW < 600 ? canvasArea.setAttribute('width', 400) : canvasArea.setAttribute('width', 500)\n                    wW < 600 ? canvasArea.setAttribute('height', 400) : canvasArea.setAttribute('height', 500)\n\n                    var canvasPos = getPos(canvasArea)\n                    canvasArea.setAttribute('x', canvasPos.centeredLeft)\n                    //For safari, so photo doesn't show the overflow\n                    canvasArea.setAttribute('height', svg.getAttribute('height') - items.getAttribute('height'))\n                } \n            }\n            if(groupName === 'animations'){\n                var items = el.children[0].children[0]\n                var canvasArea = el.children[1]\n                var svgPageHeight = svg.getAttribute('height')\n\n                if(wH && wW > 970){\n                    canvasArea.setAttribute('height', svgPageHeight)\n    \n                }\n                if(wW < 768){\n                    let bottom = ( svg.getAttribute('height') - 310 ) / 2\n                    items.setAttribute('x', 15)\n                    items.setAttribute('y', bottom)\n                    items.setAttribute('height', 320)\n                    items.setAttribute('width', 370)\n                }else{\n                    canvasArea.setAttribute('height', svgPageHeight)\n                }\n            }\n            if(groupName === 'technologies'){\n                var items = el.children[0].children[0]\n                var canvasArea = el.children[1]\n\n                if(wW < 650 && wH < 655){\n                    var bottom = ( svg.getAttribute('height') - 370 ) / 2\n                    items.setAttribute('y', bottom)\n                    items.setAttribute('x', 5)\n                }\n            }\n        })\n    }  \n};\n\n\n\n\n\n\nif(wW < 970 || wH < 800){\n    adjustElements();\n}else {\n    //Adds margin between full height threshhold for svg-page\n    if(wH < 840){\n       _('svg-page').setAttribute('height', wH - 40) \n    }\n    if(wW < 1000){\n        _('svg-page').setAttribute('width', wW - 40) \n    }\n   var designCanvas = document.querySelector('.design .item-canvas')\n   designCanvas.setAttribute('width', 580)\n   designCanvas.setAttribute('height', 580)\n}\n\n//Moves close button to right of svg-page\nfunction placeCloseButton(){\n    \n    var btnPos = getPos( _('close-btn') )\n    _('close-btn').style.transform = 'translateX('+ (btnPos.mainSvg.width - 56 )+'px)'\n}\nplaceCloseButton();\n\n\n\nfunction hoverMap(){\n    var btnWrap = _('button-wrap')\n    var dist;\n    var lastDist;\n    var currentPath; //Path to be removed when mouseout\n  \n    var mouseOut = function(dist){\n        // dist from opening popups to remove pointer\n        var pointerDist = typeof dist === 'number' ? dist : lastDist\n  \n        _('oval-pointer').style.transform = 'translate(-80px, 0px )'\n        \n        if(isFirefox){\n          \n            _('show-icon').style.transform = 'translate(-24px,' + pointerDist + 'px )' \n         \n        }else if(isSafari){\n\n             _('show-icon').style.transform = 'translate(-24px,' + pointerDist + 'px )'\n\n        }else{\n\n             _('show-icon').style.transform = 'translate(-22px,' + pointerDist + 'px )'\n\n        }  \n    };\n\n    if(wW > 768) btnWrap.onmouseover = handler;\n        \n    function handler(e){\n        dist = getDistance(e.target.className, e.target.id) \n\n        function getDistance(el,id) {\n            var totalDist = function(n){\n                return n * 37\n            }\n            var nodelist = _(el)\n            var elArray = [].slice.call(nodelist)\n         \n           for(var i = 0; i < elArray.length; i++){\n                if(elArray[i].id == id) return totalDist(i);\n           }\n        }\n       \n\n        function getPathElement(el, map_paths){\n            var newPathArray = []\n            var pathArray = [].slice.call( map_paths )\n            \n            //Puts elements in correct order\n            for(var i = pathArray.length -1; i >= 0; i--){\n                newPathArray.push(pathArray[i])\n            }\n \n            var target = document.getElementById(el)\n            var targetArray = [].slice.call( _(target.className) )  \n\n            for(var i = 0; i < targetArray.length; i++){\n               if(targetArray[i] === target) return newPathArray[i];\n            }\n        };\n\n        var animateGooey = function(){\n                \n            if( !_('show-icon').classList.contains('icon-transition') ){\n                \n                // transforms only up and down before out.\n                _('show-icon').style.transform = 'translate(-22px,' + dist + 'px )'\n              \n                setTimeout(function(){\n                    _('show-icon').classList.add('icon-transition')\n                    _('show-icon').style.transform = 'translate(-15px,' + dist + 'px )'\n                    _('oval-pointer').style.transform = 'translate(0px, 0px )'\n                 \n                },100)\n            }else{\n                _('show-icon').style.transform = 'translate(-15px,' + dist + 'px )'\n                _('oval-pointer').style.transform = 'translate(0px, 0px )'\n            }\n        }\n\n        var animatePathLines = function(path, map_paths){\n            var classId = path.id.replace(/-sm$/ig, \"\");\n\n            for (var i = 0; i < map_paths.length; i++) {\n                 //Removes all classes before target element class gets added\n                if(map_paths[i].classList.length === 2){\n\n                    var className = map_paths[i].classList[1]\n                    map_paths[i].classList.remove(className)\n                }\n            }\n            path.classList.add(classId)\n            return classId;\n        }\n\n        var removeCardsClass = function(target){\n            \n            const card = _('card-icon')\n            let length = card.length\n\n            while(length--){\n                let styleTransform = +card[length].style.transform.replace(/([^-\\d])/ig, '')\n                if(styleTransform !== 0) card[length].style.transform = 'translateY(0px)'\n\n            }\n        }\n        var animateCardsUp = function(path){\n            \n            const card = _('card-icon')\n            let regEx = /-.+$/ig\n            let target = path.id.replace(regEx, '')\n            let length = card.length\n\n            //If target also has 2 classList, remove that class and add p0opupcard\n            while(length--){\n                let cardParent = card[length].parentNode\n                let styleTransform = +card[length].style.transform.replace(/([^-\\d])/ig, '')\n\n                if(target === cardParent.id.replace(regEx, '') ) {\n                    // card[length].style.transform = 'translateY(-140px)'\n   \n                        card[length].style.transform = 'translateY(-140px)'\n                   \n                }else if(styleTransform !== 0){\n                    card[length].style.transform = 'translateY(0px)'\n                }\n            }\n        }\n\n        function AnimateCircles(path, map_paths){\n                     \n            var circles = document.querySelectorAll('#pulse-circles circle')\n            var paths = []\n            //Removes all classes before target elements classes gets added\n            for(let cir of circles){\n                if(cir.classList.length > 1){\n                    cir.classList.remove(cir.classList[1])\n                } \n            }\n            //Stops before error when not passing arguments from click handler\n            if(!arguments.length) return;\n\n            //Pairs circles and returns the pairs so classes can be added\n            var pairCircles = function(){\n                var cir = []\n                for (var j = 0; j < circles.length; j+=2) {\n                    \n                    cir.push( [circles[j], circles[j+1]] )\n                }\n                return cir\n            }\n           \n            for (var i = 0; i < map_paths.length; i++) {\n                   \n                paths.unshift( map_paths[i].id)\n            }\n               \n            var index = paths.indexOf(path.id)\n            var cirPairs = pairCircles()[index]\n\n            cirPairs[0].classList.add('middle-pulse')\n            cirPairs[1].classList.add('ring-pulse') \n        };\n\n        var removeCircles = function(string){\n            var activeCircles = document.querySelectorAll('.middle-pulse, .ring-pulse')\n\n            for(let cir of activeCircles){\n          \n                cir.addEventListener('animationend', (e) => {\n                   \n                    e.target.classList.remove(e.target.classList[1])\n                       \n                })\n            }\n        }\n        function removeAll(string){\n            removeCircles(string)\n            mouseOut(dist)\n            removeCardsClass()\n            try{\n                //Path to be removed when mouseout\n                document.getElementById(currentPath).classList.remove(currentPath)\n            }catch(err){\n\n            }\n        }\n        function handleMap(e){\n           let target = e.target.classList.value\n     \n           //If click comes from opening svg modals\n            if(target === 'card-color-st39' || wW > 768 && e.type === 'click'){\n\n                return  removeAll(path)\n                        \n            }\n            // mouse over\n            if(e.target.id){\n                //Start the path animated lines\n                var map_paths = wW > 768 ? _('map-paths') : _('map-paths-sm')\n                var path = getPathElement(e.target.id, map_paths)\n\n                //Used to update translate for button location\n                lastDist = dist\n            \n                animateGooey()\n                currentPath = animatePathLines(path, map_paths)\n                AnimateCircles(path, map_paths)\n                animateCardsUp(path)\n                     \n                //Only runs after mouseover elements run first, then initiated. \n                _('interactive-container').onmouseover = function(e) {\n                    if(e.target.className !== 'open-canvas-page' && wW > 768){\n \n                        removeAll()\n                    }\n                }\n            }\n        }\n      \n        if (e.type == 'mouseover' && wW > 768) {\n            handleMap(e)\n        }else if(e.type === 'click'){\n    \n            handleMap(e)\n        }\n        return [dist]\n    }\n    return [mouseOut, handler] // To be able to use mouseOut function and handler function that returns dist to use for mouseOut Func\n};\n\nvar toggleStars = {\n    toggle: false\n}\n\nvar robotSection = function(e){\n\n    const stars = []\n    var animateStars = function(){\n            \n        let canvas = document.getElementById('star-canvas');\n        let ctx = canvas.getContext('2d');\n        let width = canvas.width = window.innerWidth;\n        let height = canvas.height = window.innerHeight;\n\n        let randomWidth = () => {\n            //max and min\n            return Math.random() * (width/2 - width/9) + width/9\n        }\n\n        var NightStars = function(){\n            \n            let randomStart = randomWidth()\n\n            this.duration = 2000 //used to delay stars\n            this.radius = 13 + Math.random() * 5 //size of stars\n\n            this.i = 0 //x and y speed\n            this.k = 0 //opacity speed\n\n            this.start = {\n                y: Math.random() * height\n            }\n\n            this.Flicker = (increntment) => {\n                return (Math.cos(increntment - Math.PI/180) * .2 ) \n            }\n\n            this.radSize = (increntment) => {\n                return (Math.sin(increntment - Math.PI/180) * 7)\n            }\n            \n            this.x = (increntment, starSize) => {\n                //full screen animate change this.randomWidth back to width / 2\n                return Math.cos(increntment - Math.PI/180) * (randomStart + starSize )\n            }\n\n            this.y = (increntment) => {\n                return Math.sin(-increntment - Math.PI/180) * 160\n            }\n\n            this.draw = (ctx) => {\n                let s = this;\n                \n                let opacSpeed = s.k += .3\n                let speed = s.i += s.randomSpeed\n\n                let radSize = s.radSize(speed)\n                let flicker = s.Flicker(opacSpeed)\n\n                let y = s.y(speed)\n                let x = s.x(speed, s.radius)\n              \n                ctx.translate(width/2, s.start.y)\n                var gradient = ctx.createRadialGradient(x ,y ,.4, x ,y ,14);\n                \n                gradient.addColorStop(0, 'LightSkyBlue');\n                gradient.addColorStop(.9, 'DodgerBlue');\n                gradient.addColorStop(1, 'RoyalBlue');\n\n                ctx.beginPath()\n                ctx.arc(x,  y, (s.radius - radSize) - flicker, 0, Math.PI*2)\n                ctx.fillStyle = gradient\n                ctx.fill()\n        \n                ctx.translate(-width/2, - s.start.y)\n            }\n        }\n        \n        \n        function createStars(starCount,update){\n            let delay = 0\n            \n            for (let i = 0; i < starCount; i++) {\n                delay += Math.random() * width\n\n                let nightStars = new NightStars()\n                nightStars.randomSpeed = .001 + Math.random() * .006\n                nightStars.startTime = Date.now()\n                nightStars.duration += delay   //sets a random delay for stars to start\n                stars.push(nightStars)\n            }\n            update()\n        }\n        \n        function update(){\n            //Stopping stars\n            if(toggleStars.toggle){\n                stars.length = 0\n                ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n                return;\n            }\n            \n            ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n            \n            let all = stars.length\n            for (let i = 0; i < all; i++) {\n                // let percent = Math.min( ( Date.now() - stars[i].startTime ) / stars[i].duration, 1 )  //Delay to start stars\n                let percent = Math.min( ( Date.now() - stars[i].startTime ), 1 )  // No delay\n\n                if(percent === 1){\n                    stars[i].draw(ctx)\n                }\n            }\n            requestAnimationFrame(update)\n        }\n\n        return {\n            createStars,\n            update\n        }\n    };\n    \n\n    var updateText = (function(){\n \n        var toggle = true\n        var textField = _('text-field')\n\n        function changeToggle(boolean){\n            toggle = boolean\n        }\n        return {\n            toggleFalse: function(){\n                changeToggle(false)\n            },\n            updateImgText: function(img){\n\n                changeToggle(true)\n                \n                var imgText = img.getAttribute('data-target')\n                var textLength = imgText.length\n\n                for(var i = 0; i < textLength; i++){\n\n                    (function(i){\n                        setTimeout(function(){\n\n                            if(!toggle) return\n                           \n                            textField.textContent += imgText[i]\n                          \n                        },100 * i)\n                    })(i);  \n                }\n            }\n        }\n    })();\n    \n\n    function electricBox(){\n        var randomCir = [0,1,2,3,4,5]\n\n        function getRandom(num){\n            return Math.floor(Math.random() * Math.floor(num));\n        }\n        function findNum(item){\n            \n            var newNum = randomCir.splice(item,1)\n            \n            _('robot-st34')[newNum].classList.add('blink')\n            if(randomCir.length){\n               relay(randomCir)\n            }\n        }\n        function relay(el){\n            window.setTimeout(function(){\n                var item = getRandom(el.length-1)\n                findNum(item)\n            },80)\n        }\n        relay(randomCir)\n    };\n\n    function checkForClasses(){\n        var circles = _('robot-st34').length\n       \n        // Add blinking light classes\n        for (var i = 0; i < circles; i++) {\n            if( _('robot-st34')[i].classList.contains('blink') ){\n\n                _('robot-st34')[i].classList.remove('blink')\n                \n            }\n        }\n        electricBox()\n    };\n\n    // Add electricity for robot box stomach\n    function addElectricity(){\n        var pathLength = _('electric-path').length\n        for (var i = 0; i < pathLength; i++) {\n            _('electric-path')[i].style.strokeDasharray = 20\n            _('electric-path')[i].style.strokeDashoffset = 280\n        }\n        var start = 0;\n\n        function draw(timestamp){\n            if(!start) start = timestamp\n            var runtime = timestamp - start\n            var progress = Math.min(runtime / 1200, 1)\n          \n            for (var i = 0; i < pathLength; i++) {\n                _('electric-path')[i].style.strokeDashoffset = 280 + (280 * progress)\n            }\n            \n            if(progress < 1){\n                requestAnimationFrame(draw)\n            }else{\n                for (var i = 0; i < pathLength; i++) {\n                    _('electric-path')[i].setAttribute('style', '')\n                }\n                return;\n            }\n        }\n        requestAnimationFrame(draw)\n    };\n    \n\n    /** Outter function scope variables **/\n    var designImages = document.getElementsByClassName('designImages');\n    var img_container = document.getElementsByClassName('image-container')[0];\n\n    var animateSlider = {\n        target: null,\n        partialDist: 0,\n        j: 0,\n        dist: 0,\n        start: 0,\n        images: [],\n        imgStart: 0,\n        newStart: function(num){\n\n            return parseInt( this.images[num].style.transform.replace(/^([\\w]*)\\(|(px.*)$/ig, '') )\n\n        },\n        containerWidth: function(){\n            return parseInt( img_container.style.width.replace(/px/ig, '') )\n        },\n        cloneImage: function(img){\n            const clonedImg = img.cloneNode(true)\n            clonedImg.className = ''\n            clonedImg.removeAttribute('style')\n            imgInlarge.checkForDuplicates('designVisible')\n            imgInlarge.moveElement(clonedImg, 'designVisible')\n        },\n        draw: function(timestamp){\n            \n            if(!this.start) this.start = timestamp\n\n            var runtime = timestamp - this.start\n            var progress = Math.min(runtime / 600, 1)\n            \n            this.images[0].style.transform = 'translate('+ (this.imgStart - (this.dist*progress) )+'px, -50%)'\n           \n            if(progress === 1){\n                \n                //Second photo following the first to be animated automatically\n                if(this.j === 1) {\n                    \n                    //checks if left or right button click with a negative left or positive right and updates imgStart\n                    this.imgStart = this.dist < 0 ? -this.containerWidth() : this.containerWidth()\n                    this.dist = this.dist < 0 ? -this.containerWidth() : this.containerWidth()\n                \n                    this.start = 0\n                    var item = this.images.shift()\n                    this.images.push(item)\n                    this.j = 0\n                }else {\n                \n                    //User double clicks same button when 2nd image isn't finished it draws again\n                    if(this.imgStart !== this.dist ){\n                      \n                        this.draw()\n                        \n                    }else{\n                        //Stops typed text from running only when photo stops into place\n                        _('text-field').textContent = ''\n                        updateText.updateImgText(this.images[0]) //Starts the typed text function\n\n                        if ( _('button-inlarge').style.opacity !== '1' ){\n                \n                            _('button-inlarge').style.opacity = 1\n                        }\n\n                        this.cloneImage(this.images[0]) \n                    } \n                    return this.j++\n                }\n            }\n            requestAnimationFrame(animateSlider.draw.bind(this));\n        },\n        animateData: function(e){   \n            var target = this.target.innerText\n            var newStart = this.newStart(0)\n            this.partialDist = newStart\n\n            //If user clicks before image done animating, updates current location and starts again\n            if(newStart !== 0 && !isNaN(newStart)){\n                            \n                if(target === '<'){\n                    //If user double clicks same button right away\n                    if(newStart < 0){\n                        this.imgStart = newStart\n                        this.dist = this.containerWidth() + newStart\n                    }else{\n                        this.j = 0                  \n                        this.dist = newStart\n                        this.imgStart = newStart\n                    }\n                }\n                if(target === '>'){\n                    \n                    if(newStart < 0){\n                        this.j = 0\n                        this.imgStart = newStart\n                        this.dist = newStart\n                    //If user double clicks same button right away\n                    }else{\n                        this.imgStart = newStart\n                        this.dist = -this.containerWidth() + newStart\n                    }   \n                }\n                this.start = 0\n            }else{\n                this.start = 0\n\n                if(target === '<'){\n                    //first click starts image outside the head\n                    this.j >= 1 ? this.imgStart = 0 : this.imgStart = this.containerWidth()\n                    this.dist = this.containerWidth()\n                }else {\n                    //first click starts image outside the head\n                    this.j >= 1 ? this.imgStart = 0 : this.imgStart = -this.containerWidth()\n                    this.dist = -this.containerWidth()\n                }\n\n                this.draw()\n            }\n        },\n        // load images into array to be used for slider\n        loadImages: function(){\n            for (var i = 0; i < designImages.length; i++) {\n                var element = designImages[i];\n                this.images.push(element)\n                \n            }\n        }\n    };\n\n    // Keeps from resize event loading click handler\n    if(e.type !== 'resize' && e.type !== 'scroll'){\n        \n        _('btnContainer').addEventListener('click', function(e){\n            e.stopPropagation()\n            animateSlider.target = e.target\n            animateSlider.animateData(e)\n\n            checkForClasses()\n            addElectricity()\n            updateText.toggleFalse()\n            _('text-field').textContent = ''\n            \n        });\n    }\n    \n    return [animateSlider, animateStars] // To be used in the window.onload section\n};\n\n\nfunction DesignSlider() {\n    var img_container = document.getElementsByClassName('image-container')[0]\n    var img_container_rect = img_container.getBoundingClientRect()\n    this.ellipse = document.getElementsByClassName('clip-ellipse')[0]\n    this.rec = document.getElementsByClassName('screen-path')[0].getBoundingClientRect()\n    this.sectionContainer = document.getElementsByClassName('section-three-robot')[0].getBoundingClientRect()\n\n    var actualTop = this.rec.top - this.sectionContainer.top //when page not fully scrolled into view it's the actual top\n   \n    this.setEllipseAttributes = function(){\n        this.ellipse.setAttribute('rx', this.rec.width/2)\n        this.ellipse.setAttribute('ry', this.rec.height/2)\n        this.ellipse.setAttribute('cx', this.rec.left + this.rec.width/2 - 5)\n        this.ellipse.setAttribute('cy', actualTop + this.rec.height/2 )\n    }\n    this.setImgContainer = function(){\n        var container_Width = this.rec.width / 9 + this.rec.width\n        var img_containerY = actualTop - (img_container_rect.height - this.rec.height) / 2\n        img_container.style.transform = 'translate(-50%,' + img_containerY + 'px)'  //-48% to make up for 53% robot-svg offset\n        img_container.style.width = container_Width + 'px'\n    }\n    this.setButtonLocation = function(){\n\n        var addedWidth = window.innerWidth < 768 ? 70 : 200  //Distance bigger than robot head\n\n        var x =  ( window.innerWidth - (this.rec.width + addedWidth) ) / 2\n        var y = window.innerWidth > 768 ? actualTop + ( this.rec.height / 2 ) - 25 : this.rec.bottom - this.sectionContainer.top // - 25 for the btnContainer height / 2\n\n        _('btnContainer').style.width = this.rec.width + addedWidth +'px'\n        _('btnContainer').style.transform = 'translate('+ x + 'px,' + y + 'px)'\n    }\n    return function(){\n\n        return [this.setEllipseAttributes(),this.setImgContainer(),this.setButtonLocation()]\n\n    }.bind(this)\n}\n\nwindow.addEventListener('resize',function(e){\n\n    var updateRobot = robotSection(e)\n\n    var designSlider = new DesignSlider()\n    designSlider()  //updates canvas size\n    updateRobot[1]()  //updates button, image location , attributes of robot\n});\n\n// **** ASSEMBLY LINE SECTION ****\n\nclass AssemblyLine {\n    constructor(){\n        this.mainSVG = _('assembly-line-svg')\n        this.sliders = _('roller_unit')\n        this.codeContainers = _('code-container')\n    }\n    \n    getRect(el){\n        let rect = el.getBoundingClientRect()\n        let bBox = el.getBBox()\n        return {rect, bBox}\n    }\n    \n    getElemValue(pos) {\n        const [size] = /[1-9].*/.exec( this.mainSVG.getAttribute('viewBox') )\n        const regEx = /^(\\d{4})\\s(\\d{3})$/ig;\n        const values = []\n        values.length = 0  \n        let length = this.sliders.length;\n        const rollerUnit = this.sliders\n        const codeElements = this.codeContainers\n        for (let i = 0; i < length; i++) {\n            const rollerElem = rollerUnit[i]\n            const codeElem = codeElements[i]\n        \n            switch (pos) {\n                case 'container':\n                    return slidersContainer\n                case 'viewBoxWidth':\n                    return size.replace(regEx, '$1')\n                case 'viewBoxHeight':\n                    return size.replace(regEx, '$2')\n                case 'el':\n                    values.push(rollerElem)\n                    break;\n                case 'rectX':\n                    values.push( this.getRect( rollerElem ).rect.x ) // not in use\n                    break;\n                case 'codeBox.x':\n                    values.push( this.getRect( codeElem ).rect.x ) \n                    break;\n                case 'codebBox.x':            \n                    values.push( this.getRect( codeElem ).bBox.x ) \n                    break;\n                case 'bBoxX':            \n                    values.push( this.getRect( rollerElem ).bBox.x )// not in use\n                    break;\n                case 'y':\n                    values.push( this.getRect( rollerElem ).bBox.y )   \n                    break;\n                case 'width':\n                    values.push( this.getRect( rollerElem ).bBox.width )   \n                    break;\n                case 'height':\n                    values.push( this.getRect( rollerElem ).bBox.height )\n                    break; \n            }\n        }\n        return values\n    }\n};\n\nclass RollerUnit extends AssemblyLine {\n    constructor(){\n        super()\n        this.getRect = this.getRect\n        this.draw = this.draw.bind(this)\n        this.beginPos = []\n        this.dist = []\n        this.lessThan = ''\n        this.start = 0\n        this.time = 1000\n        this.current = {}\n        this.click = 0\n        this.beltClick = 0\n        this.foreinObjs = _('assembly-img-foreignObj')\n        this.foreinGroup = _('assembly-img-wrap')\n        this.belts = _('belt')\n    }\n\n    startPos(elem){\n        let arr = []\n        let el = elem\n        const length = el.length;\n        for (let i = 0; i < length; i++) {\n            if ( el[i].hasAttribute('style') ){\n                arr.push( parseInt ( el[i].style.transform.replace(/^([\\w]*)\\(([?-\\d].*)px\\)/ig, \"$2\") ) )\n            }else{\n                arr.push(0) \n            }  \n        }\n        return arr\n    }\n\n    min( start,actual = []){\n        let rect = Math.min(...start)\n        let dist = Math.min(...actual)\n        let index = start.indexOf(rect)\n        return {index,dist}         \n    }\n    max( start,actual ){\n        let rect = Math.max(...start)\n        let dist = Math.max(...actual)\n        let index = start.indexOf(rect)\n        return {index,dist}\n    }\n\n    getDistance(){\n        let width = this.getElemValue('width')[0]\n        let arr = []\n        let startingPoint = this.getElemValue('codeBox.x')\n        let actualDist = this.getElemValue('codebBox.x')\n    \n        const maxElement = this.max(startingPoint,actualDist)\n        const minElement = this.min(startingPoint,actualDist)\n\n        const moveEnd = (k) => {\n            let dist = this.left ? 431 : -431  // moveBeginning dist * 2    \n            arr.push({dist: dist, index: k, })\n        }\n\n        const moveBeginning = (k) => {\n            let dist = this.left ? (minElement.dist + width) : -(minElement.dist + width) \n            let rightPageStart = this.left ? actualDist.reverse()[k] + width : -actualDist[k] - width\n        \n            this.lessThan = k  //Updates the smallest distance\n            arr.push({dist: dist*2,index: k, rightPageStart: rightPageStart, pageRight: true})\n        }\n\n        for(let k = 0; k < 3; k++ ){\n    \n            if ( minElement.index === k ) {\n                this.right ? moveEnd(k) : moveBeginning(k)       \n                \n            }else if( maxElement.index === k ) {\n                this.right ? moveBeginning(k) :  moveEnd(k)\n\n            }else {\n                let dist = this.left ? 431 : -431  // moveBeginning dist * 2\n                arr.push({dist: dist, index: k})\n            }\n        }\n        arr.sort = (a,b) => a.place - b.place\n        return arr\n    }\n\n    // Add and remove foreignObjects into slider\n    foreinObjArr(){\n        // let length =  this.foreinObjs.length\n        let length =  this.foreinGroup.length\n        let arr = new Array(length)\n\n        // Puts image foreignobjects into array\n        while(length) {\n            length--;\n            arr[length] = this.foreinGroup[length];\n        }\n\n        let startingPoint = this.getElemValue('codeBox.x')\n        let index = this.min(startingPoint).index\n        \n        let add = arr.splice(3,1)\n        let removed = arr.splice(index,1)\n\n        let removedChild = removed[0].childNodes[1]\n        let addChild = add[0].childNodes[1]\n        arr.splice(index,0,add[0])\n        arr.push(removed[0])\n\n        //Add and remove just transforms first\n        let styleTransform =  removed[0].attributes[1]\n        removed[0].removeAttribute( styleTransform.name) \n        add[0].setAttribute(styleTransform.name, styleTransform.value)     \n\n        //Strips attributes of removed and add same attributes to added foreignobject\n        while( removedChild.attributes.length > 1){\n                \n            let attrName =  removedChild.attributes[1].name \n            let attrValue =  removedChild.attributes[1].value \n            \n            addChild.setAttribute(attrName, attrValue)\n            removedChild.removeAttribute( removedChild.attributes[1].name)\n        } \n        \n        this.foreinGroup = arr\n    }\n    \n    // Ran once when page reloads\n    positionForiegnObject(_this){\n        let sliders = this.codeContainers\n        let foreignObjects = this.foreinObjs\n        let length = sliders.length\n    \n        for (let i = 0; i < length; i++) {\n            \n            let slider_x = this.getRect(this.codeContainers[i]).bBox.x\n            let slider_y = this.getRect(this.codeContainers[i]).bBox.y\n            let slider_width = this.getRect(this.codeContainers[i]).bBox.width\n            let slider_height = this.getRect(this.codeContainers[i]).bBox.height\n    \n            foreignObjects[i].setAttribute('x', slider_x)\n            foreignObjects[i].setAttribute('y', slider_y)\n            foreignObjects[i].setAttribute('width', slider_width)\n            foreignObjects[i].setAttribute('height', slider_height)\n        }\n        //Inputs image into container\n        _this.targetElem()\n    }\n    \n    \n    moreThanHalf( dist, positiveCurrent, startDist ){\n        return dist - (startDist - positiveCurrent)\n    }\n    \n    lessThanHalf(current, dist, startDist){\n        let d = dist.dist < 0 ? dist.dist * -1 : dist.dist\n\n        if(startDist === 0 ){\n            if(dist.rightPageStart){\n                let diff = current - startDist \n                let totalDiff = d -  (current - startDist)\n                return diff + totalDiff\n            }\n            return d - current\n            \n        }else {\n            if(dist.rightPageStart){\n                let diff = current - startDist \n                let totalDiff = d -  Math.abs(current - startDist)\n                return diff + totalDiff\n            }  \n            let diff = d - Math.abs(current - startDist)\n            return diff\n        }\n    }\n    oppisiteDir(current, startDist){\n        if(startDist === 0){\n            return current\n        }else {\n            if(current > startDist){ // more than half\n                return current - startDist\n            }\n            return startDist - current   //less than half    \n        }\n    }\n    handleRightPageStart(d,rightPageStart, posCurrent, startDist){\n    \n        if(startDist < 0){\n            //more than half\n            if(d > posCurrent){  \n                let distance = posCurrent\n                return {distance, pageRight: false} \n            //less than half\n            }\n            let difference = (1141.2 - posCurrent) \n            let totalDif = d - (1141.2 - posCurrent)\n            let distance = difference + totalDif\n            return {distance, pageRight: true}\n        }else{\n            \n            //less than half only element with a rightPageStart of 1141.2\n            if(rightPageStart > 1160){ //1160\n                let difference = d / 2 - posCurrent\n                let totalDif = d -  difference\n                let distance = totalDif + difference\n                return {distance, pageRight: true}\n            //more than half\n            }else if(posCurrent < startDist ){ \n                let distance = startDist - posCurrent \n                return {distance, pageRight: false }\n            //less than half \n            }else{  \n                let diff = posCurrent - startDist \n                let totalDiff = d -  (posCurrent - startDist)\n                let distance = diff + totalDiff\n                return {distance, pageRight: true}\n            }\n        }\n    }\n    // ** RIGHT BUTTON IS NEGATIVE DIST, LEFT BUTTON IS POSITIVE DIST**\n    handleDoubleClick(current, dist, beginPos){\n        //Updates how many times back and forth before animation finishes\n        this.click ++\n\n        let currentDirection = Math.sign( this.currentDist[1].dist )\n        let distDirection = Math.sign( dist[1].dist )\n        \n        for(let i = 0; i < 3; i++){\n\n            //Middle dist not equal both negative or positives then use current dist\n            let dist_i = currentDirection !== distDirection ? this.currentDist[i] : dist[i]\n            let d = dist_i.dist < 0 ? dist_i.dist * -1 : dist_i.dist  //changed this\n            \n            //Starts off with positive variables\n            let rightPageStart = dist_i.rightPageStart < 0 ? dist_i.rightPageStart * -1 : dist_i.rightPageStart\n            let startDist = beginPos[i] < 0 ? beginPos[i] * -1 : beginPos[i]\n            let posCurrent = current[i] < 0 ? current[i] * -1 : current[i]\n\n            // When clicked opposite direction\n            if( currentDirection !== distDirection){\n            \n                if( rightPageStart ){\n                    let rightStart = this.right ? -rightPageStart : rightPageStart\n                    \n                    let cur = this.handleRightPageStart(d,rightPageStart, posCurrent, startDist, this.currentDist[i].index)\n                    let curDist = this.right ? -cur.distance : cur.distance\n                    let pageRight = cur.pageRight\n\n                    this.dist.push({dist: curDist, index: dist_i.index, rightPageStart: rightStart, pageRight: pageRight})\n                    this.beginPos.push(current[i])\n                }else{\n                    let distance = this.oppisiteDir( posCurrent, startDist)\n                    let dist = this.right && distance > 0 ? -distance : distance\n\n                    this.dist.push({dist: dist, index: dist_i.index, rightPageStart: dist_i.rightPageStart, pageRight: false})\n                    this.beginPos.push(current[i])\n                }      \n            //Clicked same direction\n            }else{\n                //After element starts from hidden part of page\n                if(( this.right && rightPageStart && current[i] < 0) || this.left && current[i] > 0 && rightPageStart  ){\n                    \n                    this.lessThan = dist_i.index //have to update rightPageStart again due to running this.getDistance() twice\n                    let distance = d / 2 - ( rightPageStart - posCurrent )  \n                    let PosOrNegDistance = this.right && distance > 0 ? distance * -1: distance\n\n                    this.dist.push({dist: PosOrNegDistance, index: dist_i.index, rightPageStart: dist_i.rightPageStart, pageRight: false})\n                    this.beginPos.push(current[i])\n                }else{  \n                    let lessThanhalf = startDist < posCurrent || (startDist && posCurrent < d) ? true : false  \n                    let distance = lessThanhalf ? this.lessThanHalf( posCurrent, dist_i, startDist) : this.moreThanHalf( d, posCurrent, startDist )    \n                    let PosOrNegDistance = this.right ? -distance : distance\n\n                    this.dist.push({dist: PosOrNegDistance, index: dist_i.index, rightPageStart: dist_i.rightPageStart, pageRight: true})\n                    this.beginPos.push(current[i])\n                }\n            }\n        }\n        //Removes prior values in arrays\n        this.dist.splice(0,3), this.beginPos.splice(0,3)\n    }\n    //Updates sliders positions\n    updatePos(){\n        // Handles back and forth clicking\n        if(this.start){\n            this.start = 0\n            \n            this.currentDist = this.getDistance()\n            this.currentBeginPos = this.startPos(this.sliders)\n            return this.handleDoubleClick(this.current, this.dist, this.beginPos)\n            \n        }else{\n            this.updateBeltPos()\n            this.beginPos.length = 0\n            this.dist.length = 0\n            const dist = this.getDistance()\n            const beginPos = this.startPos(this.sliders)\n            // 3 is length of slider elements\n            for (let i = 0; i < 3; i++) {\n        \n                this.beginPos.push(beginPos[i])\n                this.dist.push(dist[i])\n\n            }\n        requestAnimationFrame(this.draw)\n        }\n    }\n    animateBelts(topGears, bottomGears){\n        _('teeth-wrapper-top').style.transform = `translate(${ topGears }px)`\n        _('teeth-wrapper-bottom').style.transform = `translate(${ bottomGears }px)`\n    }\n\n    animate(sliders, imgGroup, value){\n        sliders.style.transform = `translate(${ value }px)`\n        imgGroup.style.transform = `translate(${ value }px)`\n    }\n\n    draw(timestamp){\n        const time = this.time\n        if(!this.start) this.start = timestamp\n        this.runtime = timestamp - this.start;\n        const progress = Math.min(this.runtime / time, 1)\n\n        let j = this.lessThan\n    \n        for (let i = 0; i < 3; i++) {\n        \n            let num = i !== j ? i : j\n            let sliders = this.sliders[num]\n    \n            let imgGroup = this.foreinGroup[num]\n    \n            let beginPos = this.beginPos[num]\n            let dist = this.dist[num].dist\n            let rightStart = this.dist[num].rightPageStart\n            let pageRight = this.dist[num].pageRight   \n            //Right or Left side element animate to other side of screen\n            if(num === j && pageRight){\n                \n                if(progress <= .5){\n                    let value = beginPos - (dist * progress)\n                    this.current[num] = value\n                    this.animate(sliders, imgGroup, value)\n                }else {\n                    let value = rightStart - ( dist * (progress - .5))\n                    this.current[num] = value\n                    this.animate(sliders, imgGroup, value)\n                }\n            }else{\n                const value = beginPos - (dist * progress)\n                this.current[num] = value\n                this.animate(sliders, imgGroup, value)\n            }\n        }\n        // Belts Animation\n        let topGears = this.beltPos.startPos[0] + (this.beltPos.dist * progress) \n        let bottomGears = this.beltPos.startPos[1] - (this.beltPos.dist * progress)\n        this.animateBelts(topGears, bottomGears)\n        if(progress < 1){\n            requestAnimationFrame(this.draw)\n        } else{\n            this.foreinObjArr()\n            this.start = 0\n            this.beltClick ++\n            this.click = 0\n            imgInlarge.targetElem()\n            return\n        } \n    }\n    //Stars gears inline left or right depending on left or right click\n    beltDirections(){\n        let beltWidth = _('bottom-main').getBBox().width\n\n        if(this.right){\n            _('bottom-teeth').style.transform = `translate( ${beltWidth}px )`\n            _('top-teeth').style.transform = `translate( ${-beltWidth}px )`\n        }else{\n            _('bottom-teeth').style.transform = `translate( ${-beltWidth}px )`\n            _('top-teeth').style.transform = `translate( ${beltWidth}px )`\n        }\n    }\n    updateBeltPos(){\n        let belts = this.startPos(this.belts)\n        let startPos, dist; \n\n            // Starts gears on one side of the page or the other \n        if( this.beltClick === 0 || this.beltClick && belts[0] === 0 ) this.beltDirections()\n\n        if(this.right){\n            startPos = belts\n            dist = _('top-teeth').getBBox().width / 3\n        }\n        if(this.left){\n            startPos = belts\n            dist = -( _('top-teeth').getBBox().width / 3 )\n        }\n        \n        //Keeps Gears always looking like their never ending\n        if( this.beltClick === 3){\n            this.beltClick = 0\n            this.animateBelts(0, 0)\n            this.beltDirections()\n            startPos = [0,0]\n        }\n        this.beltPos = {dist, startPos}\n    } \n}\n\nclass InLargeImg extends RollerUnit {\n    constructor(){\n        super()\n        this.container =  _('img-inlarge-container')\n        this.animateClipPath = this.animateClipPath.bind(this)\n        this.img = document.querySelector('.inlarge-img-wrap img')\n        this.imgWrap = document.getElementsByClassName('inlarge-img-wrap')[0]\n        this.mouseMove = this.mouseMove.bind(this)\n        this.removeListener = this.removeListener.bind(this)\n        this.mouseY = 0\n        this.imageClose = this.imageClose.bind(this)\n        this.targetElem = this.targetElem\n        this.checkForDuplicates = this.checkForDuplicates\n        this.moveElement = this.moveElement\n        this.Y = 0\n    }\n    \n    addClickListener(){\n        console.log('listener added')\n        _('img-inlarge-container').addEventListener('click', this.imageClose); \n    }\n    removeClickListener(){\n        console.log('removed click listener')\n        _('img-inlarge-container').removeEventListener('click', this.imageClose); \n    }\n    checkForDuplicates(clssName){\n        const imgs = this.imgWrap.children\n        let length = imgs.length\n        while(length--){\n            if ( imgs[length].className === clssName ){\n                this.img = imgs[length];\n                this.removeImg()\n            } \n        }\n    }\n    //Recursion\n    targetElem(elemX){\n        \n        let length = this.foreinObjs.length\n        let arr = []\n        let groupArr = []\n       \n        for (let i = length - 1; i >= 0; i-- ){\n            \n            // 1st pushes only elements with style attribtues of x\n            if(!elemX && this.foreinObjs[i].hasAttribute('x') ){\n                \n                arr.push( this.foreinObjs[i].getBoundingClientRect().x )\n                groupArr.push(this.foreinObjs[i].parentNode)\n                \n            }\n            // Scaling image only\n            if ( this.foreinObjs[i].parentNode.getBoundingClientRect().x === elemX && this.toggleMoveElement){\n                this.group = this.foreinObjs[i].parentNode\n                return\n            }\n            if ( this.foreinObjs[i].getBoundingClientRect().x === elemX ){\n                this.checkForDuplicates('webVisible')\n                let imgNode = this.foreinObjs[i].childNodes[1];\n                let clonedImg = imgNode.cloneNode(true)\n                return this.moveElement( clonedImg, 'webVisible' )  \n            } \n        }\n        // Middle element which is the median of the three elements\n        let sorted = arr.sort( (a,b) => a - b )[1]\n        this.targetElem(sorted)\n    }\n    insertText(img){\n        let imgContent = _('img-content')\n        let url = img.attributes[2].value\n        let text = img.attributes[1].textContent\n        imgContent.textContent = text\n        imgContent.innerHTML += '<br>'+'<a href=\"' + url + '\"> ' + url + ' </a>'+'</br>'\n    }\n    moveElement(el, cls){\n        this.img = el //updates image to be used elsewhere \n        el.classList.add(cls)\n        let img_content = _('img-content')\n        let fragment = document.createDocumentFragment();\n        fragment.appendChild(el)\n        this.imgWrap.insertBefore(fragment, img_content);\n        this.imgWrap.classList.add('show-img')\n        this.imgWrap.classList.remove('hide-img')\n    }\n\n    removeImg(e){\n   \n        //Only ran to exit out of image from click handler\n        if(e){\n            this.container.style.opacity = 0\n            this.imgWrap.classList.replace('show-img', 'hide-img')\n            setTimeout( () => {\n                this.imgWrap.classList.replace('hide-img', 'show-img')\n                this.container.removeAttribute('style')\n                this.img.style.display = 'none'\n            },1100)\n        }else{\n            \n            _('img-content').textContent = ''\n            this.img.parentNode.removeChild(this.img)\n     \n        }\n    }\n    // Removes images \n    imageClose(e){\n       console.log( e.target.tagName)\n        \n        if(e.target.tagName !== 'IMG'){\n            this.removeClickListener()\n            this.removeImg(e)\n        }\n    }\n    // Displays image\n    showImage(clssName){\n        this.img = document.getElementsByClassName(clssName)[0]\n        this.insertText(this.img)\n        this.img.style.display = 'block'\n        this.addClickListener()\n        this.container.style.display = 'flex'\n        this.container.style.opacity = 1\n    }\n                                            // **  REMOVE ANIMATECLIPPATH IF I DON'T REALLLY HAVE TO USE IT FOR FIREFOX **\n    //Firefox only\n    animateClipPath(timestamp){\n        if(!this.start) this.start = timestamp\n        this.runtime = timestamp - this.start;\n        const progress = Math.min(this.runtime / 1000, 1)\n        this.imgWrap.style.clipPath = `circle(${this.clipStart + (this.clipValue * progress)}%)`\n    \n        if(progress < 1){\n            requestAnimationFrame(this.animateClipPath)\n        }else {\n\n            if(this.container.style.opacity == 0){\n        \n                // Removes flex and opacity, sets back to display none\n                this.container.removeAttribute('style')\n                // this.img.parentNode.removeChild(this.img)\n            }\n            this.start = 0\n        }\n    }\n    getTransform(){\n        let regEx = /^scale/g;\n        let transform = this.group.style.transform.replace(/^(\\w*\\(-?\\d*.\\w*\\))(.*)/ig, \"$1\")\n        let checkForScale = transform.match(regEx)\n        //So two scale values don't get added to element when translate doesn't exist\n        if(checkForScale){\n            return ''\n        }else {\n            return transform\n        }\n    }\n\n    scalePhoto(dist, scale, translate){\n        document.getElementById('slider_1_').style.transform = `translateY(${dist}px)`\n        this.group.style.transform = translate + `scale( ${1 + scale} )`\n    }\n    \n    mouseMove(e){\n        // multipy by 1.5 because of the lag, so I speed it up just a bit\n        let dist = e.clientY - this.mouseY\n        let value =   dist / this.Y\n        let scale = Math.min( value < 0 ? -value : -value, 1)\n        let translate = this.getTransform() \n        let translateValue = +( translate.replace(/[^-\\d.]/ig, \"\") )\n  \n        //Checks if element is either -431 or 431 so the correct transform origin can be added\n        if(translateValue > 2){\n            this.group.style.transformOrigin = 165 + \"px \" + 450 + \"px\"\n        }else if(translateValue < -1){\n            this.group.style.transformOrigin = 1034 + \"px \" + 458 + \"px\"\n        }\n        //scale is 1 when clicked somewhere else\n        if( scale < 1 && dist <= 6 ) this.scalePhoto(dist, scale, translate)\n    }\n\n    mouseDown(e){\n        \n        _('slide-group').addEventListener('mouseup', this.removeListener, true)\n\n        this.toggleMoveElement = true\n        this.targetElem()\n        let verPiece = document.getElementById('vert_piece')\n        let vertY = verPiece.getBBox().y\n        let handleY = _('img-scale').getBBox().y    \n\n        //Gets distance slider needs to go  \n        this.Y = handleY - vertY\n        \n        //Start position for distance\n        if(!this.mouseY) this.mouseY = e.clientY\n        _('slide-group').addEventListener('mousemove', this.mouseMove, true)\n       \n    }\n\n    removeListener(e){\n        _('slide-group').removeEventListener('mousemove', this.mouseMove, true)\n        \n        let translate = this.getTransform()\n        this.scalePhoto(0,0,translate)\n        \n        _('slide-group').removeEventListener('mouseup', this.removeListener, true)\n        _('img-scale').removeEventListener('mousedown', this.mouseDown, true);\n\n        //Updates position when mouseUp\n        this.mouseY = 0\n        this.toggleMoveElement = false\n    }\n}\n\nlet rollerUnit = new RollerUnit();\nlet imgInlarge = new InLargeImg();\nrollerUnit.positionForiegnObject(imgInlarge);\n\n_('img-scale').addEventListener('mousedown', (e) => {\n    imgInlarge.mouseDown(e)\n}, true);\n\n_('buttons').addEventListener('click',function(e){\n    \n    e.stopPropagation()\n    const target = e.target.parentElement.classList[0]\n\n    if(target === 'img-left' || target === 'img-right'){\n        if(rollerUnit.click === 1) return  \n        \n        rollerUnit.left = target === 'img-left' ? true : false\n        rollerUnit.right = target === 'img-right' ? true : false\n        rollerUnit.updatePos()\n\n    }else if(target === 'img-inlarge'){\n        imgInlarge.showImage('webVisible')\n    }\n});\n\n_('button-inlarge').addEventListener('click', (e) => {\n    imgInlarge.showImage('designVisible')\n})\n\n// **** GRAPH SECTION ****\n\nconst random = (min, max) => Math.random() * (max - min) + min;\n\nconst toggleRobot = {\n    toggle: false,\n    flight: false, //Toggles when scrolled out of screen view\n    direction: 'up'\n}\n\nfunction startRobotFlight(){ \n    // *** Burners ***\n\n    const flames = _('robot-flame')\n    const length = flames.length\n\n    const from = {x: 1, y: 1}\n    const to = {}\n    const distance = {};\n    const keys = Object.keys(from);\n\n    const next = timestamp => {\n        //starts all over from gets starting point of the last size\n        Object.assign(from, to);\n        const length = keys.length\n        for (var i = 0; i < length; i++) {\n            let axis = keys[i]\n            to[axis] = random(.8, 1);\n            distance[axis] = from[axis] - to[axis];\n        }\n\n        time.start = timestamp;\n    };\n\n    const time = {\n        total: 40\n    };\n\n    const drawBurners = timestamp => {\n        if (toggleRobot.flight) return\n        if (time.runtime > time.total || !to.x) next(timestamp);\n\n        time.runtime = timestamp - time.start;\n        const progress = time.runtime / time.total;\n        const [x, y] = keys.map(axis => from[axis] - progress * distance[axis]);\n        for (let i = 0; i < length; i++) {\n            let flame = flames[i]\n            flame.style.transform = `scale(${x}, ${y})`;\n        }\n        requestAnimationFrame(drawBurners);\n    };\n\n\n    //*** Draws Stars ***\n    let graphs = document.getElementsByClassName('graph-st20')\n    const recClip = document.getElementsByClassName('rec-clip')[0]\n    const fragment = document.createDocumentFragment();\n    const robotRect = _('floating_robot').getBoundingClientRect()\n    const graph = document.getElementById('graph-svg')\n    const [size] = /[1-9].*/.exec( graph.getAttribute('viewBox') )\n    \n    const regEx = /([1-9.]*)\\s([1-9.].*)/ig;\n    const graphWidth = size.replace(regEx, '$1')\n    const graphHeight = size.replace(regEx, '$2')\n    \n    const robotHeight = robotRect.height;\n    const robotWidth = robotRect.width;\n    const startY = graphHeight - robotHeight\n    const startX = robotRect.x - (window.innerWidth - graphWidth) / 2\n\n    //starts stars randomly\n    const randomInterval = function(callback,data,min, max){\n\n        const time = {\n            start: performance.now(),\n            total: random(min, max)\n        };\n        const draw = (timestamp) =>{\n            if(toggleRobot.flight) return\n            if (time.total <= timestamp - time.start) {\n                time.start = timestamp;\n                time.total = random(min, max);\n                callback(data)\n            }\n            requestAnimationFrame(draw);\n        }\n        requestAnimationFrame(draw);\n    };\n\n    const createStar = (cx, cy, radius) => {\n        const star = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        star.setAttribute(\"r\", radius);\n        star.setAttribute(\"cy\", cy);\n        star.setAttribute(\"cx\", cx);\n        star.setAttribute(\"fill\", \"white\");\n        star.setAttribute(\"fill-opacity\", 0);\n        return star;\n    };\n\n    const FallingStars = function(data){\n\n        let attr = new data(toggleRobot.direction)\n\n        const radius = attr.radius\n        const cx = attr.cx\n        const cy = attr.cy\n        const dist = attr.dist\n        const star = createStar(cx, cy, radius)\n       \n        const time = {\n            start: performance.now(),\n            total: random(1900, 2000)\n        };\n        \n        const draw = (timestamp) => {\n          if(toggleRobot.toggle || toggleRobot.flight){\n                graph.removeChild(star)\n                return;\n            } \n            time.elapsed = timestamp - time.start\n            const progress = Math.min(time.elapsed / time.total, 1)\n          \n            const opacity = progress * 2\n\n            star.setAttribute(\"cy\", cy + progress * dist)\n            star.setAttribute(\"fill-opacity\", progress < .5 ? opacity : 2 - opacity)\n            time.elapsed < time.total ? requestAnimationFrame(draw): graph.removeChild(star)\n        }\n        requestAnimationFrame(draw)\n\n        //Inserts new star based on randomInterval runing throughStars()\n        fragment.appendChild(star)\n        graph.insertBefore(fragment, graph.firstChild)\n\n    };\n\n    var flyIntoPlace = {\n        beginY: graphHeight - robotHeight / 12,\n        hiddenX: function(){\n            let difference = graphWidth  -  wW\n            if(!wW < graphWidth){\n\n                return robotRect.width + robotRect.x + difference \n           }\n        },\n        hideRobot: function(size){\n            if( size === 1.3){\n                let beginX = this.hiddenX();\n                _('floating_robot').style.transform = `translate(${0}px, -${this.beginY}px)`\n            }\n        },\n        createStars: function(){\n            let attributes = function(direction){\n               \n                if(direction === 'down'){\n               \n                    toggleRobot.toggle = false;\n                    let radius = random(.5, 2.7)\n                    let cx = random(startX - 100, startX + robotWidth + 100)\n                    let cy = random(startY - 120 ,startY - 175 )\n                    let dist = 100 + robotHeight;\n\n                    return { radius, cx, cy, dist } \n                    \n                }else if(direction === 'up'){\n                   \n                    let radius = random(1.5, 3.7);\n                    let cx = random(0 - 25, graphWidth + 25)\n                    let cy = random(graphHeight  - 80, graphHeight + 50  )\n                    let dist = -graphHeight; \n\n                    return { radius, cx, cy, dist } \n                }\n            }\n            //Every 80ms through 180ms of time.total it will draw a star\n            //**** STARTS STARS MOVING *****\n            randomInterval(FallingStars, attributes,80, 180)\n        }\n    }\n\n    const graphData = {\n        start: 0,\n        total: 2000,\n    }\n    const subtractRay = () => {\n        _('left-text-panel').removeAttribute('clip-path')\n        _('rec-clip').style.transform = \"translate(485px, 520px)\"\n    }\n    const getStrokeLength = () => {\n        let i = graphs.length\n        let value = new Array(i)\n        function getLength(){\n            while(i--){\n                value[i] = graphs[i].getTotalLength()\n            }\n        }\n        return {\n            runValue: function(){\n                getLength()\n            },\n            getValue: function(){\n                return value\n            }\n        }\n    }\n    let strokeLength = getStrokeLength();\n    strokeLength.runValue();\n    \n    const drawPercentStroke = (progress) => {\n        let stroke = strokeLength.getValue()\n        let i = graphs.length\n        while(i--){\n            graphs[i].style.stroke = 'url(#design-gradient)'\n  \n            graphs[0].style.strokeDashoffset = stroke[0] + (stroke[0] * progress)\n            graphs[1].style.strokeDashoffset = stroke[1] - (stroke[1] * progress)\n        }\n    }\n    const animateGraph = (timestamp) => {\n        if(!graphData.start) graphData.start = timestamp\n        let runtime = timestamp - graphData.start\n        let progress = Math.min(runtime / graphData.total, 1)\n\n        _('graph-percentage-top').textContent = Math.round( 0 + 90 * progress) + ' %'\n        _('graph-percentage-bottom').textContent = Math.round( 0 + 70 * progress) + ' %'\n        _('graph-rect').style.transform = 'translate(' + (412 * progress) + 'px)' \n        drawPercentStroke(progress)\n        \n        if(progress < 1) \n            requestAnimationFrame(animateGraph)\n        else \n            return subtractRay()\n    }\n\n    const startAnimateGraph = () =>{\n        if( _('rec-clip').style.transform ) return\n\n        recClip.style.transform = 'translate(0px, 0px)'\n        _('graph-clipping').classList.add('show-graphs')\n\n        //Animate graphs after recClip transform is done\n        setTimeout( () => {\n            requestAnimationFrame(animateGraph)\n        }, 2500)\n       \n    }\n\n    const begin = {\n        start: 0,\n        total: 4000\n    }\n\n    const flyIn = (timestamp) =>{\n        if(!begin.start) begin.start = timestamp\n        begin.runtime = timestamp - begin.start\n        const progress = Math.min(begin.runtime / begin.total, 1)\n        const curve = 624.9 / 2\n        const ease = easeOut(progress)\n        const increment = curve * progress / 50\n    \n        const y = -flyIntoPlace.beginY + flyIntoPlace.beginY * progress\n        const x = -Math.cos( increment + Math.PI/180) * curve + curve \n        // !begin.toggle\n         _('floating_robot').style.transform = `translate(${-x}px, ${y}px)`\n        // : document.querySelector('#section-five-web .container-lg').style.transform = `scale(${1.3 - .3 * ease})`\n\n        if(progress === 1){\n            // toggleRobot.toggle = true;\n            toggleRobot.direction = 'down'\n        \n            //Resizes the whole container so robot fits into screen\n            if( wW > 1050 ){\n                setTimeout(startAnimateGraph, 600)\n                document.querySelector('#section-five-web .container-lg').classList.add('scale-container')\n            }else{\n                \n                startAnimateGraph()\n            } \n            return\n        }\n        requestAnimationFrame(flyIn)\n    }\n    return {flyIn, flyIntoPlace, drawBurners}\n}\n\nlet navToggle = {\n    toggle: true\n}\n\nclass Navigation {\n    constructor(){\n        this.navItems = document.querySelectorAll('.nav-list button')\n        this.scrollTo = this.scrollTo.bind(this)\n        this.animateScroll = this.animateScroll.bind(this)\n        this.start = 0\n    }\n    getDistance(el){\n     \n        let top = el.getBoundingClientRect().top\n        let height = el.getBoundingClientRect().height\n        let bottom = el.getBoundingClientRect().bottom\n        return {top, height, bottom}\n    }\n    getScrolltoElement(target, regEx){\n        let section = document.getElementsByTagName('section')\n        let length = section.length\n        while(length--){\n            if ( target === section[length].id.replace(regEx, \"$1\") ) {\n                return {\n                    el: section[length],\n                    index: length\n                }\n            }\n        }\n    }\n    outExpo(n){\n        return 1 == n ? n : 1 - Math.pow(2, -10 * n);\n    };\n\n    animateScroll(timestamp){\n        if(!this.start) this.start = timestamp\n        let runtime =  timestamp - this.start\n        let progress = this.outExpo( Math.min( runtime / 1200, 1 ) )\n        let y = this.startPos + (this.elDist * progress)\n       \n        window.scroll(0, y)\n        if(progress < 1){\n            requestAnimationFrame(this.animateScroll)\n        }else return navToggle.toggle = true  \n    }\n\n    toggleOpenBtn(){\n        let i = this.navItems.length\n        while(i--){\n          \n            if(this.navItems[i].style.transform){\n               this.navItems[i].removeAttribute('style')\n            }\n        }\n    }\n    \n    scrollTo(e){\n        this.toggleOpenBtn()\n        if(e.target.className === 'contact-modal') return\n        const regEx = /(\\w+\\-\\w+)\\-\\w+/ig\n        const sectionId = e.target.className.replace(regEx,\"$1\")\n        let scrollToElem = this.getScrolltoElement(sectionId,regEx).el\n        let index = this.getScrolltoElement(sectionId,regEx).index\n        let elDist = this.getDistance(scrollToElem, index).top\n        this.elDist = elDist\n        this.startPos = window.pageYOffset\n        this.start = 0\n        \n        requestAnimationFrame(this.animateScroll)\n    }\n    scrollTo768(e){\n        let targetBtn = e.target.parentNode.parentNode\n        \n        if(targetBtn.hasAttribute('style')){\n            return this.toggleOpenBtn()\n        } \n        this.toggleOpenBtn()\n        targetBtn.style.pointerEvents = 'auto'\n        targetBtn.style.transform = `translateX(${-132}px)`\n    }\n\n    controller(){\n        _('nav-list').addEventListener('click', (e) => {\n            console.log(e.target)\n            navToggle.toggle = false\n            if( e.target.nodeName === \"BUTTON\"){\n            \n                this.scrollTo(e)\n            }\n            // Only @ screen size 768 and smaller\n            if(e.target.parentNode.classList[1] === 'nav-icon'){\n                \n                this.scrollTo768(e)\n            }\n        });\n    }\n}\nconst navigation = new Navigation()\nnavigation.controller()\n\nconst toggleAnimate = {\n    stars: true,\n    flightStars: true,\n    circuit: true\n}\n\nconst robot = new robotSection('event');\nconst robotFlight = startRobotFlight();\n\n\nconst triggerStars = (e) => {\n    var update = robot[1](e).update\n    var star_count = wW > 540 ? 25 : 15\n    var makeStars = robot[1]()\n    makeStars.createStars(star_count, update)\n}\n\nclass ScrollAnimate extends Navigation {\n    constructor(){\n        super()\n        this.sections = document.querySelectorAll('#section-one-digital, #section-two-popups, .section-three-robot, #section-five-web  ')\n    }\n    checkElemTop(e){\n        let length = this.sections.length\n       \n        while(length--){\n            let dist = this.getDistance(this.sections[length])\n            let elmTop = dist.top\n            let elmHeight = dist.height\n            let elmBottom = dist.bottom\n\n            //Digital Hand\n            if(length === 0){\n\n                if(elmBottom < 300){\n                    if(wW < 768) document.getElementById('digital_shake').style.willChange = \"auto\"\n                    digital.removeDigitalAnimation()\n                    toggleAnimate.circuit = false\n                }\n            }\n            //Map\n            if(length === 1){\n               const pointerLocation = _('oval-pointer').getBoundingClientRect().x\n\n               //Stops scroll from running hovermap function over and over\n               if(pointerLocation > 0){\n                    const hovermap = hoverMap()\n                    const dist = hovermap[1](e)[0]; // Position distance of show-icon gooey\n                    hovermap[0]( dist, true )  // handler(e) function remove gooey\n                }\n            }\n            // Robot Design stars element\n            if(length === 2) {\n  \n                //Page in view start animate stars\n                if(elmTop <= elmHeight && elmBottom >= elmHeight && toggleAnimate.stars){\n                    \n                    toggleAnimate.stars = false\n                    toggleStars.toggle = false\n                    triggerStars(e)\n                }\n                //Page out of view start stop animate\n                if( !toggleAnimate.stars  &&  (elmTop > elmHeight || elmBottom <= 0) ){\n                    toggleAnimate.stars = true\n                    toggleStars.toggle = true\n                }\n            }\n            //Flying Robot / Graph element\n            if(length === 3){\n             \n                if(elmTop < elmHeight){\n                    \n                    if(!_('floating_robot').style.willChange){\n                        _('floating_robot').style.willChange = 'transform'\n                    }\n                    \n                }\n\n                if(elmTop < elmHeight / 2 && elmBottom >= elmHeight && toggleAnimate.flightStars){\n                    toggleRobot.flight = false\n                    toggleAnimate.flightStars = false\n                    requestAnimationFrame( robotFlight.drawBurners )\n                    robotFlight.flyIntoPlace.createStars('up')\n                    requestAnimationFrame(robotFlight.flyIn)\n                }\n                if( !toggleAnimate.flightStars  &&  (elmTop > elmHeight - 75 || elmBottom <= 0) ){\n                    \n                    //Removes ray\n                    _('floating_robot').style.willChange = 'auto'\n                    // _('rec-clip').style.display = 'none'\n                    toggleAnimate.flightStars = true\n                    toggleRobot.flight = true\n                }\n            } \n        }\n    }\n  \n    scroll(){\n        window.addEventListener('scroll', (e) => {\n            // If nav item is clicked that scroll event will run and not trigger this scroll event\n            if(navToggle.toggle){\n\n                this.checkElemTop(e)\n            }\n        })\n    }\n}\nconst scrollAnimate = new ScrollAnimate()\nscrollAnimate.scroll()\n\n//*** HAND SHAKE ***\nclass Digital {\n    constructor(){\n        this.path = document.querySelectorAll('.stroke')\n        this.watch = document.getElementById('rotate_watch')\n    }\n\n    startHandAnimation(){\n\n        document.getElementById('digital_shake').classList.add('shake-hand')\n        this.watch.classList.add('rotateWatch')\n        setTimeout( ()=>{\n            for (let i = 0; i < this.path.length; i++){\n                if (i < 3) _('circle-path')[i].style.opacity = 1\n                this.path[i].classList.add('path')\n           }\n        }, 2000)  \n    }\n    removeDigitalAnimation(){\n        this.watch.classList.remove('rotateWatch')\n        for(let i = 0; i < this.path.length; i++){\n            this.path[i].classList.remove('path')\n        } \n    }\n}\n\nconst circuitToggle = {\n    toggleAnim: true\n}\n//brad-joshua\nclass Circuit extends Digital{\n    constructor(){\n        super()\n        this.animCircuit = _('animate-circuit')\n        this.startAnimation = this.startAnimation.bind(this)\n        this.data = []\n        this.elements = []\n        this.index = []\n        this.pathLength = []\n    }\n    //SVG .getTotalLength() fix\n    getSvgPolylineLength(el) {\n        let totalLength = 0;\n        let prevPos;\n        for (var i = 0 ; i < el.points.numberOfItems;i++) {\n            var pos = el.points.getItem(i);\n            if (i > 0) {\n                \n                totalLength += Math.sqrt(Math.pow((pos.x - prevPos.x), 2) + Math.pow((pos.y - prevPos.y), 2));\n            }\n            prevPos = pos;\n        }\n        return totalLength;\n    }\n    //SVG .getTotalLength() fix\n    getSvgEementLength(el){\n\n        const constructor = el.constructor\n       \n        switch (constructor) {\n            case SVGPolylineElement: return this.getSvgPolylineLength(el);\n            case SVGLineElement: return ((x1, x2, y1, y2) => Math.sqrt( (x2-=x1)*x2 + (y2-=y1)*y2 ))(el.getAttribute('x1'), el.getAttribute('x2'),\n                                        el.getAttribute('y1'), el.getAttribute('y2'));\n            case SVGRectElement: return (el.getAttribute('width')*2) + (el.getAttribute('height')*2);\n            case SVGPathElement: return el.getTotalLength();\n        }\n    }\n    //3rd method ran\n    getDashStroke(el){\n        let length = el.length\n      \n        while(length--){\n            let index = el[length]\n            // Fix for SVG.getTotalLength()  not working on some paths. \n            this.pathLength.unshift( this.getSvgEementLength(_('animate-circuit')[index]) )\n        }\n    }\n    addClasses(){\n        let length = this.elements.length\n        while(length--){\n            this.elements[length].classList.add('animatePath')\n        }\n    }\n    //2nd method ran\n    getRandomPath(paths){\n        let i = 0\n        let length = paths\n\n        while(i < length){\n            // item is the long-path which is at index 0 if count === 1, else run random \n            let item = paths === 1 ? 10 : Math.floor( Math.random() * 10 )\n\n            //Checks first to make sure no duplicate items in array\n            let notInArray = this.index.indexOf(item) === -1\n\n            if(notInArray){\n                i++\n                this.index.push( item )\n                this.elements.push( this.animCircuit[item] )\n            }\n        }\n\n        this.animCircuit = this.elements\n        return this.index\n    }\n    //4th method ran\n    addData(index){\n\n        while(index--){\n            this.data.push({speed: 0, j: 0, delay: index*150, start: 0, startTime: 0})\n        }\n        this.startAnimation()\n    }\n    //1st method ran\n    setDashArray(count){\n        let paths = wW < 768 ? 1 : count \n        if(wW < 768) this.startHandAnimation()\n        let index = this.getRandomPath(paths)\n        this.getDashStroke(index)\n\n        while(paths--){\n            this.animCircuit[paths].style.stroke = 'orange'\n            this.animCircuit[paths].style.strokeDashoffset = -this.pathLength[paths]\n            this.animCircuit[paths].style.strokeDasharray = this.pathLength[paths]\n        }\n        this.addData(wW < 768 ? 3 : 6)\n    }\n    \n    //Ran last\n    startAnimation(){\n        let circle = _('circle-path')\n        let dist = this.pathLength\n        let el = this.animCircuit\n        let data = this.data\n        let length = el.length\n        let countSpeed = 7;\n        let dataLength = data.length\n        let delay = 0\n      \n        function startCircleAnimation(timestamp){\n\n            for(let i = 0; i < dataLength; i++){\n\n                if(delay > data[i].delay){\n             \n                    if(!data[i].startTime) data[i].startTime = timestamp\n                    let run = timestamp - data[i].startTime \n                    let prog = Math.min( run / 30000, 1)\n                 \n                    const {x, y} = el[0].getPointAtLength(dist[0] * prog);\n                    circle[i].style.transform = `translate(${x}px, ${y}px)`\n                    if(prog === 1) data[i].startTime = 0\n                }    \n            }\n            delay++\n\n            requestAnimationFrame(startCircleAnimation);\n        }\n\n        function startLineAnimation(){\n            //Removes Animation\n            if(!toggleAnimate.circuit){\n                let i = el.length\n           \n                while(i--){\n                    el[i].removeAttribute('style')\n                }\n                return;\n            }\n\n            for (let i = length - 1; i >= 0; i--) {\n                let dashArray = el[i].style.strokeDasharray\n                let dashOffset = el[i].style.strokeDashoffset\n\n                // StrokeDashoffset is less then 0 runs same direction \n                if(dashOffset >= 0 && !data[i].j){\n                    data[i].speed = 0\n                    data[i].j = 1\n                    iterator = 0\n                }\n                \n                const speed =  data[i].speed += countSpeed\n                let iterator = dashOffset <= 0 ? -dist[i] : 0;\n             \n                //Stops strokedasharray at about a 3rd to keep the length that size\n                if(dashArray >= (dist[i] / 1.8) ){\n        \n                    el[i].style.strokeDasharray = dist[i] - speed\n                }\n\n                el[i].style.strokeDashoffset = iterator + speed\n            }\n            requestAnimationFrame(startLineAnimation)\n        }\n        requestAnimationFrame(wW < 768 ? startCircleAnimation : startLineAnimation )\n    }\n}\nconst digital = new Digital()\nconst circuit = new Circuit()\n\n\nwindow.onload = function(e){\n    setTimeout( () =>{\n        circuit.setDashArray(6) \n    },300)\n    \n   \n    let newTechnologies = new Technologies();\n    newTechnologies.loadImages();\n\n    document.querySelector('.technologies .start-canvas').addEventListener('click', function(){\n        Technologies.prototype.toggle = true\n        requestAnimationFrame(newTechnologies.draw.bind(newTechnologies)) \n    }.bind(this));\n\n    document.querySelector('.technologies .stop-canvas').addEventListener('click', function(){\n        Technologies.prototype.toggle = false\n        requestAnimationFrame(newTechnologies.draw.bind(newTechnologies)) \n    }.bind(this));\n\n    var starryNight = new StarryNight()\n    starryNight.loadImages()\n\n    hoverMap()\n    \n    var designSlider = new DesignSlider();\n    designSlider();\n\n    robot[1]() //updates robot location\n    robot[0].loadImages(); //then loades images into slider\n\n    robotFlight.flyIntoPlace.hideRobot(1.3); //Hides flying robot out of screen view\n    \n}.bind(this);\n\n"],"sourceRoot":""}