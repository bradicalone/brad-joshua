{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","animate768","animate400","isFirefox","InstallTrigger","isSafari","navigator","userAgent","indexOf","wW","window","innerWidth","wH","innerHeight","_","clss","classes","document","getElementsByClassName","length","getElementsByTagName","setAttribute","style","transform","visibility","easeOut","progress","Math","pow","newSize","string","size","el","ogWidth","getBoundingClientRect","width","ogHeight","height","getAttribute","console","log","slotMachine","canvas","getElementById","ctx","getContext","Slot","this","x","text","letters","addLetter","letterHeight","bottom","j","data","top","letter","speed","start","push","unshift","drawUp","drawDown","font","fillText","fillStyle","update","toggle","splice","clearRect","requestAnimationFrame","bind","slot","querySelector","addEventListener","Stretch","strtch","letterDist","mixedNum","count","t","lineCount","colors","Letters","total","y","pushLetters","dist","canvasHeight","stretch","distance","begin","beginY","scaleTotal","distY","color","setTransform","scale","textY","letterSpacing","drawBackFlip","addLetters","timestamp","globalCompositeOperation","runtime","min","toFixed","setTimeout","e","StarryNight","trailData","houseWidth","houseHeight","images","menData","headArc","stepDown","rotatedPos","rotateDegree","lastPosX","lastPosY","undefined","arcStartX","arcStartY","house","houseImg","currentY","right","startY","startX","starryNight","drawImage","rise","moveLeft","lastPosition","xPos","yPos","radius","alpha","shift","drawStars","cir","save","globalAlpha","beginPath","arc","PI","opacity","fill","restore","drawTrail","trail","rad","fade","drawExplosion","circle","explodeStart","ease","explodeSize","drawMen","men","translate","translateX","translateY","rotate","img","opac","arcX","arcY","arcRadius","randomMax","max","floor","random","addData","measurements","delay","globAlpha","endPos","time","restoreData","draw","image","radiusTaper","menLength","parseInt","distanceX","walkDown","headIterate","newRotatedPos","iterate","roatedPos","startPos","lastX","lastY","currentX","drawHouse","WebFont","load","google","families","active","particleCanvas","particleCtx","canvasParentWidth","canvasParentHeight","sizing","content","ns","Image","ending","retractStart","imgCanvas","callback","createElement","position","left","zIndex","pointerEvents","foreignObject","createElementNS","appendChild","createParticleCanvas","ExplodingParticle","_this2","animationDuration","life","remainingLife","rgbArray","retract","finale","end","distX","abs","particles","createParticleAtPoint","colorData","particle","startTime","Date","now","clearData","removeAttribute","runEvents","imageLeft","imageTop","reductionFactor","target","rgbaData","getImageData","index","rgbaColorArr","slice","onload","src","ImageShatter","loadImages","$this","ext","sort","a","b","Technologies","svgPageWidth","svgPageHeight","bodyData","icons","newTechnologies","addBodyData","headX","headY","bookHeight","sprites","bodyWidth","bodyHeight","imgWidth","imgHeight","imgIcons","loopImgs","w","replace","h","timing","endX","endY","X","Y","staticSpeed","rotateHead","pos","drawBook","bookX","bookY","drawBody","drawIcons","spr","turn","prog","totalX","totalY","counter","loadedImages","imgs","forEach","bodyImgs","btnOpen","svgCloseButton","svgCircle","hovermap","hoverMap","removeGooey","animateEnd","classList","remove","display","animateCircle","elem","add","parentElement","closeButtonShow","num","opposite","openModals","id","err","onanimationend","popUpCards","open_modals","popUpcards","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","attributes","return","getPos","ele","elemRect","mainSvg","elemLeft","centeredLeft","svg","svgWidth","svgHeight","querySelectorAll","groupName","Array","children","newHeight","setAttributeY","posHeight","thisPos","childNodes","items","canvasArea","canvasPos","adjustElements","designCanvas","lastDist","currentPath","btnWrap","mouseOut","pointerDist","handler","totalDist","nodelist","elArray","getDistance","className","animateGooey","contains","animatePathLines","path","map_paths","classId","removeCardsClass","card","animateCardsUp","regEx","cardParent","parentNode","styleTransform","removeCircles","activeCircles","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","removeAll","handleMap","type","newPathArray","pathArray","targetArray","getPathElement","circles","paths","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","arguments","cirPairs","pairCircles","AnimateCircles","onmouseover","btnPos","placeCloseButton","toggleStars","robotSection","stars","updateText","textField","changeToggle","boolean","toggleFalse","updateImgText","imgText","textLength","textContent","electricBox","randomCir","relay","item","newNum","findNum","getRandom","designImages","img_container","animateSlider","partialDist","imgStart","newStart","containerWidth","cloneImage","clonedImg","cloneNode","imgInlarge","checkForDuplicates","moveElement","animateData","innerText","isNaN","element","stopPropagation","checkForClasses","pathLength","strokeDasharray","strokeDashoffset","addElectricity","NightStars","_this3","randomStart","duration","k","Flicker","increntment","cos","radSize","sin","starSize","opacSpeed","randomSpeed","flicker","gradient","createRadialGradient","addColorStop","createStars","starCount","nightStars","all","DesignSlider","img_container_rect","ellipse","rec","sectionContainer","actualTop","setEllipseAttributes","setImgContainer","container_Width","img_containerY","setButtonLocation","addedWidth","updateRobot","designSlider","AssemblyLine","_classCallCheck","mainSVG","sliders","codeContainers","rect","bBox","getBBox","_$exec","exec","_slicedToArray","values","rollerUnit","codeElements","rollerElem","codeElem","slidersContainer","getRect","RollerUnit","_this4","_possibleConstructorReturn","__proto__","getPrototypeOf","beginPos","lessThan","current","click","beltClick","foreinObjs","foreinGroup","belts","arr","hasAttribute","actual","apply","_toConsumableArray","_this5","getElemValue","startingPoint","actualDist","maxElement","minElement","moveEnd","moveBeginning","rightPageStart","reverse","pageRight","place","removed","removedChild","addChild","attrName","attrValue","_this","foreignObjects","slider_x","slider_y","slider_width","slider_height","targetElem","positiveCurrent","startDist","posCurrent","difference","currentDirection","sign","currentDist","distDirection","dist_i","rightStart","cur","handleRightPageStart","curDist","oppisiteDir","PosOrNegDistance","lessThanHalf","moreThanHalf","currentBeginPos","handleDoubleClick","updateBeltPos","topGears","bottomGears","imgGroup","animate","beltPos","animateBelts","foreinObjArr","beltWidth","beltDirections","InLargeImg","_this6","container","animateClipPath","imgWrap","mouseMove","removeListener","mouseY","imageClose","removeEventListener","clssName","removeImg","elemX","groupArr","toggleMoveElement","group","sorted","imgContent","url","innerHTML","cls","img_content","fragment","createDocumentFragment","insertBefore","_this7","removeChild","removeClickListener","tagName","insertText","addClickListener","clipPath","clipStart","clipValue","match","clientY","getTransform","translateValue","transformOrigin","scalePhoto","vertY","handleY","mouseDown","positionForiegnObject","updatePos","showImage","toggleRobot","flight","direction","navToggle","Navigation","navItems","scrollTo","animateScroll","section","outExpo","elDist","scroll","toggleOpenBtn","sectionId","scrollToElem","getScrolltoElement","pageYOffset","targetBtn","_this8","nodeName","scrollTo768","controller","toggleAnimate","flightStars","robot","robotFlight","flames","from","to","keys","graphs","recClip","robotRect","graph","_$exec3","graphWidth","graphHeight","robotHeight","robotWidth","FallingStars","attr","cx","cy","star","createStar","performance","elapsed","firstChild","flyIntoPlace","hiddenX","hideRobot","randomInterval","graphData","strokeLength","runValue","getTotalLength","getLength","getValue","getStrokeLength","animateGraph","round","stroke","drawPercentStroke","startAnimateGraph","flyIn","increment","drawBurners","assign","axis","_keys$map","map","_keys$map2","startRobotFlight","ScrollAnimate","_this9","sections","elmTop","elmHeight","elmBottom","_this10","checkElemTop","Digital","watch","_this11","removeDigitalAnimation","Circuit","animCircuit","animCircle"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\n/******  GLOBAL VARIABLES  *******/ \nvar animate768 = \"M565.1,0v900H0c0,0,0-75.3,0-192.4c0-211.7,0-303.7,0-533.1C0,50.5,0,0,0,0H565.1z;\"+\n                 \"M565.1,0v900H182.7c0,0-44-72.5-44-191.7c0-107.5,121.8-396.1,121.8-533.8C260.5,41,245.9,0,245.9,0H565.1z;\"+\n                 \"M571.8,0v900H386.7c0,0-31.4-42.7-31.4-191.7C355.3,568,555,285,555,80.7C555,20,551.5,0,551.5,0H571.8z;\"+\n                 \"M573,0v900h-2.3c0,0,0.4-65.2,0.4-192.4c0-176.8-0.2-347.9-0.2-533.4c0-124-0.2-174.2-0.2-174.2H573z\";\n\nvar animate400 = \"M390,800H6c0,0-6-45.9-6-161.3C0,443.6,5,286.1,5,47.3C5,10.7,3,0,3,0h387V800z;\"+\n                 \"M390,800H96c0,0-46-45.9-46-161.3c0-195.1,130-352.6,130-591.3c0-36.7-3-47.3-3-47.3h213V800z;\"+\n                 \"M390,800H243c0,0-37-45.9-37-161.3c0-195.1,176-352.6,176-591.3c0-36.7-1-47.3-1-47.3h9V800z;\"+\n                 \"M390,800h-7c0,0,0-45.9,0-161.3c0-195.1,5-352.6,5-591.3c0-36.7-1-47.3-1-47.3h3V800z\";\n\nvar isFirefox = typeof InstallTrigger !== 'undefined';\nvar isSafari = navigator.userAgent.indexOf(\"Safari\") != -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n\nvar wW = window.innerWidth;\nvar wH = window.innerHeight;\nvar lastDist;\n\n\n//Firefox Bug, transforms not working, so sets attribute to 0 instead\nif(isFirefox){\n    //svg morfing problem\n    document.getElementsByTagName('feGaussianBlur')[0].setAttribute('stdDeviation', '6')\n    //svg css problem\n    _('svg-circle').setAttribute('r', 0);\n    _('svg-circle').style.transform = 'scale(1)'\n} \n\nif(isSafari) _('svg-page').style.visibility = \"hidden\"\n\nfunction _(clss){\n\n    let classes = document.getElementsByClassName(clss);\n\n    if(classes.length === 1){\n        return classes[0]\n    }\n    if(classes.length > 1){\n        return classes\n    }else return \"Not a working class\"\n};\n\nvar easeOut = function(progress){\n    return Math.pow(--progress, 5) + 1;\n};\n\n//String: indicates new size of width or height that you want. Size: of the new size of the string. El: the element you want it for\nvar newSize = function(string, size, el){\n    if(typeof el  !== 'undefined'){\n        \n\n        var ogWidth = el.getBoundingClientRect().width\n        var ogHeight = el.getBoundingClientRect().height\n        if(ogWidth === 0 || ogHeight === 0){\n            ogWidth = el.getAttribute('width')\n            ogHeight = el.getAttribute('height')\n        }\n    }else{\n        var ogWidth = 762.22\n        var ogHeight = 668.97\n    }\n    \n    if(string === 'height' ){\n        let ratio = ogHeight / size\n        return {\n            height: size,\n            width: ogWidth / ratio\n        }\n\n    }else if(string === 'width' ){\n        let ratio = ogWidth / size\n        return {\n            width: size,\n            height: ogHeight / ratio\n        }\n    }else console.log('check parameters');\n}\n\n\nWebFont.load({\n    google: {\n      families: ['Do Hyeon', 'Orbitron']\n    },\n    active: function(){\n        //Starts when google fonts are loaded     \n        slotMachine();\n        Stretch();\n    }\n})\n\nfunction slotMachine(){\n\n    var canvas = document.getElementById('slot-machine');\n    var ctx = canvas.getContext('2d');\n      \n    var Slot = function(){\n\t    this.x = 0;\n\t\tthis.width = canvas.width = wW < 970 ? 360 : 475;\n\t    this.height = canvas.height = wW < 970 ? 360 : 475;\n\t\tthis.text = 'PHOTO'\n\t    this.letters = [];\n\n\t    this.addLetter = function(n){\n\n\t        var letterHeight = wW < 970 ? -124 : -158;\n\n\t        //Places letters at top index 1,3,5\n\t        var bottom = wW < 970 ? this.height + 60 : this.height + 96;\n\t        for(var j = 0; j < n; j++ ){\n\t            //Resets x every iteration\n\t            this.x = 0\n\t            //Adjust bottom and height all letters\n\t            letterHeight = wW < 970 ? letterHeight + 121 : letterHeight + 158\n\t            for(var i = 0; i < this.text.length; i++){\n\n\t                var data = {\n\t                    top: letterHeight,\n\t                    letter: this.text[i],\n\t                    x: i === 0 ? -5 : wW < 970 ? this.x+=74 : this.x+=100.8,\n\t                    speed: 9, \n\t                    bottom: bottom - letterHeight,\n\t                    start: i % 2 === 0 ? \"up\" : \"down\"\n\t                }\n\t                n === 4 ? this.letters.push(data) : this.letters.unshift(data)\n\n\t                var letter = data\n\t        \n\t                if(i%2 === 0){\n\t                    this.drawUp(letter)\n\t                }else{\n\n                        if( wW < 970 ){\n                            //fixes spacing issue Orbitron font\n                            i === 3 ? letter.x += 3 : true\n                            i === 1 ? letter.x -= 3 : true\n                        }\n\t                    this.drawDown(letter)\n\t                } \n\t            }\n\t        }\n\t    }\n\t   this.addLetter(4)\n\t}\n\n    Slot.prototype.drawUp = function(text){\n      \n        ctx.font = wW < 970 ?  \"Bold 62pt Orbitron\" : \"105pt Do Hyeon\";\n        ctx.fillText(text.letter,text.x, text.bottom)\n    }\n    Slot.prototype.drawDown = function(text){\n        \n\t\tctx.fillStyle = \"#0D1B56\";\n         ctx.font = wW < 970 ? \"Bold 62pt Orbitron\" : \"105pt Do Hyeon\";\n        ctx.fillText(text.letter,text.x, text.top)\n\n    }\n\n    Slot.prototype.update = function(){\n\n        // var push = wW < 970 ? -61 : -74\n        var push = wW < 970 ? -61 : -75\n    \tif(!slotMachine.prototype.toggle) return;\n    \n        //New set if letters drawn based on spacing\n        if(this.letters[19].bottom <= push ){\n              \n            this.letters.splice(15,5)\n            this.addLetter(1)\n        }\n\n        ctx.clearRect(0,0,canvas.width, canvas.height)\n        \n    \tfor(var i = 0; i < this.letters.length; i++){\n             \n            var letter = this.letters[i]\n\n            letter.top += letter.speed \n            letter.bottom -= letter.speed \n            \n            if(letter.start === \"up\"){\n\n                this.drawUp(letter)\n\n            }else this.drawDown(letter)\n    \t}\n        requestAnimationFrame(this.update.bind(this))\n    }\n    var slot = new Slot()\n    \n    document.querySelector('.photo .start-canvas').addEventListener('click', function(){\n        \n    \t//Start Canvas\n    \tslotMachine.prototype.toggle = true\n        requestAnimationFrame(slot.update.bind(slot))\n    });\n\n    document.querySelector('.photo .stop-canvas').addEventListener('click', function(){\n      \t//Stop Canvas\n    \tslotMachine.prototype.toggle = false\n    });\n\n}\n\n\n\nfunction Stretch(){\n\n    var canvas = document.getElementById('stretch');\n    var ctx = canvas.getContext('2d');\n  \n    if(wW < 970){\n        var width = 400\n        var height =  375\n        var strtch = 15\n        var letterDist = 53\n        var x = 65\n        var stretchX = 5\n        var mixedNum = 5\n    }\n    if(wW < 400){\n        var width = 360\n        var height =  375\n        var x = 50\n        var mixedNum = -10\n    }\n    if(wW > 970){\n        var width = 650\n        var height =  450\n        var strtch = 30\n        var letterDist = 65\n        var x = 125\n        var mixedNum = 5\n    }\n    /** CHANGE NUMBER FOR lineCount TO ADD OR SUBTRACT HOW MANY LINES OF WORDS **/\n    var lineCount = 7;\n    var count = 0;\n    var t = lineCount - 1;\n    var colors = [\"#DAF7A6\", \"#FFC300 \", \"#FF5733\", \"#C70039\", \"#900C3F\", \"#581845\", \"#37102b\"]\n    var Letters = function(){\n        // this.text = 'SOLUTIONS'\n        this.letters = [];\n        this.total = this.letters.length - 1\n        this.total = 0;\n        this.y = 0;\n\n        \n        this.width = canvas.width = width\n        this.height = canvas.height = height\n        this.text = 'DEVELOPER'\n        \n        this.pushLetters = function(x, dist){\n            //If pushLetters is ran again makes sure this.y = 0\n            if(this.y) this.y = 0\n            var canvasHeight = this.height\n            for(var i = 0; i < lineCount; i++){\n                var data = {\n                    x: x,\n                    letter: this.text,\n                    stretch: strtch,\n                    start: 0,\n                    speed: i,\n                    dist: typeof dist === 'number' ? dist : 0,\n                    //Letters distance between each other virticle \n                     distance: this.y += letterDist,\n                     //Letters start on the bottom\n                    bottom: wW < 970 ? canvasHeight + 45 : canvasHeight + 62,\n                    begin: 1,\n                    //When the next rotation starts\n                    beginY: 0,\n                    scaleTotal: 4,\n                    distY: 0,\n                    color: colors[i]\n                }\n                this.letters.push(data)\n            }\n        }\n        this.pushLetters(x)\n    }\n\n    var drawUp = function(letter, dist){\n\n        ctx.setTransform(1,0,0, letter.scale,letter.x, letter.bottom - dist )\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = letter.color\n        ctx.fillText(letter.letter, 0, letter.textY);\n        // var text = ctx.measureText(letter.letter)\n    }\n    var stretch = function(text){\n        ctx.canvas.style.letterSpacing = text.dist +'px'\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = text.color\n        ctx.fillText(text.letter, text.x, text.bottom - text.distance )\n    }\n\n    var drawDown = function(letter){\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = letter.color\n        ctx.fillText(letter.letter, letter.x, letter.y)\n    }\n\n    var drawBackFlip = function(letter){\n        ctx.font = wW < 970 ? \"40pt Do Hyeon\" : \"60pt Do Hyeon\";\n        ctx.fillStyle = letter.color\n        ctx.setTransform(1,0,0, letter.scale,letter.x, letter.y )\n        ctx.fillText(letter.letter, 0, letter.textY);\n    }\n    \n    Letters.prototype.addLetters = function(timestamp){\n\n    \tif(!Stretch.prototype.toggle) return;\n       \tvar j = 0;\n\t\n        ctx.globalCompositeOperation = 'destination-under';\n        ctx.setTransform(1,0,0,1,0,0);\n        ctx.clearRect(0,0,canvas.width, canvas.height)\n\n        for(var i = 0; i < this.letters.length; i++){\n            \n            var letter = this.letters[i];\n            letter.y = letter.bottom - letter.distance\n\n            //FOURTH AND LAST CALL, REMOVE WORDS\n            if(count === 3 && i === t) {\n\n                if(!letter.start) letter.start = timestamp\n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 600, 1)\n                letter.y += (letter.distance * progress)\n\n                letter.scale = 0 || (letter.begin - ( letter.scaleTotal * progress) ).toFixed(2)\n                letter.textY =  (letter.beginY + ( letter.distY * progress) ).toFixed(2)\n                drawBackFlip(letter)\n\n                 if(letter.scale == -1 || letter.scale < -1){\n                \n                    letter.beginY = 10\n                    letter.distY = wW < 970 ? -5 : -10\n                    letter.scaleTotal = -4\n                    letter.begin = -3\n                }\n\n                if( progress === 1 ){\n                    //Removes item from array after each word is finished animating\n                    this.letters.splice(t,1)\n                    t--\n                }\n                if( t === -1 ){\n                    setTimeout(function(){\n                        this.total = 0\n                        count = 0\n                        t = lineCount - 1\n                        this.letters.length = 0\n                        this.pushLetters(x)\n                    }.bind(this), 200)\n                } \n            }\n            if( count === 3 && i !== t ) drawDown(letter)\n\n\n            //THIRD, LETTER STRETCH IN\n            if( count === 2 && i === t ) {\n                if(!letter.start) letter.start = timestamp\n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 125, 1)\n                letter.dist = letter.stretch - (letter.stretch * progress)\n\n                letter.x = mixedNum + (letter.stretch * progress) * 4\n                \n                stretch(letter)\n\n               if(progress === 1 ){\n                    t--\n                }\n                //RESETS VARIABLES, CALLS FUNCTION ALL OVER AGAIN\n                if(t === -1){\n                    setTimeout(function(){\n                        count++\n                        t = lineCount - 1\n                        this.letters.length = 0\n                        this.pushLetters(x, 0)\n                    }.bind(this), 200)\n                }\n            }\n            if(count === 2 && i !== t) {\n\n                stretch(letter)\n            }\n          \n            //SECOND, LETTER STRETCH OUT\n            if( count === 1 && i === j ) {\n\n                if(!letter.start) letter.start = timestamp\n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 150, 1);\n\n                letter.dist = letter.stretch * progress;\n                letter.x = x - (letter.dist * 4)\n           \n                stretch(letter)\n\n                if( progress === 1 ){\n                    j++\n                }\n\n                if( j === this.letters.length ){\n                    count++\n                    this.letters.length = 0;\n                    // -5 because letters stretched to far, need to fix numbers\n                    // wW < 970 ? this.pushLetters(5, 15) : this.pushLetters(5, 30);\n                    this.pushLetters(mixedNum, wW < 970 ? 15 : 30 )\n                }\n            }\n            if( count == 1 && i !== j ) {\n                letter.x = letter.x\n                letter.dist = letter.dist\n                stretch(letter)\n            }\n\n            //FIRST, LETTER CLIMBE\n            if( i === j && count === 0 ){\n\n                if(!letter.start) letter.start = timestamp \n                var runtime = timestamp - letter.start\n                var progress = Math.min(runtime / 600, 1)\n                var dist = letter.distance * progress;\n    \n                letter.scale = 0 || (letter.begin - ( letter.scaleTotal * progress) ).toFixed(2)\n                letter.textY =  (letter.beginY + ( letter.distY * progress) ).toFixed(2)\n   \n                drawUp(letter, dist)\n  \n                //Adds second flip to make upright text half way up canvas\n                if(letter.scale == -1 || letter.scale < -1){\n                    //When the next rotation starts for beginY and distY\n                    letter.beginY = wW < 970 ? 5 : 10\n                    letter.distY = wW < 970 ? -5 : -10\n                    letter.scaleTotal = -4\n                    letter.begin = -3\n                }\n                \n                if( progress === 1) {\n                    j++\n                }      \n        \n                if( j === this.letters.length ){\n                    count++\n                    this.letters.length = 0;\n                    this.pushLetters(x, 0)\n\n                }\n            }\n        }\n        requestAnimationFrame(this.addLetters.bind(this))\n    }\n    var letters = new Letters()\n\n    document.querySelector('.developer .start-canvas').addEventListener('click', function(e){\n\n        Stretch.prototype.toggle = true\n        requestAnimationFrame( letters.addLetters.bind(letters) )\n \n    });   \n\n    document.querySelector('.developer .stop-canvas').addEventListener('click', function(){\n\n       Stretch.prototype.toggle = false\n\n    })\n};\n\nfunction ImageShatter(){\n    var sizing = function(content){\n        if(content === 'dur'){\n            if (window.innerWidth < 600)\n                return 2.6\n            else if (window.innerWidth > 600)\n                return 3.5\n                \n        }\n        if(content === 'img'){\n            if(window.innerWidth <= 600) \n                return 400\n            else if (window.innerWidth > 1200)\n\n                return 580\n            else\n                return 500\n        }\n    }\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var img = new Image();\n    var ctx, canvas;\n    var particleCanvas, particleCtx;\n    var canvasParentWidth;\n    var canvasParentHeight;\n    var ending = []\n    var retractStart = 0;\n    var imgCanvas = function(width, height, img,callback){\n        //Watch where this is loaded into when portfolio done\n        // document.body.innerHTML += '<canvas id=\"img-canvas\"></canvas>';\n        // canvas = document.getElementById('img-canvas')\n        canvas = document.getElementById('particle')\n        ctx = canvas.getContext(\"2d\");\n\n        canvas.width = width\n        canvas.height = height\n        canvasParentWidth = _('svg-page').getBoundingClientRect().width\n        canvasParentHeight = _('svg-page').getBoundingClientRect().height\n\n        ctx.drawImage(img, 0, 0, width,height)\n\n        //Calls function for clickable event listener to run and appends background canvas\n        callback(canvas,createParticleCanvas())\n    }\n\n\n    function createParticleCanvas() {\n\n        // Create our canvas\n        particleCanvas = document.createElement(\"canvas\");\n        particleCtx = particleCanvas.getContext(\"2d\");\n\n        // Size our canvas with additional sizing\n        particleCanvas.width = canvasParentWidth\n        particleCanvas.height = canvasParentHeight\n      \n        // Position out canvas\n        particleCanvas.style.position = \"absolute\";\n        particleCanvas.style.top = \"0\";\n        particleCanvas.style.left = \"0\";\n      \n        // Make sure it's on top of other elements\n        particleCanvas.style.zIndex = \"500\";\n        \n        // Make sure other elements under it are clickable\n        particleCanvas.style.pointerEvents = \"none\";\n        var foreignObject = document.createElementNS( ns, \"foreignObject\");\n        foreignObject.setAttribute('class', \"particleObject\")\n        foreignObject.setAttribute('width', canvasParentWidth)\n        foreignObject.setAttribute('height', canvasParentHeight)\n        foreignObject.appendChild(particleCanvas)\n       \n        document.querySelector('g.design').appendChild(foreignObject)\n\n    }\n\n    \n        \n    //Image comes appart\n    var ExplodingParticle = function() {\n        this.begin = 0\n\n        // Set how long we want our particle to animate for\n        this.animationDuration = 1000; // in ms\n\n        // Set the speed / distance for our particle\n        this.speed = {\n            x: window.innerWidth < 768 ? -5 + Math.random() * 10 : -10 + Math.random() * 20,\n            y: window.innerWidth < 768 ? -5 + Math.random() * 10 : -10 + Math.random() * 20\n        };\n      \n        // Size our particle\n        window.innerWidth < 768 ? this.radius = 3 + Math.random() * 3 : this.radius = 4 + Math.random() * 4;\n      \n      \n        // Set a max time to live for our particle\n        this.life = 30 + Math.random() * 10;\n        this.remainingLife = this.life\n\n        // This function will be called by our animation logic later on\n        this.draw = ctx => {\n\n            let p = this\n             \n            if(this.remainingLife > 0 && this.radius > 0) {\n                \n                // Draw a circle at the current location\n                ctx.beginPath()\n                ctx.arc(p.startX, p.startY, p.radius, 0, Math.PI * 2);\n                ctx.fillStyle = \"rgba(\" + this.rgbArray[0] + ',' + this.rgbArray[1] + ',' + this.rgbArray[2] + \", 1)\"\n                ctx.fill()\n          \n                // Update the particle's location and life\n                p.remainingLife--\n                p.radius -= 0.25\n                p.startX += p.speed.x\n                p.startY += p.speed.y\n                \n            }\n        }\n        this.retract = (begin, finale, timestamp) => {\n\n                \n            if(!retractStart) retractStart = timestamp\n        \n                var runtime = timestamp - retractStart\n                var progress = Math.min(runtime / 3000, 1)\n        \n                \n                // canvas.style.opacity = 1 - progress\n                particleCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\n            for(let i = 0; i < begin.length; i++) {\n                var start = begin[i]\n                var end = finale[i]\n                \n     \n                var distX = Math.abs(start.startX  - end.x)\n                var distY = Math.abs(start.startY - end.y)\n                \n                //If end x or y is greater than x or y subtract else add\n                start.x = start.startX > end.x ? start.startX - (distX * progress) : start.startX + (distX * progress)\n                start.y = start.startY > end.y ? start.startY - (distY * progress) : start.startY + (distY * progress)\n                start.rad = start.begin + (end.rad * progress)\n                \n                particleCtx.beginPath()\n                \n                particleCtx.arc(start.x, start.y, start.rad, 0, Math.PI * 2);\n                particleCtx.fillStyle = \"rgba(\" + start.rgbArray[0] + ',' + start.rgbArray[1] + ',' + start.rgbArray[2] + ','+ start.rgbArray[3]+\")\"\n            \n                particleCtx.fill()\n            \n            }\n          if(progress === 1 ){\n            //returns the photo back if ran again\n            return \n          }\n           \n            requestAnimationFrame(function(timestamp){\n                this.retract(begin, finale, timestamp)\n            }.bind(this))\n        }\n    }\n\n\n\n    var particles = [];\n\n    function createParticleAtPoint(x, y, colorData) {\n        let particle = new ExplodingParticle();\n        \n        particle.rgbArray = colorData;\n        particle.startX = x;\n        particle.startY = y;\n        particle.startTime = Date.now();\n        \n        particles.push(particle);\n        let end = {}\n        end.start = 0;\n        end.rad = particle.radius;\n        end.x = x;\n        end.y = y;\n        ending.push(end)\n      \n    }\n\n    var opac = 1;\n    function update() {\n        if(typeof particleCtx !== \"undefined\") {\n            particleCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n        }\n        //image fades as it's breaking apart\n        canvas.style.opacity = (opac = opac - .08)\n\n        // Draw all of our particles in their new location\n        for(let i = 0; i < particles.length; i++) {\n\n            particles[i].draw(particleCtx);\n\n            // When particles \n            if(particles[i].radius < 0) {\n                let percent = (Date.now() - particles[i].startTime) / particles[i].animationDuration                \n                let dur = sizing('dur')\n               \n                if(percent > dur) {\n                \n                    let particle = new ExplodingParticle();\n\n                    particle.retract(particles, ending)\n    \n                    return;\n                }\n            }\n        }\n        window.requestAnimationFrame(update);\n    }\n\n    var clearData = function(){\n        retractStart = null\n        canvas.removeAttribute('style')\n        particleCtx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n        ending = []\n        particles = []\n    }\n\n    img.onload = function(){\n        var width = sizing('img')\n        var height = width;\n        imgCanvas(width,height,this,runEvents)\n        \n    }\n    img.src = 'images/design-img.png'\n\n    function runEvents(imgCanvas){\n        var foreignObject = document.querySelector('.design .item-canvas')\n     \n        let imageLeft = parseInt(foreignObject.getAttribute('x') );\n        let imageTop = parseInt(foreignObject.getAttribute('y') );\n        // let reductionFactor = window.width <= 400 ? 15 : Math.round(imgCanvas.width / 15)\n        if(window.innerWidth < 600)\n            var reductionFactor = 15\n        if(window.innerWidth >=600) \n            var reductionFactor = 22\n        if(window.innerWidth >= 1200)\n            var reductionFactor = 33\n        \n        //Removes canvas with particles made from when closing svg page\n        _('close-btn').addEventListener('click', clearData)\n\n        imgCanvas.addEventListener('click', function(e){\n            if(e.target.style.opacity ){\n              \n                return clearData()\n            }\n          \n            //width first one pixel, then all of height pixels, width another pixel then all of height pixels \n            let rgbaData = ctx.getImageData(0,0, this.width, this.height).data;\n            let count = 0;\n            for(let x = 0; x < this.width; x++){\n                for(let y = 0; y < this.height; y++){\n    \n                    if(count % reductionFactor === 0) {\n           \n                    let index = (y * this.width + x) * 4;\n                    let rgbaColorArr = rgbaData.slice(index, index + 4);\n                   \n                    let globalX = imageLeft + x;\n                    let globalY = imageTop + y;\n                   \n                    createParticleAtPoint(globalX, globalY, rgbaColorArr)\n\n                    }\n                    count++\n                }\n            }\n            update()\n        });\n    }\n}\nImageShatter();\n\n\n\nfunction StarryNight(){\n       \n    var canvas = document.getElementById('starryNight');\n    var ctx = canvas.getContext('2d');\n    var data = []\n    var trailData = []\n    var rgb =  trailData.length > 1 && 150 / trailData.length\n    var j = 0;\n    var houseWidth = window.innerWidth < 768 ? 380 : 600;\n    var houseHeight = newSize('width', houseWidth).height;\n    this.width = canvas.width = _('svg-page').getAttribute('width');\n    this.height = canvas.height = _('svg-page').getAttribute('height');\n    this.toggle = true;\n\n    this.images = []\n\n    //Men Data\n    var menData = {\n        headArc: window.innerWidth < 768 ? 4 : 6,\n        stepDown: window.innerWidth < 768 ? 12 : 17,\n        rotatedPos: 0,\n        rotateDegree: 14,\n        j: 0, //Each point of animation, walk, stand still, rotate ,falling\n        start: 0,\n        begin: 0,\n        lastPosX: 90,\n        lastPosY: undefined,\n        arcStartX: window.innerWidth < 768 ? 7 : 10,\n        arcStartY: 5\n    }\n\n    //House animation Data\n    this.house = {\n        houseImg: undefined,\n        toggle: undefined,\n        currentY: undefined,\n        start: 0,\n        right: this.width - houseWidth,\n        bottom: this.height - houseHeight,\n        startY: function(){\n            return this.bottom + houseWidth / 2.4\n        },\n        startX: function(){\n            return this.right\n        },\n        begin: function(){\n            menData.lastPosY = (houseHeight / 2.24) - starryNight.images[0].height\n            ctx.drawImage(this.houseImg, this.startX(), this.startY(), houseWidth, houseHeight )\n        },\n        rise: this.height / 2,\n        moveLeft: window.innerWidth < 500 ? this.width / 20 : this.width / 8\n    }\n\n    //Star Trail Data\n    var lastPosition = function(xPos, yPos, radius, alpha){\n        trailData.push({\n            x: xPos,\n            y: yPos,\n            radius: radius,\n            alpha: alpha\n        })\n        if(trailData.length > 25) trailData.shift()\n    }\n\n    this.randomMax = function(min, max){\n        return Math.floor( Math.random() * (max - min) + min )\n    }\n\n    //Adds data for Shooting star\n    this.addData = function(){\n        for(let i = 0; i < 8; i++){\n            var measurements = {\n                // Starts randomly on the x axis\n                delay: i === 0 ? 0 : this.randomMax(1, 2),\n                x: this.randomMax(0, this.width/2),\n                y: this.randomMax(200, this.height),\n                radius: window.innerWidth < 768 ? this.randomMax(5, 13) : this.randomMax(8, 16),\n                distance: this.width + 100,\n                globAlpha: 1,\n                opac: 1,\n                endPos: this.randomMax(100, this.width),\n                start: 0,\n                time: 0,\n                explodeStart: 0,\n                explodeSize: window.innerWidth < 768 ? 20 : 35\n            }\n            data.push(measurements)\n           \n        }\n    }.bind(this)\n\n    //When prototype.toggle = false this automatically gets ran to be able to run animation again\n    this.restoreData = function(){\n        data = []\n        trailData = []\n        j = 0\n        this.addData()\n        menData.begin = null\n    }\n\n    function drawHouse(image,timestamp){\n        if(!image.start) image.start = timestamp\n        var runtime = timestamp - image.start\n        var progress = runtime / 2000\n\n        var distance = image.rise * progress\n        \n        //Floating in place\n        if(image.currentY){\n\n            image.toggle ? image.x = image.currentX - distance  : image.x = image.currentX + distance\n            image.toggle ? image.y = image.currentY + distance  : image.y = image.currentY - distance\n        }\n        \n        if(distance >= image.rise){\n            //Makes currentY true and updates postion of the image\n            image.currentY = image.y\n            image.currentX = image.x\n            image.toggle ? image.toggle = false : image.toggle = true\n            image.start = 0\n            image.rise = 50\n\n        }\n        //Ends the first rise of the image\n        if(!image.currentY) {\n            image.x = image.startX() - (image.moveLeft * progress)\n            image.y = image.startY() - (image.rise * progress)\n        }\n\n        ctx.drawImage(image.houseImg, image.x, image.y, houseWidth, houseHeight )\n    }\n\n    function drawStars(cir){\n        ctx.save()\n        ctx.globalAlpha = cir.alpha\n\n        ctx.beginPath();\n        ctx.arc(cir.xPos, cir.yPos, cir.radius, 0, 2 * Math.PI);\n        ctx.fillStyle = 'rgba(255, 255, 73, ' + cir.opacity + ')'\n        ctx.fill();\n        ctx.restore()\n        lastPosition(cir.xPos, cir.yPos, cir.radius, cir.alpha)\n    }\n\n    function drawTrail(trail){\n        ctx.save()\n        ctx.globalAlpha = 0.2\n        ctx.beginPath();\n        ctx.arc(trail.x, trail.y, trail.rad, 0, 2 * Math.PI, true);\n        ctx.fillStyle = 'rgba(238,'+trail.color+', 6, ' + trail.fade + ')'\n        ctx.fill();\n        ctx.restore()\n    }\n    function drawExplosion(circle, timestamp){\n                \n        if(!circle.explodeStart) circle.explodeStart = timestamp\n        var runtime = timestamp - circle.explodeStart\n        var progress = runtime / 400\n        var ease = easeOut(progress)\n        ctx.beginPath()\n        ctx.arc(circle.xPos, circle.yPos, 0 + (circle.explodeSize * ease), 0, 2 * Math.PI, true)\n        ctx.fillStyle = 'rgba(249, 255, 0, ' + (1 - (.9 * progress) ) + ')'\n        ctx.fill()\n            \n    }\n    function drawMen(men){\n\n        if(menData.j >= 4 && menData.j <= 5){\n            ctx.translate(men.translateX, men.translateY);\n            ctx.rotate(men.rotate * Math.PI / 180);\n            ctx.drawImage(men.img, -men.width/2, -men.height, men.width, men.height)\n            ctx.setTransform(1,0,0,1,0,0)\n        }else{ \n            ctx.save()\n            ctx.globalAlpha = men.opac\n            ctx.beginPath();\n            ctx.arc(men.arcX, men.arcY, men.arcRadius, 0, 2 * Math.PI);\n            ctx.fillStyle = \"#000\"\n            ctx.fill();\n            ctx.drawImage(men.img, men.x, men.y, men.width, men.height)\n            ctx.restore()\n        }\n    }\n\n    var draw = function(timestamp){\n        if(!StarryNight.prototype.toggle){\n            return this.restoreData()\n        } \n\n        //House\n        var image = this.house\n\n        ctx.clearRect(0, 0, this.width, this.height)\n        \n        //Men running start , Stars start after house gets to top. \n        if(image.currentY){\n\n            //**  START OF STARS  **/\n\n            // Draws the trail opacity  \n            if(menData.j >= 1){\n                for(let i = 0; i < trailData.length; i++){\n                    var trail = trailData[i]\n                    var fadeSize =  i / trailData.length\n\n                    //Trail tapers as it goes.\n                    var radiusTaper =   (trail.radius-2) / trailData.length\n                    trail.color = 240 - (i+j)\n                    trail.fade = i / trailData.length\n\n                    //Tapers down the raidus of the trail\n                    trail.rad = (trail.radius = trail.radius - radiusTaper )\n                    // trail.rad = trail.radius\n                    drawTrail(trail)\n                }\n\n                //Draws stars\n                for(let i = 0; i < data.length; i++){\n                    var circle = data[i];\n                    \n                    if( j >= i ){\n                        \n                        if(!circle.start) circle.start = timestamp\n                        let runtime = timestamp - circle.start\n                        let progress = runtime / 2000\n                        var ease = easeOut(progress)\n                        circle.time = (circle.delay - ease)\n\n                        //If the current circle delay = progress draws next circle, (random drawing look)\n                        if(circle.time <= 0){\n\n                            //current circle set to undefined keep from running again\n                            circle.delay = undefined\n                            j++\n                        }\n                        circle.alpha = circle.globAlpha - (1*progress)\n                        circle.opacity = circle.opac -  (.9*progress) \n                        // circle.duration = ease\n                        \n                        if(j%3 !==0 && menData.j >= 1){\n                            circle.xPos = circle.x + (circle.endPos * ease)\n                            circle.yPos = 0 + (circle.y * ease)\n                            ctx.globalCompositeOperation = 'destination-over'\n                        }else {\n                            circle.xPos = circle.x + (circle.endPos * ease)\n                            circle.yPos = 0 + (circle.y * progress)\n                            ctx.globalCompositeOperation = 'source-over'\n                        }\n                    \n                        drawStars(circle)\n\n                        //Explosion start\n                        if(circle.xPos > image.x && circle.yPos > image.y){\n\n                            drawExplosion(circle, timestamp)\n                        \n                        }\n                    \n                        if(j === data.length) {\n                            j = 0\n                            data = []\n                            trailData = []\n                            this.addData()\n                        }\n                    }\n                }\n            }\n            //**  START OF MEN  **/\n            var menLength = starryNight.images.length-1\n\n            for(let i = 0; i < menLength; i++){ \n                var men = starryNight.images[i]\n         \n                if(!menData.begin) menData.begin = timestamp\n                var runtime = timestamp - menData.begin\n                var progress = Math.min(runtime / 2000, 1)\n\n                //First walk out\n                if(menData.j === 0) {\n                    menData.start = parseInt( ( progress * 15).toFixed(0) );\n                    menData.distanceX = window.innerWidth < 768 ? 95 : 205\n                    \n                }\n                //Second Walk stands still\n                if(menData.j === 1){\n                    //Starts and ends with last dude\n                    menData.start = 15\n                    // Keeping count at last man instead of counting through them to animate\n                    menData.distanceX = 0\n                } \n\n                //Third walk down and to the end\n                if(menData.j === 2){\n                    menData.start = parseInt( ( progress * 15).toFixed(0) );\n                    men.walkDown = Math.min( ( progress * 6), 1 ) * menData.stepDown\n                    // menData.distanceX = 250\n                    menData.distanceX = window.innerWidth < 768 ? 159 : 250\n                } \n\n                //Looks down\n                if(menData.j === 3){\n                    var headIterate = Math.min(runtime / 1000, 1)\n\n                    //updates men.walkdown that gets ran before back to 0\n                    men.walkDown = 0\n                    menData.start = 16\n                    menData.distanceX = 0\n                    men.arcX = (image.x + ( menData.lastPosX + (men.width/2+2) )) + ( menData.arcStartX * headIterate )\n                    men.arcY = image.y + ( menData.lastPosY+ 4) + ( menData.arcStartY * headIterate )\n                    men.arcRadius = menData.headArc \n                }\n                //Rotates back and forth\n                if(menData.j === 4){\n                    //2nd rotated position\n                    var newRotatedPos = menData.rotatedPos - ( (menData.rotateDegree * iterate ) - menData.rotatedPos)\n                    menData.start = 14\n\n                    menData.distanceX = 0\n\n                    men.translateX = image.x + (menData.lastPosX + men.width/1.8)\n                    men.translateY = image.y + (menData.lastPosY + men.height)\n                    var iterate = Math.min( ( progress * 3), 3 )\n                    \n                    if(menData.rotatedPos <= menData.rotateDegree){\n                        menData.rotatedPos = (menData.rotateDegree * iterate) \n                        men.rotate  =  menData.rotatedPos\n\n                    }else {\n                        //Rotate back and forth\n                        if(newRotatedPos >= 0) men.rotate = newRotatedPos\n                        if(newRotatedPos <= 0) men.rotate = -newRotatedPos;\n\n                    }\n                    \n                    //updates roatedPos for mendata.js = 5 to be used below\n                    if(progress === 1){\n                        men.arcRadius = 0\n                        menData.roatedPos = men.rotate\n                    }\n                }\n                //Falls Down\n                if(menData.j === 5){\n                    menData.start = parseInt( ( progress * 10).toFixed(0) );\n\n                    men.translateX = image.x + (menData.lastPosX + men.width / 2) + ( (this.width / 6 ) * progress )\n                    men.translateY = image.y + (menData.lastPosY + men.height)  + ( (this.height / 2) * progress )\n                    men.rotate = menData.roatedPos + (180 * progress)\n                    menData.distanceX = 0\n                    if(progress === 1) men.opacity = 0\n                }\n                if(menData.j === 6){\n                    \n                    men.opac = men.opacity + (1 * progress)\n                }\n                \n                if(men.startPos === menData.start){ \n\n                    //Constanatly updates men location on the House\n                    var lastX = menData.lastPosX + ( menData.distanceX * progress );\n                    var lastY = menData.lastPosY + ( men.walkDown || 0 )\n\n                    men.x = image.x + (menData.lastPosX + ( menData.distanceX * progress) )\n                    men.y = image.y  + (menData.lastPosY + (men.walkDown || 0) )\n                \n                    drawMen(men)\n            \n                    if(progress < 1){\n\n            \n                    }else{\n                        //Resets or updates positions\n                        menData.lastPosX = lastX\n                        menData.lastPosY = lastY\n                        menData.j++\n                        menData.begin = 0\n                        menData.start=0\n                    }\n                }\n            }\n        };\n        drawHouse(image,timestamp)\n\n        requestAnimationFrame(draw)\n\n    }.bind(this);\n\n    document.querySelector('.animations .start-canvas').addEventListener('click', function(){\n\n        StarryNight.prototype.toggle = true\n        requestAnimationFrame(draw)\n\n    }.bind(this))\n\n     document.querySelector('.animations .stop-canvas').addEventListener('click', function(){\n\n        StarryNight.prototype.toggle = false\n    })\n}\n\nStarryNight.prototype.loadImages = function(){\n    var height = window.innerWidth < 768 ? 60 : 80\n    var width = window.innerWidth < 768 ? 48 : 64\n    var $this = this\n    var count = 0;\n    var images = []\n    var ext = isFirefox ? \"png\" : \"svg\";\n \n    var men = [         \n        {src: \"images/men/zero.\"+ext, height: height, width: width},\n        {src: \"images/men/one.\"+ext, height: height, width: width},\n        {src: \"images/men/two.\"+ext, height: height, width: width},\n        {src: \"images/men/three.\"+ext, height: height, width: width},\n        {src: \"images/men/four.\"+ext, height: height, width: width},\n        {src: \"images/men/five.\"+ext, height: height, width: width},\n        {src: \"images/men/six.\"+ext, height: height, width: width},\n        {src: \"images/men/seven.\"+ext, height: height, width: width},\n        {src: \"images/men/eight.\"+ext, height: height, width: width},\n        {src: \"images/men/nine.\"+ext, height: height, width: width},\n        {src: \"images/men/ten.\"+ext, height: height, width: width},\n        {src: \"images/men/eleven.\"+ext, height: height, width: width},\n        {src: \"images/men/twelve.\"+ext, height: height, width: width},\n        {src: \"images/men/thirteen.\"+ext, height: height, width: width},\n        {src: \"images/men/fourteen.\"+ext, height: height, width: width},\n        {src: \"images/men/fifteen.\"+ext, height: height, width: width},\n        {src: \"images/men/headless.\"+ext, height: height, width: width},\n        {src: \"images/men/house-floating.\"+ext}\n    ];\n\n    for(let i = 0; i < men.length; i++){\n        \n        var img = new Image();\n        \n        try{\n            throw i\n        }catch(i){\n            img.onload = function(){\n   \n                images.push({\n                    img: this,\n                    height: men[i].height,\n                    width: men[i].width,\n                    start: 0,\n                    startPos: i\n                })\n              \n                if(++count === men.length){\n                    \n                    //Sorts the men array in order due to loading images differently\n                    images.sort(function(a,b){\n                        return a.startPos - b.startPos;\n                    })\n\n                    starryNight.images = images;\n                    //updates the undefined house property with this img\n                    $this.house.houseImg = img;\n                    $this.addData()\n                    $this.house.begin()\n                }\n            }\n            img.src = men[i].src\n        }\n    }\n};\n\n\nvar Technologies = function() { \n    var svgPageWidth =  _('svg-page').getAttribute('width')\n    var svgPageHeight = _('svg-page').getAttribute('height')\n    var width = svgPageWidth < 970  || svgPageHeight < 800;\n    this.canvas = document.getElementById('techIcons');\n    \n    this.ctx = this.canvas.getContext('2d');\n    this.width = this.canvas.width = svgPageWidth;\n    this.height = this.canvas.height = svgPageHeight;\n    this.start = 0;\n    this.start;\n    this.bodyData = []\n    this.icons;\n    this.j = 0\n    var newTechnologies = this\n    this.data = {\n        addBodyData:  function(){\n    \n            if(width){\n                //Body location X and Y\n                return {\n                    x : newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2),\n                    y : (newTechnologies.height - newTechnologies.bodyData[1].height) ,\n                    translateX: newTechnologies.width/2 - (newTechnologies.bodyData[3].width/2)+60,\n                    translateY: (newTechnologies.height - newTechnologies.bodyData[1].height) +70,\n                    headX: newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2) + 41,\n                    headY: (newTechnologies.height - newTechnologies.bodyData[1].height) - 61\n                }\n            }else{\n                return {\n                    x : newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2),\n                    y : (newTechnologies.height - newTechnologies.bodyData[1].height),\n                    //Translate head rotation\n                    translateX: newTechnologies.width/2 - (newTechnologies.bodyData[3].width/2)+85,\n                    //Translate head rotation\n                    translateY: (newTechnologies.height - newTechnologies.bodyData[1].height) + 100,\n                    headX: newTechnologies.width/2  - (newTechnologies.bodyData[1].width / 2.2) + 57,\n                    headY: (newTechnologies.height - newTechnologies.bodyData[1].height) - 87\n                }\n            }\n        },\n        rotate: -140,\n        j: 0,\n        bookHeight: 200\n    }\n    \n    this.sprites = []\n       \n        var ext = isFirefox ? \"png\" : \"svg\";\n\n        var bodyWidth = width ? 1.3 : 1.8;\n        var bodyHeight = width ? 1.3 : 1.8;\n        var src = [\"images/top-head.\"+ext, \"images/face-body.\"+ext, \"images/book.\"+ext, \"images/full-body.\"+ext]\n\n        if(width){\n\n            var imgWidth = [284.5 ,400, 320.96, 400]\n            var imgHeight = [170.9, 483.7, 226.8, 564.66]\n        }else{\n            var imgWidth = [553.5, 778.2, 629.9, 778]\n            var imgHeight = [332.49, 941, 443.27, 1098.9]\n        }\n    \n        this.imgIcons = [\n                {src: \"images/icons/adobe-50-50.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/after-effects-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/artistic-52-54.\"+ext, width: 40, height: 42},\n                {src: \"images/icons/bootstrap-50-50.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/camera-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/cloud-64-49.5.\"+ext, width: 42, height: 32.5},\n                {src: \"images/icons/code-60-53.\"+ext, width: 43, height: 38},\n                {src: \"images/icons/css-55-52.\"+ext, width: 42, height: 39.8},\n                {src: \"images/icons/design-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/git-hub-55-55.\"+ext, width: 43, height: 43},\n                {src: \"images/icons/google-drive-72-64.\"+ext, width: 46, height: 40.8},\n                {src: \"images/icons/illustrator-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/js-55-56.\"+ext, width: 41, height: 42},\n                {src: \"images/icons/node-50-50.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/nodejs-60.5-37.\"+ext, width: 55, height: 33.6},\n                {src: \"images/icons/npm-70-27.2.\"+ext, width: 65, height: 25.2},\n                {src: \"images/icons/photoshop-52-52.\"+ext, width: 40, height: 40},\n                {src: \"images/icons/php-65-35.\"+ext, width: 45, height: 24.2},\n                {src: \"images/icons/python-57-58.\"+ext, width: 40, height: 40.7},\n                {src: \"images/icons/react-59-52.\"+ext, width: 42, height: 37},\n                {src: \"images/icons/server-55-58.\"+ext, width: 40, height: 40}\n        ]\n\n    this.loopImgs = function(){\n        var load = []\n\n        for(var j = 0; j < 4; j++){\n            load.push({\n                src: src[j],\n                width: imgWidth[j] / bodyWidth,\n                height: imgHeight[j] / bodyHeight\n            })\n        }\n        var icons = this.imgIcons\n\n        for(var i = 0; i < icons.length; i++){\n            var w = !width ? icons[i].src.replace(/^([a-z\\/]+)\\/([a-z-?]+)-(\\d\\d)(.+)/ig,\"$3\") : icons[i].width\n            var h = !width ? icons[i].src.replace(/^(.+)(\\d{2})(.+)/ig,\"$2\") : icons[i].height\n            // console.log(w,h, i);\n            load.push({\n                src: icons[i].src,\n                width: parseInt(w),\n                height: parseInt(h)\n            })\n        }\n        return load\n    };\n    function random(min, max){\n        return Math.floor(Math.random() *  (max - min ) + min)\n    };\n    this.addData = function(n){\n        var icons = this.icons\n        for(var i = 0; i < n; i++ ){\n            \n            this.sprites.push({\n                //Each icon draws for ever 30 mil sec\n                timing:  30,\n                endX: random(0, this.width/2 ),\n                endY: random(0, this.height - (this.bodyData[1].height + 50) ),\n                start: 0,\n                speed: random(4000, 9000),\n                x: this.width / 2,\n                y: this.data.addBodyData().y + 15, // plus 100 the sprite size\n                img: this.icons[i%icons.length].img,\n                width: this.icons[i%icons.length].width,\n                height: this.icons[i%icons.length].height,\n                X: 0,\n                Y: 0,\n                staticSpeed: 0,\n                rotate: random(180, 1440)\n            })\n        }\n    }\n}\n\nTechnologies.prototype.rotateHead = function(rotate, pos){\n\n    var img = this.bodyData\n    this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height)\n    this.ctx.drawImage(img[1].img,  pos.x, pos.y, img[1].width, img[1].height) //Face body\n    this.ctx.translate(  pos.translateX, pos.translateY); // Translate \n    this.ctx.rotate(rotate * Math.PI/180)\n    this.ctx.translate( -pos.translateX,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[0].img,  pos.headX ,  pos.headY, img[0].width, img[0].height)  //Head draw in translated canves\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n};\n\nTechnologies.prototype.drawBook = function(data, pos){\n    var img = this.bodyData\n    this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height)\n    this.ctx.globalCompositeOperation = 'destination-over'\n    this.ctx.drawImage(img[1].img,  pos.x, pos.y, img[1].width, img[1].height) //Face body\n    this.ctx.translate(  pos.translateX, pos.translateY); // Translate \n    this.ctx.rotate(-140 * Math.PI/180)\n    this.ctx.translate( -pos.translateX,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[0].img,  pos.headX ,  pos.headY, img[0].width, img[0].height)  //Head draw in translated canves\n    this.ctx.setTransform(1,0,0,1,0,0);\n\n    this.ctx.translate(  pos.translateX + img[2].width / 2, pos.translateY); // Translate  \n    this.ctx.scale(data.scale, data.scale); //Scales book\n    this.ctx.translate( -pos.translateX - img[2].width / 2 ,-pos.translateY ); // Translate back for\n    this.ctx.drawImage(img[2].img, data.bookX, data.bookY, img[2].width, img[2].height) //book image\n    this.ctx.setTransform(1,0,0,1,0,0);\n};\n\nTechnologies.prototype.drawBody = function(data, pos ){\n    var img = this.bodyData\n\n    this.ctx.drawImage(img[1].img,  pos.x, pos.y, img[1].width, img[1].height) //Face body\n    this.ctx.translate(  pos.translateX, pos.translateY); // Translate \n    this.ctx.rotate(-140 * Math.PI/180)\n    this.ctx.translate( -pos.translateX,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[0].img,  pos.headX ,  pos.headY, img[0].width, img[0].height)  //Head draw in translated canves\n    this.ctx.setTransform(1,0,0,1,0,0);\n    this.ctx.translate(  pos.translateX + img[2].width / 2, pos.translateY); // Translate  \n    this.ctx.scale(1.05, 1.05);\n    this.ctx.translate( -pos.translateX - img[2].width / 2 ,-pos.translateY ); // Translate back\n    this.ctx.drawImage(img[2].img, data.bookX, data.bookY, img[2].width, img[2].height) //book image\n    this.ctx.setTransform(1,0,0,1,0,0);\n};\n\nTechnologies.prototype.drawIcons = function(spr){\n    this.ctx.setTransform(1,0,0,1, spr.X, spr.Y);\n    this.ctx.rotate(spr.turn * Math.PI/180)\n    this.ctx.drawImage(spr.img,-spr.width/2, -spr.height/2, spr.width, spr.height );\n    this.ctx.setTransform(1,0,0,1,0,0)\n};\n\nTechnologies.prototype.draw = function(timestamp){\n    if(!this.toggle) return\n    var width = this.width < 970  || this.height < 800\n    var img = this.bodyData\n    var data = this.data;\n    var pos = data.addBodyData();\n    \n  \n    if(!this.start)\n        this.start = timestamp\n        var runtime = timestamp - this.start\n        var progress = Math.min(runtime / 1000, 1)\n\n        if(progress < 1 && data.j <= 1){\n      \n            if(width){\n                //Updates x loactions and y location of book\n                data.bookX = ((pos.translateX)-40) - (0)\n                data.bookY = ((pos.translateY)-110) - (60*progress);\n            }else{\n                //Updates x loactions and y location of book\n                data.bookX = ((pos.translateX)-60) - (0);\n                data.bookY = ((pos.translateY)-180) - (60*progress);\n                \n            }\n            //Rotate head\n            if(data.j === 0){\n\n                var rotate = data.rotate*progress;\n                this.rotateHead(rotate,pos)\n            }\n            //PUsh up book\n            if(data.j === 1){\n\n                data.scale = .5 + (.55 * progress)\n                this.drawBook(data,pos)\n            }\n        }else{\n\n            //Draw Icons\n            if(data.j === 2){\n                this.ctx.setTransform(1,0,0,1,0,0);\n                this.ctx.clearRect(0,0,this.canvas.width, this.canvas.height)\n                this.drawBody(data, pos)\n\n                var sprites = this.sprites.length\n               \n                for(var i = 0; i < sprites; i++ ){\n                    \n                    var spr = this.sprites[i]\n                    \n                    if(i <= this.j){\n                \n                        spr.staticSpeed++\n                    \n                        if(!spr.start) spr.start = timestamp\n                        var run = timestamp - spr.start\n                        var prog = run / spr.speed\n    \n                        if(i%2){\n                            //left up\n                            spr.X = spr.x - (spr.endX * prog)\n                            spr.Y = spr.y - (spr.endY * prog)\n                            spr.turn = -spr.rotate * prog\n            \n                        }else{\n                            //right up;\n                            spr.X = spr.x + (spr.endX * prog)\n                            spr.Y = spr.y - (spr.endY * prog)\n                            spr.turn = spr.rotate * prog\n                        } \n\n                        spr.totalX = spr.X\n                        spr.totalY = spr.Y\n            \n                        if( (spr.totalX+spr.width) <= 0 || (spr.totalY+spr.height) <= 0 || spr.totalX > this.width+spr.width) {\n                            \n                            //Resets values, for same icon to run again\n                            this.sprites[i].start = 0\n                        }\n                        this.drawIcons(spr)\n                        if(spr.staticSpeed === spr.timing) this.j++\n                    }\n                }\n            }else{\n                this.start = 0\n                data.j++\n            }\n        }\n        requestAnimationFrame(this.draw.bind(this))\n};\n\n\nTechnologies.prototype.loadImages = function(){\n    var $this = this;\n    var counter = 0;\n    var loadedImages = 0;\n    var imgs = [];\n    \n    this.loopImgs().forEach(function(image, i){\n        counter++;\n        var img = new Image()\n\n        img.onload = function(){\n\n            //Width or height doesn't exist updates 0 for it\n            imgs.push({img: this, i, width: image.width , height: image.height })\n\n            if(++loadedImages >= counter){     \n                imgs.sort(function(a,b){\n                    return a.i - b.i\n                })\n                //When Icons load full body image gets added\n                $this.ctx.drawImage(imgs[3].img, ($this.width/2) - imgs[1].width / 2.2, ($this.height) - imgs[3].height, imgs[3].width, imgs[3].height) //Full-body image\n        \n                var bodyImgs = imgs.splice(0,4)\n                \n                $this.bodyData = bodyImgs\n                $this.icons = imgs\n            \n                //Icon data\n                $this.addData(imgs.length)\n            }\n        }\n        img.src = image.src;\n    })\n};\n\n\nfunction SvgPage(){\n    var svgCloseButton = document.getElementsByClassName('close-btn svg-button')[0]\n    var svgCircle = document.getElementsByClassName('svg-circle')[0]\n    var toggle, btnOpen, event;\n    var hovermap = hoverMap()\n    \n    var removeGooey = function(e){\n        setTimeout( () => {\n            hovermap[1](e)\n        },1400)\n        \n        //    console.log( hovermap[1])\n        //     var dist = hovermap[1](e)[0]; // Position distance of show-icon gooey\n        //     hovermap[0]( dist, true )  // handler(e) function\n\n    }\n    this.start;\n    //Page animated down removes circle to be animated again\n    this.animateEnd = function(e){\n\n         _('interactive-container').style.pointerEvents = 'auto' \n\n        if(toggle){\n            //Safari only\n            _('svg-page').style.visibility = 'hidden'\n            svgCircle.classList.remove('circle-animate');\n\n            _(btnOpen)[0].style.display = 'none'\n            document.querySelector('g.'+btnOpen+' .items').classList.remove('items-active')\n            \n            toggle = false\n        }   \n    }\n\n    this.animateCircle = function(timestamp, elem){\n        \n        if(!this.start) this.start = timestamp;\n\n            var runtime = timestamp - this.start;\n            var progress = Math.min(runtime / this.speed, 1)\n            isFirefox ? svgCircle.setAttribute('r', 1500 * progress) : svgCircle.style.transform = 'scale('+ (0 + (1*progress) )+ ')'\n       \n        if(progress < 1) {\n            requestAnimationFrame(function(timestamp){\n                this.animateCircle(timestamp, elem)\n            }.bind(this))\n        }else {\n            //Canvas fades in after page is animated open\n            document.querySelector('g.'+elem+' .items').classList.add('items-active')\n            document.getElementsByClassName(elem)[1].parentElement.classList.add('showCanvas')\n            this.start = null;\n        } \n    }\n    var closeButtonShow = function(num){\n        var opposite = !num ? -56 : 0\n         _('x-circle').style.transform = 'translateX('+ num +'px)'\n         _('line')[0].style.transform = 'translateX('+ opposite +'px) rotate(-45deg)'\n         _('line')[1].style.transform = 'translateX('+ opposite +'px) rotate(45deg)'\n    }\n\n    // Open page function\n    this.openModals = function(e){\n\n        try{\n            btnOpen = e.target.id\n        }catch(err){\n            btnOpen = e\n        }\n  \n        _('interactive-container').style.pointerEvents = 'none' \n        console.log(btnOpen)\n        event = e\n        _(btnOpen)[0].style.display = 'block'\n        closeButtonShow(-56)\n        //Google 'Do Hyeon' font bug, function has to be ran again in view\n        if(btnOpen === 'photo') slotMachine()\n        //Throbbing Finger image icon\n        if(btnOpen === 'design') document.getElementById('finger').classList.add('finger-scale')\n\n        if(isSafari){\n\n            toggle = true;\n             _('svg-page').style.visibility = \"visible\"\n            svgCircle.classList.add('circle-animate')\n\n            svgCircle.onanimationend = function(){\n      \n                document.querySelector('g.'+btnOpen+' .items').classList.add('items-active')\n                document.getElementsByClassName(btnOpen)[1].parentElement.classList.add('showCanvas')\n\n            }\n\n            //Closes the page animated down\n            svgCloseButton.addEventListener('click', function(){\n                toggle = true;\n\n                //Automatically stops canvas \n                Stretch.prototype.toggle = false\n                slotMachine.prototype.toggle = false\n                StarryNight.prototype.toggle = false\n                Technologies.prototype.toggle = false\n              \n                //Canvas / Items fades out\n                document.getElementsByClassName(btnOpen)[1].parentElement.classList.remove('showCanvas')\n                 \n            })\n            \n        }else{\n            toggle = false;\n\n            requestAnimationFrame(function(timestamp){\n                this.speed = 600;\n                this.animateCircle(timestamp, btnOpen)\n            }.bind(this))\n\n            svgCloseButton.addEventListener('click', function(e){\n                closeButtonShow(0)\n                Stretch.prototype.toggle = false\n                slotMachine.prototype.toggle = false\n                StarryNight.prototype.toggle = false\n                Technologies.prototype.toggle = false\n                document.getElementsByClassName(btnOpen)[1].parentElement.classList.remove('showCanvas')\n\n                setTimeout(function(){\n                    isFirefox ? _('svg-circle').setAttribute('r', 0) : _('svg-circle').style.transform = 'scale(0)'\n             \n                    //Current SVG element hides\n                    document.getElementsByClassName(btnOpen)[0].style.display = 'none'\n                    document.querySelector('g.'+btnOpen+' .items').classList.remove('showCanvas')\n                    // document.getElementsByClassName(btnOpen)[1].parentElement.classList.remove('showCanvas')\n                },1900)\n            });\n        }\n    }.bind(this);\n\n    var popUpCards = function(){\n        let open_modals = this.openModals\n\n        let popUpcards = _('card-popups')\n        for(let cards of popUpcards){\n            cards.addEventListener('click', function(e){\n                removeGooey(e)\n                open_modals(this.attributes[3].value)\n            })\n        }\n    }.bind(this)\n    if(wW < 768) popUpCards()\n    \n    _('circle-thumbnails').addEventListener('click', function(e){\n        if(wW < 768){\n            hovermap[1](e)\n        }else{\n            removeGooey(e)\n            this.openModals(e)\n        }\n        \n         \n    }.bind(this));\n}\nvar svgPage = new SvgPage();\n\nfunction getPos(ele){\n        \n    var elemRect = ele.getBoundingClientRect();\n    var mainSvg = document.getElementsByClassName('svg-page')[0].getBoundingClientRect();\n    var elemLeft = (mainSvg.width - ( parseInt(ele.getAttribute('width') ) || elemRect.width) ) / 2\n\n    return {\n        width: elemRect.width,\n        mainSvg: mainSvg,\n        left: elemRect.left,\n        top: elemRect.top,\n        height: elemRect.height,\n        //Places image's property left to the center of it's container (center of page)\n        centeredLeft: elemLeft\n    }\n}\n\n\n//Different screen sizing , elements adjust to it\nfunction adjustElements(){\n    var pathD768 = \"M565.1,0v900H0c0,0,0-75.3,0-192.4c0-211.7,0-303.7,0-533.1C0,50.5,0,0,0,0H565.1z\";\n    var pathD400 = \"M390,800H0c0,0,0-87.3,0-161.3S0,84,0,47.3S0,0,0,0h390V800z\";\n    var smallSplines = \".42 0 1 1;.42 0 1 1;.42 0 1 1;.42 0 1 1;\"\n    var smallKeyTimes = \"0; 0.20; 0.45; 1\"\n    var svg = document.getElementsByClassName('svg-page')[0]\n    \n    //Sets sizing for opening closing svg-page wave\n    if(wH < 840 && wW){\n        var svgWidth = wW < 500 ? wW - 20 : wW - 50;\n        var svgHeight = wH < 680 ? wH - 15 : wH - 50;\n    }else{\n        var svgWidth = wW < 500 ? wW - 20 : wW - 50;\n        var svgHeight = 840\n    }\n\n    if(wW <= 615){\n         document.getElementById('path').setAttribute('d', pathD768)\n        _('path').setAttribute('values', animate768)\n        _('path').setAttribute('keyTimes', smallKeyTimes)\n        _('path').setAttribute('keySplines', smallSplines)\n    }\n\n    if(wW <= 400){\n        document.getElementById('path').setAttribute('d', pathD400)\n        _('path').setAttribute('values', animate400)\n    }\n\n    if(wW >= 970 && wH){\n\n        svg.setAttribute(\"height\", svgHeight)\n            \n    }else {\n        if(wH > 840){\n      \n            svg.setAttribute(\"viewBox\", \"0 0 \"+ \" \"+svgWidth + \" \" + svgHeight); \n            svg.setAttribute(\"width\", svgWidth)\n            svg.setAttribute(\"height\", svgHeight)\n\n        }\n        if(wH < 840){ \n            svg.setAttribute(\"viewBox\", \"0 0 \"+ \" \"+svgWidth + \" \" + svgHeight); \n            svg.setAttribute(\"width\", svgWidth)\n            svg.setAttribute(\"height\", svgHeight)\n        }\n    }\n\n    if(wW && wH){\n       \n        //Add to element when more canvases are added to HTML\n        var elementG = document.querySelectorAll('g.photo, g.developer, g.design, g.animations, g.technologies')\n\n        elementG.forEach(function(el, i){\n            var groupName = el.classList[0];\n      \n            if(groupName === 'photo'){\n                var canvas = document.getElementById('slot-machine');\n                document.getElementById('canvas-area').setAttribute('transform','translate(157, 0)');\n              \n                Array.prototype.forEach.call(el.children,function(elem, i){\n                   \n                    //Camera SVG\n                    if(i === 0){\n                        \n                        let newHeight = newSize('width', 700, elem).height\n                 \n                        elem.setAttribute('width', 700)\n                        elem.setAttribute('height', newHeight)\n\n                        let pos = getPos( elem );\n                        var setAttributeY = pos.mainSvg.height - newHeight - 5\n             \n                        elem.setAttribute('x', pos.centeredLeft)\n                        elem.setAttribute('y', setAttributeY)\n\n                        if(wW <= 500 || wH <= 800){\n                      \n                            elem.style.visibility = 'hidden'\n                        } \n                    }\n                    //ForeignObject holds canvas\n                    if(i === 2){\n                        \n                        if(wW < 970){\n                            var canvasArea = document.getElementById('canvas-area')\n                          \n                            let pos = getPos( canvasArea )\n                        \n                            if(wH < 640 && wW < 800){\n\n                                elem.setAttribute('y', 240)\n                         \n                            }else{\n                            \n                                //firefox\n                                !isFirefox ? elem.setAttribute('y', svg.getAttribute('height') - pos.height - 16) : (svg.getAttribute('width') / 2) - 397.6 / 2\n                                 elem.setAttribute('y', svg.getAttribute('height') - 397.6 - 16)\n                                 // elem.setAttribute('y', 250)\n                            }\n                                \n                            elem.setAttribute('width', 360)\n                            elem.setAttribute('height', 360)\n                            !isFirefox ? elem.setAttribute('x', pos.left -6) : elem.setAttribute('x', (svg.getAttribute('width') / 2) - 397.6 / 2 + 20 )\n                            // elem.setAttribute('y', svg.getAttribute('height') - pos.height - 16)\n                        }else {\n                            var posHeight = getPos( elem )\n                            let width = parseInt( elem.getAttribute('width') )\n                            var elemLeft = (posHeight.mainSvg.width - width) - 15;\n                   \n                            elem.setAttribute('y', 60)\n                            elem.setAttribute('x', elemLeft)\n                        }\n\n                        if(wW <= 500) {\n                            let thisPos = getPos( elem )\n                            elem.setAttribute('x', thisPos.centeredLeft)\n                            \n                            if(wH < 620){\n                                elem.setAttribute('y', 200)\n                            } \n                        }\n                    }\n                    //Items\n                    if(i === 1){\n                        var pos = getPos( document.getElementById('canvas-area') )\n                    \n                        elem.childNodes[1].setAttribute('width', 400)\n                        elem.childNodes[1].setAttribute('height', 235)  \n                        elem.childNodes[1].setAttribute('x', 20)\n                        if(wW < 970){\n                            elem.childNodes[1].setAttribute('y', 0)\n                        }else{\n                            elem.childNodes[1].setAttribute('y', 100)\n                        }\n                        if(window.innerWidth <= 500) {\n                            elem.childNodes[1].setAttribute('width', 335)\n                            elem.childNodes[1].setAttribute('x', 10)\n                            var thisPos = getPos( elem.childNodes[1] )\n                        }\n                    }\n                })\n            };\n            if(groupName === 'developer'){\n                Array.prototype.forEach.call(el.children, function(elem, i){\n             \n                    //foreignObject holds canvas\n                    if(i === 1){\n                        if(wW < 970){\n                            elem.setAttribute('width',400);\n                            elem.setAttribute('height', 375);\n                        }\n                        var pos = getPos(el.children[0])\n                        elem.setAttribute('y', 200)\n                         \n                        if(window.innerWidth <= 850){\n                            if(wH < 690){\n                                elem.setAttribute('y', 25 )\n                                elem.setAttribute('x', 5 )\n                            }else{\n                                elem.setAttribute('x', 50)\n                                elem.setAttribute('y', 75)\n                            }\n                        }\n                        if(window.innerWidth < 505){\n                            if(wH < 690){\n                                elem.setAttribute('y', 50 )\n                                elem.setAttribute('x', 0 )\n                            }\n                            elem.childNodes[1].setAttribute('width',360);\n                            elem.setAttribute('height', 375);\n                   \n                            var thisPos = getPos(elem.childNodes[1])\n                            elem.setAttribute('y', 50 )\n                            elem.setAttribute('x', 5 )\n                        } \n                    }\n                    //items\n                    if(i === 0){\n                        if(window.innerWidth < 505){\n                            elem.childNodes[1].setAttribute('x', 10)\n                            elem.childNodes[1].setAttribute('y', 424)\n                            elem.childNodes[1].setAttribute('width', 370)\n                        } \n                        if(wW > 505 && wW < 850 ){\n                            if(wH < 690){\n                                elem.childNodes[1].setAttribute('y', 425)\n                                elem.childNodes[1].setAttribute('width', 370)\n\n                            }else elem.childNodes[1].setAttribute('y', 460)\n                        }\n                    } \n                })\n            }\n            if(groupName === 'design'){\n                var items = el.children[0].children[0]\n                var canvasArea = el.children[1]\n       \n                if(wH && wW > 970){\n\n                    if( canvasArea ){\n                        if(wW > 1200){\n                            canvasArea.setAttribute('width', 580)\n                            canvasArea.setAttribute('height', 580)\n                        }\n                        canvasArea.setAttribute('y', 80)\n                    }\n                    if( items ){\n                        items.setAttribute('y', 200)\n                    }\n         \n                }else if( wW > 750 && wW < 970){\n             \n                    if( canvasArea ){\n                        //For Safari overflow not working\n                        wW < 810 ? canvasArea.setAttribute('x', 210) : canvasArea.setAttribute('x', 255)\n                        canvasArea.setAttribute('y', 160)\n                        if(wH < 703) {\n                            //For Safari overflow not working\n                            canvasArea.setAttribute('height', 450)\n                        }\n                    }\n                    if( items ){\n                        items.setAttribute('y', 0)\n                    }\n                }else {\n                    items.setAttribute('y', 0)\n                    items.setAttribute('x', 10)\n                    wH < 700 ? items.setAttribute('height', 250)  :  items.setAttribute('height', 260)\n                    items.setAttribute('width', 340)\n\n                    var height = items.getAttribute('height')\n                    canvasArea.setAttribute('y', height)\n\n                    wW < 600 ? canvasArea.setAttribute('width', 400) : canvasArea.setAttribute('width', 500)\n                    wW < 600 ? canvasArea.setAttribute('height', 400) : canvasArea.setAttribute('height', 500)\n\n                    var canvasPos = getPos(canvasArea)\n                    canvasArea.setAttribute('x', canvasPos.centeredLeft)\n                    //For safari, so photo doesn't show the overflow\n                    canvasArea.setAttribute('height', svg.getAttribute('height') - items.getAttribute('height'))\n                } \n            }\n            if(groupName === 'animations'){\n                var items = el.children[0].children[0]\n                var canvasArea = el.children[1]\n                var svgPageHeight = svg.getAttribute('height')\n\n                if(wH && wW > 970){\n                    canvasArea.setAttribute('height', svgPageHeight)\n    \n                }\n                if(wW < 768){\n                    let bottom = ( svg.getAttribute('height') - 310 ) / 2\n                    items.setAttribute('x', 15)\n                    items.setAttribute('y', bottom)\n                    items.setAttribute('height', 320)\n                    items.setAttribute('width', 370)\n                }else{\n                    canvasArea.setAttribute('height', svgPageHeight)\n                }\n            }\n            if(groupName === 'technologies'){\n                var items = el.children[0].children[0]\n                var canvasArea = el.children[1]\n\n                if(wW < 650 && wH < 655){\n                    var bottom = ( svg.getAttribute('height') - 370 ) / 2\n                    items.setAttribute('y', bottom)\n                    items.setAttribute('x', 5)\n                }\n            }\n        })\n    }  \n};\n\n\nif(wW < 970 || wH < 800){\n    adjustElements();\n}else {\n    //Adds margin between full height threshhold for svg-page\n    if(wH < 840){\n       _('svg-page').setAttribute('height', wH - 40) \n    }\n    if(wW < 1000){\n        _('svg-page').setAttribute('width', wW - 40) \n    }\n   var designCanvas = document.querySelector('.design .item-canvas')\n   designCanvas.setAttribute('width', 580)\n   designCanvas.setAttribute('height', 580)\n}\n\n//Moves close button to right of svg-page\nfunction placeCloseButton(){\n    \n    var btnPos = getPos( _('close-btn') )\n    _('close-btn').style.transform = 'translateX('+ (btnPos.mainSvg.width - 56 )+'px)'\n}\nplaceCloseButton();\n\n\nfunction hoverMap(){\n    var btnWrap = _('button-wrap')\n    var dist;\n    var lastDist;\n    var currentPath; //Path to be removed when mouseout\n  \n    var mouseOut = function(dist){\n        // dist from opening popups to remove pointer\n        var pointerDist = typeof dist === 'number' ? dist : lastDist\n  \n        _('oval-pointer').style.transform = 'translate(-80px, 0px )'\n        \n        if(isFirefox){\n          \n            _('show-icon').style.transform = 'translate(-24px,' + pointerDist + 'px )' \n         \n        }else if(isSafari){\n\n             _('show-icon').style.transform = 'translate(-24px,' + pointerDist + 'px )'\n\n        }else{\n\n             _('show-icon').style.transform = 'translate(-22px,' + pointerDist + 'px )'\n\n        }  \n    };\n\n    if(wW > 768) btnWrap.onmouseover = handler;\n        \n    function handler(e){\n        dist = getDistance(e.target.className, e.target.id) \n\n        function getDistance(el,id) {\n            var totalDist = function(n){\n                return n * 37\n            }\n            var nodelist = _(el)\n            var elArray = [].slice.call(nodelist)\n         \n           for(var i = 0; i < elArray.length; i++){\n                if(elArray[i].id == id) return totalDist(i);\n           }\n        }\n       \n\n        function getPathElement(el, map_paths){\n            var newPathArray = []\n            var pathArray = [].slice.call( map_paths )\n            \n            //Puts elements in correct order\n            for(var i = pathArray.length -1; i >= 0; i--){\n                newPathArray.push(pathArray[i])\n            }\n \n            var target = document.getElementById(el)\n            var targetArray = [].slice.call( _(target.className) )  \n\n            for(var i = 0; i < targetArray.length; i++){\n               if(targetArray[i] === target) return newPathArray[i];\n            }\n        };\n\n        var animateGooey = function(){\n                \n            if( !_('show-icon').classList.contains('icon-transition') ){\n                \n                // transforms only up and down before out.\n                _('show-icon').style.transform = 'translate(-22px,' + dist + 'px )'\n              \n                setTimeout(function(){\n                    _('show-icon').classList.add('icon-transition')\n                    _('show-icon').style.transform = 'translate(-15px,' + dist + 'px )'\n                    _('oval-pointer').style.transform = 'translate(0px, 0px )'\n                 \n                },100)\n            }else{\n                _('show-icon').style.transform = 'translate(-15px,' + dist + 'px )'\n                _('oval-pointer').style.transform = 'translate(0px, 0px )'\n            }\n        }\n\n        var animatePathLines = function(path, map_paths){\n            var classId = path.id.replace(/-sm$/ig, \"\");\n\n            for (var i = 0; i < map_paths.length; i++) {\n                 //Removes all classes before target element class gets added\n                if(map_paths[i].classList.length === 2){\n\n                    var className = map_paths[i].classList[1]\n                    map_paths[i].classList.remove(className)\n                }\n            }\n            path.classList.add(classId)\n            return classId;\n        }\n\n        var removeCardsClass = function(target){\n            \n            const card = _('card-icon')\n            let length = card.length\n\n            while(length--){\n                let styleTransform = +card[length].style.transform.replace(/([^-\\d])/ig, '')\n                if(styleTransform !== 0) card[length].style.transform = 'translateY(0px)'\n\n            }\n        }\n        var animateCardsUp = function(path){\n            \n            const card = _('card-icon')\n            let regEx = /-.+$/ig\n            let target = path.id.replace(regEx, '')\n            let length = card.length\n\n            //If target also has 2 classList, remove that class and add p0opupcard\n            while(length--){\n                let cardParent = card[length].parentNode\n                let styleTransform = +card[length].style.transform.replace(/([^-\\d])/ig, '')\n\n                if(target === cardParent.id.replace(regEx, '') ) {\n                    // card[length].style.transform = 'translateY(-140px)'\n   \n                        card[length].style.transform = 'translateY(-140px)'\n                   \n                }else if(styleTransform !== 0){\n                    card[length].style.transform = 'translateY(0px)'\n                }\n            }\n        }\n\n        function AnimateCircles(path, map_paths){\n                     \n            var circles = document.querySelectorAll('#pulse-circles circle')\n            var paths = []\n            //Removes all classes before target elements classes gets added\n            for(let cir of circles){\n                if(cir.classList.length > 1){\n                    cir.classList.remove(cir.classList[1])\n                } \n            }\n            //Stops before error when not passing arguments from click handler\n            if(!arguments.length) return;\n\n            //Pairs circles and returns the pairs so classes can be added\n            var pairCircles = function(){\n                var cir = []\n                for (var j = 0; j < circles.length; j+=2) {\n                    \n                    cir.push( [circles[j], circles[j+1]] )\n                }\n                return cir\n            }\n           \n            for (var i = 0; i < map_paths.length; i++) {\n                   \n                paths.unshift( map_paths[i].id)\n            }\n               \n            var index = paths.indexOf(path.id)\n            var cirPairs = pairCircles()[index]\n\n            cirPairs[0].classList.add('middle-pulse')\n            cirPairs[1].classList.add('ring-pulse') \n        };\n\n        var removeCircles = function(string){\n            var activeCircles = document.querySelectorAll('.middle-pulse, .ring-pulse')\n\n            for(let cir of activeCircles){\n          \n                cir.addEventListener('animationend', (e) => {\n                   \n                    e.target.classList.remove(e.target.classList[1])\n                       \n                })\n            }\n        }\n        function removeAll(string){\n            removeCircles(string)\n            mouseOut(dist)\n            removeCardsClass()\n            try{\n                //Path to be removed when mouseout\n                document.getElementById(currentPath).classList.remove(currentPath)\n            }catch(err){\n\n            }\n        }\n        function handleMap(e){\n           let target = e.target.classList.value\n     \n           //If click comes from opening svg modals\n            if(target === 'card-color-st39' || wW > 768 && e.type === 'click'){\n                console.log(path, currentPath)\n                return  removeAll(path)\n                        \n            }\n            // mouse over\n            if(e.target.id){\n                //Start the path animated lines\n                var map_paths = wW > 768 ? _('map-paths') : _('map-paths-sm')\n                var path = getPathElement(e.target.id, map_paths)\n\n                //Used to update translate for button location\n                lastDist = dist\n            \n                animateGooey()\n                currentPath = animatePathLines(path, map_paths)\n                AnimateCircles(path, map_paths)\n                animateCardsUp(path)\n                \n                \n                //Only runs after mouseover elements run first, then initiated. \n                _('interactive-container').onmouseover = function(e) {\n                    if(e.target.className !== 'open-canvas-page' && wW > 768){\n                    \n                        removeAll()\n                    }\n                }\n            }\n        }\n        if (e.type == 'mouseover' && wW > 768) {\n            handleMap(e)\n        }else if(e.type === 'click'){\n    \n            handleMap(e)\n        }\n        return [dist]\n    }\n    return [mouseOut, handler] // To be able to use mouseOut function and handler function that returns dist to use for mouseOut Func\n};\n\nvar toggleStars = {\n    toggle: false\n}\n\nvar robotSection = function(e){\n\n    const stars = []\n    var animateStars = function(){\n            \n        let canvas = document.getElementById('star-canvas');\n        let ctx = canvas.getContext('2d');\n        let width = canvas.width = window.innerWidth;\n        let height = canvas.height = window.innerHeight;\n\n        let randomWidth = () => {\n            //max and min\n            return Math.random() * (width/2 - width/9) + width/9\n        }\n\n        var NightStars = function(){\n            \n            let randomStart = randomWidth()\n\n            this.duration = 2000 //used to delay stars\n            this.radius = 13 + Math.random() * 5 //size of stars\n\n            this.i = 0 //x and y speed\n            this.k = 0 //opacity speed\n\n            this.start = {\n                y: Math.random() * height\n            }\n\n            this.Flicker = (increntment) => {\n                return (Math.cos(increntment - Math.PI/180) * .2 ) \n            }\n\n            this.radSize = (increntment) => {\n                return (Math.sin(increntment - Math.PI/180) * 7)\n            }\n            \n            this.x = (increntment, starSize) => {\n                //full screen animate change this.randomWidth back to width / 2\n                return Math.cos(increntment - Math.PI/180) * (randomStart + starSize )\n            }\n\n            this.y = (increntment) => {\n                return Math.sin(-increntment - Math.PI/180) * 160\n            }\n\n            this.draw = (ctx) => {\n                let s = this;\n                \n                let opacSpeed = s.k += .3\n                let speed = s.i += s.randomSpeed\n\n                let radSize = s.radSize(speed)\n                let flicker = s.Flicker(opacSpeed)\n\n                let y = s.y(speed)\n                let x = s.x(speed, s.radius)\n              \n                ctx.translate(width/2, s.start.y)\n                var gradient = ctx.createRadialGradient(x ,y ,.4, x ,y ,14);\n                \n                gradient.addColorStop(0, 'LightSkyBlue');\n                gradient.addColorStop(.9, 'DodgerBlue');\n                gradient.addColorStop(1, 'RoyalBlue');\n\n                ctx.beginPath()\n                ctx.arc(x,  y, (s.radius - radSize) - flicker, 0, Math.PI*2)\n                ctx.fillStyle = gradient\n                ctx.fill()\n        \n                ctx.translate(-width/2, - s.start.y)\n            }\n        }\n        \n        \n        function createStars(starCount,update){\n            let delay = 0\n            \n            for (let i = 0; i < starCount; i++) {\n                delay += Math.random() * width\n\n                let nightStars = new NightStars()\n                nightStars.randomSpeed = .001 + Math.random() * .006\n                nightStars.startTime = Date.now()\n                nightStars.duration += delay   //sets a random delay for stars to start\n                stars.push(nightStars)\n            }\n            update()\n        }\n        \n        function update(){\n            //Stopping stars\n            if(toggleStars.toggle){\n                stars.length = 0\n                ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n                return;\n            }\n            \n            ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n            \n            let all = stars.length\n            for (let i = 0; i < all; i++) {\n                // let percent = Math.min( ( Date.now() - stars[i].startTime ) / stars[i].duration, 1 )  //Delay to start stars\n                let percent = Math.min( ( Date.now() - stars[i].startTime ), 1 )  // No delay\n\n                if(percent === 1){\n                    stars[i].draw(ctx)\n                }\n            }\n            requestAnimationFrame(update)\n        }\n\n        return {\n            createStars,\n            update\n        }\n    };\n    \n\n    var updateText = (function(){\n \n        var toggle = true\n        var textField = _('text-field')\n\n        function changeToggle(boolean){\n            toggle = boolean\n        }\n        return {\n            toggleFalse: function(){\n                changeToggle(false)\n            },\n            updateImgText: function(img){\n\n                changeToggle(true)\n                \n                var imgText = img.getAttribute('data-target')\n                var textLength = imgText.length\n\n                for(var i = 0; i < textLength; i++){\n\n                    (function(i){\n                        setTimeout(function(){\n\n                            if(!toggle) return\n                           \n                            textField.textContent += imgText[i]\n                          \n                        },100 * i)\n                    })(i);  \n                }\n            }\n        }\n    })();\n    \n\n    function electricBox(){\n        var randomCir = [0,1,2,3,4,5]\n\n        function getRandom(num){\n            return Math.floor(Math.random() * Math.floor(num));\n        }\n        function findNum(item){\n            \n            var newNum = randomCir.splice(item,1)\n            \n            _('robot-st34')[newNum].classList.add('blink')\n            if(randomCir.length){\n               relay(randomCir)\n            }\n        }\n        function relay(el){\n            window.setTimeout(function(){\n                var item = getRandom(el.length-1)\n                findNum(item)\n            },80)\n        }\n        relay(randomCir)\n    };\n\n    function checkForClasses(){\n        var circles = _('robot-st34').length\n        // var electricPath = _('electric-path').length\n       \n        // Add blinking light classes\n        for (var i = 0; i < circles; i++) {\n            if( _('robot-st34')[i].classList.contains('blink') ){\n\n                _('robot-st34')[i].classList.remove('blink')\n                \n            }\n        }\n        electricBox()\n    };\n\n    // Add electricity for robot box stomach\n    function addElectricity(){\n        var pathLength = _('electric-path').length\n        for (var i = 0; i < pathLength; i++) {\n            _('electric-path')[i].style.strokeDasharray = 20\n            _('electric-path')[i].style.strokeDashoffset = 280\n        }\n        var start = 0;\n\n        function draw(timestamp){\n            if(!start) start = timestamp\n            var runtime = timestamp - start\n            var progress = Math.min(runtime / 1200, 1)\n          \n            for (var i = 0; i < pathLength; i++) {\n                _('electric-path')[i].style.strokeDashoffset = 280 + (280 * progress)\n            }\n            \n            if(progress < 1){\n                requestAnimationFrame(draw)\n            }else{\n                for (var i = 0; i < pathLength; i++) {\n                    _('electric-path')[i].setAttribute('style', '')\n                }\n                return;\n            }\n        }\n        requestAnimationFrame(draw)\n    };\n    \n\n    /** Outter function scope variables **/\n    var designImages = document.getElementsByClassName('designImages');\n    var img_container = document.getElementsByClassName('image-container')[0];\n\n    var animateSlider = {\n        target: null,\n        partialDist: 0,\n        j: 0,\n        dist: 0,\n        start: 0,\n        images: [],\n        imgStart: 0,\n        newStart: function(num){\n\n            return parseInt( this.images[num].style.transform.replace(/^([\\w]*)\\(|(px.*)$/ig, '') )\n\n        },\n        containerWidth: function(){\n            return parseInt( img_container.style.width.replace(/px/ig, '') )\n        },\n        cloneImage: function(img){\n            const clonedImg = img.cloneNode(true)\n            clonedImg.className = ''\n            clonedImg.removeAttribute('style')\n            imgInlarge.checkForDuplicates('designVisible')\n            imgInlarge.moveElement(clonedImg, 'designVisible')\n        },\n        draw: function(timestamp){\n            \n            if(!this.start) this.start = timestamp\n\n            var runtime = timestamp - this.start\n            var progress = Math.min(runtime / 700, 1)\n            \n            this.images[0].style.transform = 'translate('+ (this.imgStart - (this.dist*progress) )+'px, -50%)'\n           \n            if(progress === 1){\n                \n                //Second photo following the first to be animated automatically\n                if(this.j === 1) {\n                    \n                    //checks if left or right button click with a negative left or positive right and updates imgStart\n                    this.imgStart = this.dist < 0 ? -this.containerWidth() : this.containerWidth()\n                    this.dist = this.dist < 0 ? -this.containerWidth() : this.containerWidth()\n                \n                    this.start = 0\n                    var item = this.images.shift()\n                    this.images.push(item)\n                    this.j = 0\n                }else {\n                \n                    //User double clicks same button when 2nd image isn't finished it draws again\n                    if(this.imgStart !== this.dist ){\n                      \n                        this.draw()\n                        \n                    }else{\n                        //Stops typed text from running only when photo stops into place\n                        _('text-field').textContent = ''\n                        updateText.updateImgText(this.images[0]) //Starts the typed text function\n\n                        this.cloneImage(this.images[0]) \n                    } \n                    return this.j++\n                }\n            }\n            requestAnimationFrame(animateSlider.draw.bind(this));\n        },\n        animateData: function(e){   \n            var target = this.target.innerText\n            var newStart = this.newStart(0)\n            this.partialDist = newStart\n\n            //If user clicks before image done animating, updates current location and starts again\n            if(newStart !== 0 && !isNaN(newStart)){\n                            \n                if(target === '<'){\n                    //If user double clicks same button right away\n                    if(newStart < 0){\n                        this.imgStart = newStart\n                        this.dist = this.containerWidth() + newStart\n                    }else{\n                        this.j = 0                  \n                        this.dist = newStart\n                        this.imgStart = newStart\n                    }\n                }\n                if(target === '>'){\n                    \n                    if(newStart < 0){\n                        this.j = 0\n                        this.imgStart = newStart\n                        this.dist = newStart\n                    //If user double clicks same button right away\n                    }else{\n                        this.imgStart = newStart\n                        this.dist = -this.containerWidth() + newStart\n                    }   \n                }\n                this.start = 0\n            }else{\n                this.start = 0\n\n                if(target === '<'){\n                    //first click starts image outside the head\n                    this.j >= 1 ? this.imgStart = 0 : this.imgStart = this.containerWidth()\n                    this.dist = this.containerWidth()\n                }else {\n                    //first click starts image outside the head\n                    this.j >= 1 ? this.imgStart = 0 : this.imgStart = -this.containerWidth()\n                    this.dist = -this.containerWidth()\n                }\n\n                this.draw()\n            }\n        },\n        // load images into array to be used for slider\n        loadImages: function(){\n            for (var i = 0; i < designImages.length; i++) {\n                var element = designImages[i];\n                this.images.push(element)\n                \n            }\n        }\n    };\n\n    // Keeps from resize event loading click handler\n    if(e.type !== 'resize' && e.type !== 'scroll'){\n        \n        _('btnContainer').addEventListener('click', function(e){\n            e.stopPropagation()\n            animateSlider.target = e.target\n            animateSlider.animateData(e)\n\n            checkForClasses()\n            addElectricity()\n            updateText.toggleFalse()\n            _('text-field').textContent = ''\n            \n        });\n    }\n    \n    return [animateSlider, animateStars] // To be used in the window.onload section\n};\n\n\nfunction DesignSlider() {\n    var img_container = document.getElementsByClassName('image-container')[0]\n    var img_container_rect = img_container.getBoundingClientRect()\n    this.ellipse = document.getElementsByClassName('clip-ellipse')[0]\n    this.rec = document.getElementsByClassName('screen-path')[0].getBoundingClientRect()\n    this.sectionContainer = document.getElementsByClassName('section-three-robot')[0].getBoundingClientRect()\n\n    var actualTop = this.rec.top - this.sectionContainer.top //when page not fully scrolled into view it's the actual top\n   \n    this.setEllipseAttributes = function(){\n        this.ellipse.setAttribute('rx', this.rec.width/2)\n        this.ellipse.setAttribute('ry', this.rec.height/2)\n        this.ellipse.setAttribute('cx', this.rec.left + this.rec.width/2 - 5)\n        this.ellipse.setAttribute('cy', actualTop + this.rec.height/2 )\n    }\n    this.setImgContainer = function(){\n        var container_Width = this.rec.width / 9 + this.rec.width\n        var img_containerY = actualTop - (img_container_rect.height - this.rec.height) / 2\n        img_container.style.transform = 'translate(-50%,' + img_containerY + 'px)'  //-48% to make up for 53% robot-svg offset\n        img_container.style.width = container_Width + 'px'\n    }\n    this.setButtonLocation = function(){\n\n        var addedWidth = window.innerWidth < 768 ? 70 : 200  //Distance bigger than robot head\n\n        var x =  ( window.innerWidth - (this.rec.width + addedWidth) ) / 2\n        var y = window.innerWidth > 768 ? actualTop + ( this.rec.height / 2 ) - 25 : this.rec.bottom - this.sectionContainer.top // - 25 for the btnContainer height / 2\n\n        _('btnContainer').style.width = this.rec.width + addedWidth +'px'\n        _('btnContainer').style.transform = 'translate('+ x + 'px,' + y + 'px)'\n    }\n    return function(){\n\n        return [this.setEllipseAttributes(),this.setImgContainer(),this.setButtonLocation()]\n\n    }.bind(this)\n}\n\nwindow.addEventListener('resize',function(e){\n\n    var updateRobot = robotSection(e)\n\n    var designSlider = new DesignSlider()\n    designSlider()  //updates canvas size\n    updateRobot[1]()  //updates button, image location , attributes of robot\n});\n\n// **** ASSEMBLY LINE SECTION ****\n\nclass AssemblyLine {\n    constructor(){\n        this.mainSVG = _('assembly-line-svg')\n        this.sliders = _('roller_unit')\n        this.codeContainers = _('code-container')\n    }\n    \n    getRect(el){\n        let rect = el.getBoundingClientRect()\n        let bBox = el.getBBox()\n        return {rect, bBox}\n    }\n    \n    getElemValue(pos) {\n        const [size] = /[1-9].*/.exec( this.mainSVG.getAttribute('viewBox') )\n        const regEx = /^(\\d{4})\\s(\\d{3})$/ig;\n        const values = []\n        values.length = 0  \n        let length = this.sliders.length;\n        const rollerUnit = this.sliders\n        const codeElements = this.codeContainers\n        for (let i = 0; i < length; i++) {\n            const rollerElem = rollerUnit[i]\n            const codeElem = codeElements[i]\n        \n            switch (pos) {\n                case 'container':\n                    return slidersContainer\n                case 'viewBoxWidth':\n                    return size.replace(regEx, '$1')\n                case 'viewBoxHeight':\n                    return size.replace(regEx, '$2')\n                case 'el':\n                    values.push(rollerElem)\n                    break;\n                case 'rectX':\n                    values.push( this.getRect( rollerElem ).rect.x ) // not in use\n                    break;\n                case 'codeBox.x':\n                    values.push( this.getRect( codeElem ).rect.x ) \n                    break;\n                case 'codebBox.x':            \n                    values.push( this.getRect( codeElem ).bBox.x ) \n                    break;\n                case 'bBoxX':            \n                    values.push( this.getRect( rollerElem ).bBox.x )// not in use\n                    break;\n                case 'y':\n                    values.push( this.getRect( rollerElem ).bBox.y )   \n                    break;\n                case 'width':\n                    values.push( this.getRect( rollerElem ).bBox.width )   \n                    break;\n                case 'height':\n                    values.push( this.getRect( rollerElem ).bBox.height )\n                    break; \n            }\n        }\n        return values\n    }\n};\n\nclass RollerUnit extends AssemblyLine {\n    constructor(){\n        super()\n        this.getRect = this.getRect\n        this.draw = this.draw.bind(this)\n        this.beginPos = []\n        this.dist = []\n        this.lessThan = ''\n        this.start = 0\n        this.time = 1000\n        this.current = {}\n        this.click = 0\n        this.beltClick = 0\n        this.foreinObjs = _('assembly-img-foreignObj')\n        this.foreinGroup = _('assembly-img-wrap')\n        this.belts = _('belt')\n    }\n\n    startPos(elem){\n        let arr = []\n        let el = elem\n        const length = el.length;\n        for (let i = 0; i < length; i++) {\n            if ( el[i].hasAttribute('style') ){\n                arr.push( parseInt ( el[i].style.transform.replace(/^([\\w]*)\\(([?-\\d].*)px\\)/ig, \"$2\") ) )\n            }else{\n                arr.push(0) \n            }  \n        }\n        return arr\n    }\n\n    min( start,actual = []){\n        let rect = Math.min(...start)\n        let dist = Math.min(...actual)\n        let index = start.indexOf(rect)\n        return {index,dist}         \n    }\n    max( start,actual ){\n        let rect = Math.max(...start)\n        let dist = Math.max(...actual)\n        let index = start.indexOf(rect)\n        return {index,dist}\n    }\n\n    getDistance(){\n        let width = this.getElemValue('width')[0]\n        let arr = []\n        let startingPoint = this.getElemValue('codeBox.x')\n        let actualDist = this.getElemValue('codebBox.x')\n    \n        const maxElement = this.max(startingPoint,actualDist)\n        const minElement = this.min(startingPoint,actualDist)\n\n        const moveEnd = (k) => {\n            let dist = this.left ? 431 : -431  // moveBeginning dist * 2    \n            arr.push({dist: dist, index: k, })\n        }\n\n        const moveBeginning = (k) => {\n            let dist = this.left ? (minElement.dist + width) : -(minElement.dist + width) \n            let rightPageStart = this.left ? actualDist.reverse()[k] + width : -actualDist[k] - width\n        \n            this.lessThan = k  //Updates the smallest distance\n            arr.push({dist: dist*2,index: k, rightPageStart: rightPageStart, pageRight: true})\n        }\n\n        for(let k = 0; k < 3; k++ ){\n    \n            if ( minElement.index === k ) {\n                this.right ? moveEnd(k) : moveBeginning(k)       \n                \n            }else if( maxElement.index === k ) {\n                this.right ? moveBeginning(k) :  moveEnd(k)\n\n            }else {\n                let dist = this.left ? 431 : -431  // moveBeginning dist * 2\n                arr.push({dist: dist, index: k})\n            }\n        }\n        arr.sort = (a,b) => a.place - b.place\n        return arr\n    }\n\n    // Add and remove foreignObjects into slider\n    foreinObjArr(){\n        // let length =  this.foreinObjs.length\n        let length =  this.foreinGroup.length\n        let arr = new Array(length)\n\n        // Puts image foreignobjects into array\n        while(length) {\n            length--;\n            arr[length] = this.foreinGroup[length];\n        }\n\n        let startingPoint = this.getElemValue('codeBox.x')\n        let index = this.min(startingPoint).index\n        \n        let add = arr.splice(3,1)\n        let removed = arr.splice(index,1)\n\n        let removedChild = removed[0].childNodes[1]\n        let addChild = add[0].childNodes[1]\n        arr.splice(index,0,add[0])\n        arr.push(removed[0])\n\n        //Add and remove just transforms first\n        let styleTransform =  removed[0].attributes[1]\n        removed[0].removeAttribute( styleTransform.name) \n        add[0].setAttribute(styleTransform.name, styleTransform.value)     \n\n        //Strips attributes of removed and add same attributes to added foreignobject\n        while( removedChild.attributes.length > 1){\n                \n            let attrName =  removedChild.attributes[1].name \n            let attrValue =  removedChild.attributes[1].value \n            \n            addChild.setAttribute(attrName, attrValue)\n            removedChild.removeAttribute( removedChild.attributes[1].name)\n        } \n        \n        this.foreinGroup = arr\n    }\n    \n    // Ran once when page reloads\n    positionForiegnObject(_this){\n        let sliders = this.codeContainers\n        let foreignObjects = this.foreinObjs\n        let length = sliders.length\n    \n        for (let i = 0; i < length; i++) {\n            \n            let slider_x = this.getRect(this.codeContainers[i]).bBox.x\n            let slider_y = this.getRect(this.codeContainers[i]).bBox.y\n            let slider_width = this.getRect(this.codeContainers[i]).bBox.width\n            let slider_height = this.getRect(this.codeContainers[i]).bBox.height\n    \n            foreignObjects[i].setAttribute('x', slider_x)\n            foreignObjects[i].setAttribute('y', slider_y)\n            foreignObjects[i].setAttribute('width', slider_width)\n            foreignObjects[i].setAttribute('height', slider_height)\n        }\n        //Inputs image into container\n        _this.targetElem()\n    }\n    \n    \n    moreThanHalf( dist, positiveCurrent, startDist ){\n        return dist - (startDist - positiveCurrent)\n    }\n    \n    lessThanHalf(current, dist, startDist){\n        let d = dist.dist < 0 ? dist.dist * -1 : dist.dist\n\n        if(startDist === 0 ){\n            if(dist.rightPageStart){\n                let diff = current - startDist \n                let totalDiff = d -  (current - startDist)\n                return diff + totalDiff\n            }\n            return d - current\n            \n        }else {\n            if(dist.rightPageStart){\n                let diff = current - startDist \n                let totalDiff = d -  Math.abs(current - startDist)\n                return diff + totalDiff\n            }  \n            let diff = d - Math.abs(current - startDist)\n            return diff\n        }\n    }\n    oppisiteDir(current, startDist){\n        if(startDist === 0){\n            return current\n        }else {\n            if(current > startDist){ // more than half\n                return current - startDist\n            }\n            return startDist - current   //less than half    \n        }\n    }\n    handleRightPageStart(d,rightPageStart, posCurrent, startDist){\n    \n        if(startDist < 0){\n            //more than half\n            if(d > posCurrent){  \n                let distance = posCurrent\n                return {distance, pageRight: false} \n            //less than half\n            }\n            let difference = (1141.2 - posCurrent) \n            let totalDif = d - (1141.2 - posCurrent)\n            let distance = difference + totalDif\n            return {distance, pageRight: true}\n        }else{\n            \n            //less than half only element with a rightPageStart of 1141.2\n            if(rightPageStart > 1160){ //1160\n                let difference = d / 2 - posCurrent\n                let totalDif = d -  difference\n                let distance = totalDif + difference\n                return {distance, pageRight: true}\n            //more than half\n            }else if(posCurrent < startDist ){ \n                let distance = startDist - posCurrent \n                return {distance, pageRight: false }\n            //less than half \n            }else{  \n                let diff = posCurrent - startDist \n                let totalDiff = d -  (posCurrent - startDist)\n                let distance = diff + totalDiff\n                return {distance, pageRight: true}\n            }\n        }\n    }\n    // ** RIGHT BUTTON IS NEGATIVE DIST, LEFT BUTTON IS POSITIVE DIST**\n    handleDoubleClick(current, dist, beginPos){\n        //Updates how many times back and forth before animation finishes\n        this.click ++\n\n        let currentDirection = Math.sign( this.currentDist[1].dist )\n        let distDirection = Math.sign( dist[1].dist )\n        \n        for(let i = 0; i < 3; i++){\n\n            //Middle dist not equal both negative or positives then use current dist\n            let dist_i = currentDirection !== distDirection ? this.currentDist[i] : dist[i]\n            let d = dist_i.dist < 0 ? dist_i.dist * -1 : dist_i.dist  //changed this\n            \n            //Starts off with positive variables\n            let rightPageStart = dist_i.rightPageStart < 0 ? dist_i.rightPageStart * -1 : dist_i.rightPageStart\n            let startDist = beginPos[i] < 0 ? beginPos[i] * -1 : beginPos[i]\n            let posCurrent = current[i] < 0 ? current[i] * -1 : current[i]\n\n            // When clicked opposite direction\n            if( currentDirection !== distDirection){\n            \n                if( rightPageStart ){\n                    let rightStart = this.right ? -rightPageStart : rightPageStart\n                    \n                    let cur = this.handleRightPageStart(d,rightPageStart, posCurrent, startDist, this.currentDist[i].index)\n                    let curDist = this.right ? -cur.distance : cur.distance\n                    let pageRight = cur.pageRight\n\n                    this.dist.push({dist: curDist, index: dist_i.index, rightPageStart: rightStart, pageRight: pageRight})\n                    this.beginPos.push(current[i])\n                }else{\n                    let distance = this.oppisiteDir( posCurrent, startDist)\n                    let dist = this.right && distance > 0 ? -distance : distance\n\n                    this.dist.push({dist: dist, index: dist_i.index, rightPageStart: dist_i.rightPageStart, pageRight: false})\n                    this.beginPos.push(current[i])\n                }      \n            //Clicked same direction\n            }else{\n                //After element starts from hidden part of page\n                if(( this.right && rightPageStart && current[i] < 0) || this.left && current[i] > 0 && rightPageStart  ){\n                    \n                    this.lessThan = dist_i.index //have to update rightPageStart again due to running this.getDistance() twice\n                    let distance = d / 2 - ( rightPageStart - posCurrent )  \n                    let PosOrNegDistance = this.right && distance > 0 ? distance * -1: distance\n\n                    this.dist.push({dist: PosOrNegDistance, index: dist_i.index, rightPageStart: dist_i.rightPageStart, pageRight: false})\n                    this.beginPos.push(current[i])\n                }else{  \n                    let lessThanhalf = startDist < posCurrent || (startDist && posCurrent < d) ? true : false  \n                    let distance = lessThanhalf ? this.lessThanHalf( posCurrent, dist_i, startDist) : this.moreThanHalf( d, posCurrent, startDist )    \n                    let PosOrNegDistance = this.right ? -distance : distance\n\n                    this.dist.push({dist: PosOrNegDistance, index: dist_i.index, rightPageStart: dist_i.rightPageStart, pageRight: true})\n                    this.beginPos.push(current[i])\n                }\n            }\n        }\n        //Removes prior values in arrays\n        this.dist.splice(0,3), this.beginPos.splice(0,3)\n        console.log(this.dist, this.beginPos)\n    }\n    //Updates sliders positions\n    updatePos(){\n        // Handles back and forth clicking\n        if(this.start){\n            this.start = 0\n            \n            this.currentDist = this.getDistance()\n            this.currentBeginPos = this.startPos(this.sliders)\n            return this.handleDoubleClick(this.current, this.dist, this.beginPos)\n            \n        }else{\n            this.updateBeltPos()\n            this.beginPos.length = 0\n            this.dist.length = 0\n            const dist = this.getDistance()\n            const beginPos = this.startPos(this.sliders)\n            // 3 is length of slider elements\n            for (let i = 0; i < 3; i++) {\n        \n                this.beginPos.push(beginPos[i])\n                this.dist.push(dist[i])\n\n            }\n        requestAnimationFrame(this.draw)\n        }\n    }\n    animateBelts(topGears, bottomGears){\n        _('teeth-wrapper-top').style.transform = `translate(${ topGears }px)`\n        _('teeth-wrapper-bottom').style.transform = `translate(${ bottomGears }px)`\n    }\n\n    animate(sliders, imgGroup, value){\n        sliders.style.transform = `translate(${ value }px)`\n        imgGroup.style.transform = `translate(${ value }px)`\n    }\n\n    draw(timestamp){\n        const time = this.time\n        if(!this.start) this.start = timestamp\n        this.runtime = timestamp - this.start;\n        const progress = Math.min(this.runtime / time, 1)\n\n        let j = this.lessThan\n    \n        for (let i = 0; i < 3; i++) {\n        \n            let num = i !== j ? i : j\n            let sliders = this.sliders[num]\n    \n            let imgGroup = this.foreinGroup[num]\n    \n            let beginPos = this.beginPos[num]\n            let dist = this.dist[num].dist\n            let rightStart = this.dist[num].rightPageStart\n            let pageRight = this.dist[num].pageRight   \n            //Right or Left side element animate to other side of screen\n            if(num === j && pageRight){\n                \n                if(progress <= .5){\n                    let value = beginPos - (dist * progress)\n                    this.current[num] = value\n                    this.animate(sliders, imgGroup, value)\n                }else {\n                    let value = rightStart - ( dist * (progress - .5))\n                    this.current[num] = value\n                    this.animate(sliders, imgGroup, value)\n                }\n            }else{\n                const value = beginPos - (dist * progress)\n                this.current[num] = value\n                this.animate(sliders, imgGroup, value)\n            }\n        }\n        // Belts Animation\n        let topGears = this.beltPos.startPos[0] + (this.beltPos.dist * progress) \n        let bottomGears = this.beltPos.startPos[1] - (this.beltPos.dist * progress)\n        this.animateBelts(topGears, bottomGears)\n        if(progress < 1){\n            requestAnimationFrame(this.draw)\n        } else{\n            this.foreinObjArr()\n            this.start = 0\n            this.beltClick ++\n            this.click = 0\n            imgInlarge.targetElem()\n            return\n        } \n    }\n    //Stars gears inline left or right depending on left or right click\n    beltDirections(){\n        let beltWidth = _('bottom-main').getBBox().width\n\n        if(this.right){\n            _('bottom-teeth').style.transform = `translate( ${beltWidth}px )`\n            _('top-teeth').style.transform = `translate( ${-beltWidth}px )`\n        }else{\n            _('bottom-teeth').style.transform = `translate( ${-beltWidth}px )`\n            _('top-teeth').style.transform = `translate( ${beltWidth}px )`\n        }\n    }\n    updateBeltPos(){\n        let belts = this.startPos(this.belts)\n        let startPos, dist; \n\n            // Starts gears on one side of the page or the other \n        if( this.beltClick === 0 || this.beltClick && belts[0] === 0 ) this.beltDirections()\n\n        if(this.right){\n            startPos = belts\n            dist = _('top-teeth').getBBox().width / 3\n        }\n        if(this.left){\n            startPos = belts\n            dist = -( _('top-teeth').getBBox().width / 3 )\n        }\n        \n        //Keeps Gears always looking like their never ending\n        if( this.beltClick === 3){\n            this.beltClick = 0\n            this.animateBelts(0, 0)\n            this.beltDirections()\n            startPos = [0,0]\n        }\n        this.beltPos = {dist, startPos}\n    } \n}\n\nclass InLargeImg extends RollerUnit {\n    constructor(){\n        super()\n        this.container =  _('img-inlarge-container')\n        this.animateClipPath = this.animateClipPath.bind(this)\n        this.img = document.querySelector('.inlarge-img-wrap img')\n        this.imgWrap = document.getElementsByClassName('inlarge-img-wrap')[0]\n        this.mouseMove = this.mouseMove.bind(this)\n        this.removeListener = this.removeListener.bind(this)\n        this.mouseY = 0\n        this.imageClose = this.imageClose.bind(this)\n        this.targetElem = this.targetElem\n        this.checkForDuplicates = this.checkForDuplicates\n        this.moveElement = this.moveElement\n        this.Y = 0\n    }\n    \n    addClickListener(){\n        _('img-inlarge-container').addEventListener('click', this.imageClose); \n    }\n    removeClickListener(){\n        _('img-inlarge-container').removeEventListener('click', this.imageClose); \n    }\n    checkForDuplicates(clssName){\n        const imgs = this.imgWrap.children\n        let length = imgs.length\n        while(length--){\n            if ( imgs[length].className === clssName ){\n                this.img = imgs[length];\n                this.removeImg()\n            } \n        }\n    }\n    //Recursion\n    targetElem(elemX){\n        \n        let length = this.foreinObjs.length\n        let arr = []\n        let groupArr = []\n       \n        for (let i = length - 1; i >= 0; i-- ){\n            \n            // 1st pushes only elements with style attribtues of x\n            if(!elemX && this.foreinObjs[i].hasAttribute('x') ){\n                \n                arr.push( this.foreinObjs[i].getBoundingClientRect().x )\n                groupArr.push(this.foreinObjs[i].parentNode)\n                \n            }\n            // Scaling image only\n            if ( this.foreinObjs[i].parentNode.getBoundingClientRect().x === elemX && this.toggleMoveElement){\n                this.group = this.foreinObjs[i].parentNode\n                return\n            }\n            if ( this.foreinObjs[i].getBoundingClientRect().x === elemX ){\n                this.checkForDuplicates('webVisible')\n                let imgNode = this.foreinObjs[i].childNodes[1];\n                let clonedImg = imgNode.cloneNode(true)\n                return this.moveElement( clonedImg, 'webVisible' )  \n            } \n        }\n        // Middle element which is the median of the three elements\n        let sorted = arr.sort( (a,b) => a - b )[1]\n        this.targetElem(sorted)\n    }\n    insertText(img){\n        let imgContent = _('img-content')\n        let url = img.attributes[2].value\n        let text = img.attributes[1].textContent\n        imgContent.textContent = text\n        imgContent.innerHTML += '<br>'+'<a href=\"' + url + '\"> ' + url + ' </a>'+'</br>'\n    }\n    moveElement(el, cls){\n        this.img = el //updates image to be used elsewhere \n        el.classList.add(cls)\n        let img_content = _('img-content')\n        let fragment = document.createDocumentFragment();\n        fragment.appendChild(el)\n        this.imgWrap.insertBefore(fragment, img_content);\n        this.imgWrap.classList.add('show-img')\n        this.imgWrap.classList.remove('hide-img')\n    }\n\n    removeImg(e){\n   \n        //Only ran to exit out of image from click handler\n        if(e){\n            this.container.style.opacity = 0\n            this.imgWrap.classList.replace('show-img', 'hide-img')\n            setTimeout( () => {\n                this.imgWrap.classList.replace('hide-img', 'show-img')\n                this.container.removeAttribute('style')\n                this.img.style.display = 'none'\n            },1100)\n        }else{\n            \n            _('img-content').textContent = ''\n            this.img.parentNode.removeChild(this.img)\n     \n        }\n    }\n    // Removes images \n    imageClose(e){\n        this.removeClickListener()\n        if(e.target.tagName !== 'IMG'){\n            // if(isFirefox) {\n            //     // this.imgWrap.classList.remove('show-img')\n            //     this.imgWrap.classList.replace('show-img', 'hide-img')\n            //     this.container.style.opacity = 0\n            //     this.clipValue = -100\n            //     this.clipStart = 100\n            //     return requestAnimationFrame(this.animateClipPath)\n            // }\n            this.removeImg(e)\n        }\n    }\n    // Displays image\n    showImage(clssName){\n        this.img = document.getElementsByClassName(clssName)[0]\n        this.insertText(this.img)\n        this.img.style.display = 'block'\n        this.addClickListener()\n        this.container.style.display = 'flex'\n        this.container.style.opacity = 1\n    }\n                                            // **  REMOVE ANIMATECLIPPATH IF I DON'T REALLLY HAVE TO USE IT FOR FIREFOX **\n    //Firefox only\n    animateClipPath(timestamp){\n        if(!this.start) this.start = timestamp\n        this.runtime = timestamp - this.start;\n        const progress = Math.min(this.runtime / 1000, 1)\n        this.imgWrap.style.clipPath = `circle(${this.clipStart + (this.clipValue * progress)}%)`\n    \n        if(progress < 1){\n            requestAnimationFrame(this.animateClipPath)\n        }else {\n\n            if(this.container.style.opacity == 0){\n        \n                // Removes flex and opacity, sets back to display none\n                this.container.removeAttribute('style')\n                // this.img.parentNode.removeChild(this.img)\n            }\n            this.start = 0\n        }\n    }\n    getTransform(){\n        let regEx = /^scale/g;\n        let transform = this.group.style.transform.replace(/^(\\w*\\(-?\\d*.\\w*\\))(.*)/ig, \"$1\")\n        let checkForScale = transform.match(regEx)\n        //So two scale values don't get added to element when translate doesn't exist\n        if(checkForScale){\n            return ''\n        }else {\n            return transform\n        }\n    }\n\n    scalePhoto(dist, scale, translate){\n        document.getElementById('slider_1_').style.transform = `translateY(${dist}px)`\n        this.group.style.transform = translate + `scale( ${1 + scale} )`\n    }\n    \n    mouseMove(e){\n    //    console.log(this.Y)\n        // multipy by 1.5 because of the lag, so I speed it up just a bit\n        let dist = e.clientY - this.mouseY\n        let value =   dist / this.Y\n        let scale = Math.min( value < 0 ? -value : -value, 1)\n        let translate = this.getTransform() \n        let translateValue = +( translate.replace(/[^-\\d.]/ig, \"\") )\n  \n        //Checks if element is either -431 or 431 so the correct transform origin can be added\n        if(translateValue > 2){\n            this.group.style.transformOrigin = 165 + \"px \" + 450 + \"px\"\n        }else if(translateValue < -1){\n            this.group.style.transformOrigin = 1034 + \"px \" + 458 + \"px\"\n        }\n        //scale is 1 when clicked somewhere else\n        if( scale < 1 && dist <= 6 ) this.scalePhoto(dist, scale, translate)\n    }\n\n    mouseDown(e){\n        \n        _('slide-group').addEventListener('mouseup', this.removeListener, true)\n\n        this.toggleMoveElement = true\n        this.targetElem()\n        let verPiece = document.getElementById('vert_piece')\n        let vertY = verPiece.getBBox().y\n        let handleY = _('img-scale').getBBox().y    \n        // let vertY = verPiece.getBoundingClientRect().y\n        // let handleY = _('img-scale').getBoundingClientRect().y   \n    //   console.log(v, h, vertY, handleY)\n        //Gets distance slider needs to go  \n        this.Y = handleY - vertY\n        \n        //Start position for distance\n        if(!this.mouseY) this.mouseY = e.clientY\n        _('slide-group').addEventListener('mousemove', this.mouseMove, true)\n       \n    }\n\n    removeListener(e){\n        _('slide-group').removeEventListener('mousemove', this.mouseMove, true)\n        \n        let translate = this.getTransform()\n        this.scalePhoto(0,0,translate)\n        \n        _('slide-group').removeEventListener('mouseup', this.removeListener, true)\n        _('img-scale').removeEventListener('mousedown', this.mouseDown, true);\n\n        //Updates position when mouseUp\n        this.mouseY = 0\n        this.toggleMoveElement = false\n    }\n}\n\nlet rollerUnit = new RollerUnit();\nlet imgInlarge = new InLargeImg();\nrollerUnit.positionForiegnObject(imgInlarge);\n\n_('img-scale').addEventListener('mousedown', (e) => {\n    \n    imgInlarge.mouseDown(e)\n}, true);\n\n_('buttons').addEventListener('click',function(e){\n    \n    e.stopPropagation()\n    const target = e.target.parentElement.classList[0]\n\n    if(target === 'img-left' || target === 'img-right'){\n        if(rollerUnit.click === 1) return  \n        \n        rollerUnit.left = target === 'img-left' ? true : false\n        rollerUnit.right = target === 'img-right' ? true : false\n        rollerUnit.updatePos()\n\n    }else if(target === 'img-inlarge'){\n        imgInlarge.showImage('webVisible')\n    }\n});\n\ndocument.getElementById('button-inlarge').addEventListener('click', (e) => {\n    imgInlarge.showImage('designVisible')\n})\n\n// **** GRAPH SECTION ****\n\nconst random = (min, max) => Math.random() * (max - min) + min;\n\nconst toggleRobot = {\n    toggle: false,\n    flight: false, //Toggles when scrolled out of screen view\n    direction: 'up'\n}\n\nfunction startRobotFlight(){ \n    // *** Burners ***\n\n    const flames = _('robot-flame')\n    const length = flames.length\n\n    const from = {x: 1, y: 1}\n    const to = {}\n    const distance = {};\n    const keys = Object.keys(from);\n\n    const next = timestamp => {\n        //starts all over from gets starting point of the last size\n        Object.assign(from, to);\n        const length = keys.length\n        for (var i = 0; i < length; i++) {\n            let axis = keys[i]\n            to[axis] = random(.8, 1);\n            distance[axis] = from[axis] - to[axis];\n        }\n\n        time.start = timestamp;\n    };\n\n    const time = {\n        total: 40\n    };\n\n    const drawBurners = timestamp => {\n        if (toggleRobot.flight) return\n        if (time.runtime > time.total || !to.x) next(timestamp);\n\n        time.runtime = timestamp - time.start;\n        const progress = time.runtime / time.total;\n        const [x, y] = keys.map(axis => from[axis] - progress * distance[axis]);\n        for (let i = 0; i < length; i++) {\n            let flame = flames[i]\n            flame.style.transform = `scale(${x}, ${y})`;\n        }\n        requestAnimationFrame(drawBurners);\n    };\n    // requestAnimationFrame(drawBurners);\n\n\n    //*** Draws Stars ***\n    let graphs = document.getElementsByClassName('graph-st20')\n    const recClip = document.getElementsByClassName('rec-clip')[0]\n    const fragment = document.createDocumentFragment();\n    const robotRect = _('floating_robot').getBoundingClientRect()\n    const graph = document.getElementById('graph-svg')\n    const [size] = /[1-9].*/.exec( graph.getAttribute('viewBox') )\n    \n    const regEx = /([1-9.]*)\\s([1-9.].*)/ig;\n    const graphWidth = size.replace(regEx, '$1')\n    const graphHeight = size.replace(regEx, '$2')\n    \n    const robotHeight = robotRect.height;\n    const robotWidth = robotRect.width;\n    const startY = graphHeight - robotHeight\n    const startX = robotRect.x - (window.innerWidth - graphWidth) / 2\n\n    //starts stars randomly\n    const randomInterval = function(callback,data,min, max){\n\n        const time = {\n            start: performance.now(),\n            total: random(min, max)\n        };\n        const draw = (timestamp) =>{\n            if(toggleRobot.flight) return\n            if (time.total <= timestamp - time.start) {\n                time.start = timestamp;\n                time.total = random(min, max);\n                callback(data)\n            }\n            requestAnimationFrame(draw);\n        }\n        requestAnimationFrame(draw);\n    };\n\n    const createStar = (cx, cy, radius) => {\n        const star = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        star.setAttribute(\"r\", radius);\n        star.setAttribute(\"cy\", cy);\n        star.setAttribute(\"cx\", cx);\n        star.setAttribute(\"fill\", \"white\");\n        star.setAttribute(\"fill-opacity\", 0);\n        return star;\n    };\n\n    const FallingStars = function(data){\n\n        let attr = new data(toggleRobot.direction)\n\n        const radius = attr.radius\n        const cx = attr.cx\n        const cy = attr.cy\n        const dist = attr.dist\n        const star = createStar(cx, cy, radius)\n       \n        const time = {\n            start: performance.now(),\n            total: random(1900, 2000)\n        };\n        \n        const draw = (timestamp) => {\n          if(toggleRobot.toggle || toggleRobot.flight){\n                graph.removeChild(star)\n                return;\n            } \n            time.elapsed = timestamp - time.start\n            const progress = Math.min(time.elapsed / time.total, 1)\n          \n            const opacity = progress * 2\n\n            star.setAttribute(\"cy\", cy + progress * dist)\n            star.setAttribute(\"fill-opacity\", progress < .5 ? opacity : 2 - opacity)\n            time.elapsed < time.total ? requestAnimationFrame(draw): graph.removeChild(star)\n        }\n        requestAnimationFrame(draw)\n\n        //Inserts new star based on randomInterval runing throughStars()\n        fragment.appendChild(star)\n        graph.insertBefore(fragment, graph.firstChild)\n\n    };\n\n    var flyIntoPlace = {\n        beginY: graphHeight - robotHeight / 10,\n        hiddenX: function(){\n            let difference = graphWidth  -  wW\n            if(!wW < graphWidth){\n\n                return robotRect.width + robotRect.x + difference \n           }\n        },\n        hideRobot: function(size){\n            if( size === 1.3){\n                let beginX = this.hiddenX();\n                _('floating_robot').style.transform = `translate(${0}px, -${this.beginY}px)`\n            }\n        },\n        createStars: function(){\n            let attributes = function(direction){\n               \n                if(direction === 'down'){\n               \n                    toggleRobot.toggle = false;\n                    let radius = random(.5, 2.7)\n                    let cx = random(startX - 100, startX + robotWidth + 100)\n                    let cy = random(startY - 120 ,startY - 175 )\n                    let dist = 100 + robotHeight;\n\n                    return { radius, cx, cy, dist } \n                    \n                }else if(direction === 'up'){\n                   \n                    let radius = random(1.5, 3.7);\n                    let cx = random(0 - 25, graphWidth + 25)\n                    let cy = random(graphHeight  - 80, graphHeight + 50  )\n                    let dist = -graphHeight; \n\n                    return { radius, cx, cy, dist } \n                }\n            }\n            //Every 80ms through 180ms of time.total it will draw a star\n            //**** STARTS STARS MOVING *****\n            randomInterval(FallingStars, attributes,80, 180)\n        }\n    }\n\n    const graphData = {\n        start: 0,\n        total: 2000,\n    }\n    const subtractRay = () => {\n        _('left-text-panel').removeAttribute('clip-path')\n        _('rec-clip').style.transform = \"translate(485px, 520px)\"\n    }\n    const getStrokeLength = () => {\n        let i = graphs.length\n        let value = new Array(i)\n        function getLength(){\n            while(i--){\n                value[i] = graphs[i].getTotalLength()\n            }\n        }\n        return {\n            runValue: function(){\n                getLength()\n            },\n            getValue: function(){\n                return value\n            }\n        }\n    }\n    let strokeLength = getStrokeLength();\n    strokeLength.runValue();\n    \n    const drawPercentStroke = (progress) => {\n        let stroke = strokeLength.getValue()\n        let i = graphs.length\n        while(i--){\n            graphs[i].style.stroke = 'url(#design-gradient)'\n  \n            graphs[0].style.strokeDashoffset = stroke[0] + (stroke[0] * progress)\n            graphs[1].style.strokeDashoffset = stroke[1] - (stroke[1] * progress)\n        }\n    }\n    const animateGraph = (timestamp) => {\n        if(!graphData.start) graphData.start = timestamp\n        let runtime = timestamp - graphData.start\n        let progress = Math.min(runtime / graphData.total, 1)\n\n        _('graph-percentage-top').textContent = Math.round( 0 + 90 * progress) + ' %'\n        _('graph-percentage-bottom').textContent = Math.round( 0 + 70 * progress) + ' %'\n        _('graph-rect').style.transform = 'translate(' + (412 * progress) + 'px)' \n        drawPercentStroke(progress)\n        \n        if(progress < 1) \n            requestAnimationFrame(animateGraph)\n        else \n            return subtractRay()\n    }\n\n    const startAnimateGraph = () =>{\n        recClip.style.transform = 'translate(0px, 0px)'\n        _('graph-clipping').classList.add('show-graphs')\n\n        //Animate graphs after recClip transform is done\n        setTimeout( () => {\n            requestAnimationFrame(animateGraph)\n        }, 2500)\n       \n    }\n\n    const begin = {\n        start: 0,\n        total: 4000\n    }\n\n    const flyIn = (timestamp) =>{\n        if(!begin.start) begin.start = timestamp\n        begin.runtime = timestamp - begin.start\n        const progress = Math.min(begin.runtime / begin.total, 1)\n        const curve = 624.9 / 2\n        const ease = easeOut(progress)\n        const increment = curve * progress / 50\n    \n        const y = -flyIntoPlace.beginY + flyIntoPlace.beginY * progress\n        const x = -Math.cos( increment + Math.PI/180) * curve + curve \n        // !begin.toggle\n         _('floating_robot').style.transform = `translate(${-x}px, ${y}px)`\n        // : document.querySelector('#section-five-web .container-lg').style.transform = `scale(${1.3 - .3 * ease})`\n\n        if(progress === 1){\n            // toggleRobot.toggle = true;\n            toggleRobot.direction = 'down'\n        \n            //Resizes the whole container so robot fits into screen\n            if( wW > 1050 ){\n                setTimeout(startAnimateGraph, 600)\n                document.querySelector('#section-five-web .container-lg').classList.add('scale-container')\n            }else{\n                \n                startAnimateGraph()\n            } \n            return\n        }\n        requestAnimationFrame(flyIn)\n    }\n    return {flyIn, flyIntoPlace, drawBurners}\n}\n\nlet navToggle = {\n    toggle: true\n}\n\nclass Navigation {\n    constructor(){\n        this.navItems = document.querySelectorAll('.nav-list button')\n        this.scrollTo = this.scrollTo.bind(this)\n        this.animateScroll = this.animateScroll.bind(this)\n        this.start = 0\n    }\n    getDistance(el, index){\n     \n        let top = el.getBoundingClientRect().top\n        let height = el.getBoundingClientRect().height\n        let bottom = el.getBoundingClientRect().bottom\n        return {top, height, bottom}\n    }\n    getScrolltoElement(target, regEx){\n        let section = document.getElementsByTagName('section')\n        let length = section.length\n        while(length--){\n            if ( target === section[length].id.replace(regEx, \"$1\") ) {\n                return {\n                    el: section[length],\n                    index: length\n                }\n            }\n        }\n    }\n    outExpo(n){\n        return 1 == n ? n : 1 - Math.pow(2, -10 * n);\n    };\n\n    animateScroll(timestamp){\n        if(!this.start) this.start = timestamp\n        let runtime =  timestamp - this.start\n        let progress = this.outExpo( Math.min( runtime / 1000, 1 ) )\n        let y = this.startPos + (this.elDist * progress)\n       \n        window.scroll(0, y)\n        if(progress < 1){\n            requestAnimationFrame(this.animateScroll)\n        }else return navToggle.toggle = true\n            \n            \n    }\n\n    toggleOpenBtn(){\n        let i = this.navItems.length\n        while(i--){\n          \n            if(this.navItems[i].style.transform){\n                console.log(this.navItems[i].removeAttribute('style'))\n            }\n        }\n    }\n    \n    scrollTo(e){\n        this.toggleOpenBtn()\n        if(e.target.className === 'contact-modal') return\n        const regEx = /(\\w+\\-\\w+)\\-\\w+/ig\n        const sectionId = e.target.className.replace(regEx,\"$1\")\n\n        let scrollToElem = this.getScrolltoElement(sectionId,regEx).el\n        let index = this.getScrolltoElement(sectionId,regEx).index\n        let elDist = this.getDistance(scrollToElem, index).top\n        this.elDist = elDist\n        this.startPos = window.pageYOffset\n        this.start = 0\n        \n        requestAnimationFrame(this.animateScroll)\n    }\n    scrollTo768(e){\n        \n        \n        let targetBtn = e.target.parentNode.parentNode\n        console.log(targetBtn)\n        \n        \n        if(targetBtn.hasAttribute('style')){\n            return this.toggleOpenBtn()\n        } \n        this.toggleOpenBtn()\n        targetBtn.style.pointerEvents = 'auto'\n        targetBtn.style.transform = `translateX(${-130}px)`\n   \n    }\n\n    controller(){\n        _('nav-list').addEventListener('click', (e) => {\n            console.log(e.target)\n            navToggle.toggle = false\n            if( e.target.nodeName === \"BUTTON\"){\n            \n                this.scrollTo(e)\n            }\n            // Only @ screen size 768 and smaller\n            if(e.target.parentNode.classList[1] === 'nav-icon'){\n                \n                this.scrollTo768(e)\n            }\n        });\n       \n    }\n}\nconst navigation = new Navigation()\nnavigation.controller()\n\nconst toggleAnimate = {\n    stars: true,\n    flightStars: true,\n\n}\n\nconst robot = new robotSection('event');\nconst robotFlight = startRobotFlight();\n\n\nconst triggerStars = (e) => {\n    console.log(e.type)\n    var update = robot[1](e).update\n    var star_count = 25\n    var makeStars = robot[1]()\n    makeStars.createStars(star_count, update)\n   \n}\n\nclass ScrollAnimate extends Navigation {\n    constructor(){\n        super()\n        this.sections = document.querySelectorAll('.section-three-robot, #section-five-web')\n        \n    }\n    checkElemTop(e){\n        \n        let length = this.sections.length\n         \n        while(length--){\n            let dist = this.getDistance(this.sections[length])\n     \n            let elmTop = dist.top\n            let elmHeight = dist.height\n            let elmBottom = dist.bottom\n            // Robot Design stars element\n            if(length === 0) {\n                //Page in view start animate stars\n                if(elmTop <= elmHeight && elmBottom >= elmHeight && toggleAnimate.stars){\n                    \n                    toggleAnimate.stars = false\n                    toggleStars.toggle = false\n                    // triggerStars(e)\n                }\n                //Page out of view start stop animate\n                if( !toggleAnimate.stars  &&  (elmTop > elmHeight || elmBottom <= 0) ){\n                    toggleAnimate.stars = true\n                    toggleStars.toggle = true\n                }\n            }\n            //Flying Robot / Graph element\n            if(length === 1){\n                if(elmTop < elmHeight / 2 && elmBottom >= elmHeight && toggleAnimate.flightStars){\n                    toggleRobot.flight = false\n                    toggleAnimate.flightStars = false\n                    // requestAnimationFrame( robotFlight.drawBurners )\n                    // robotFlight.flyIntoPlace.createStars('up')\n                    // requestAnimationFrame(robotFlight.flyIn)\n\n                }\n                if( !toggleAnimate.flightStars  &&  (elmTop > elmHeight - 75 || elmBottom <= 0) ){\n                    toggleAnimate.flightStars = true\n                    toggleRobot.flight = true\n                }\n         \n            //    toggleRobot.toggle = true;  //stop stars and robot, just need to toggleRobot.toggle = false; to start\n            // console.log(elmTop, elmHeight, elmBottom)\n            }\n            \n        }\n    }\n\n   \n    scroll(){\n        window.addEventListener('scroll', (e) => {\n            // If nav item is clicked that scroll event will run and not trigger this scroll event\n            if(navToggle.toggle){\n\n                this.checkElemTop(e)\n            }\n           \n        })\n    }\n}\nconst scrollAnimate = new ScrollAnimate()\nscrollAnimate.scroll()\n\n//*** HAND SHAKE ***\nclass Digital {\n    constructor(){\n        this.path = document.querySelectorAll('.stroke')\n        this.watch = document.getElementById('rotate_watch')\n    }\n\n    startHandAnimation(){\n        console.log('hey')\n        this.watch.classList.add('rotateWatch')\n        for(let i = 0; i < this.path.length; i++){\n             this.path[i].classList.add('path')\n        }\n        //Removes animation after 4 intervals \n        setTimeout( ()=> { this.removeDigitalAnimation()},8100)\n    }\n    removeDigitalAnimation(){\n        this.watch.classList.remove('rotateWatch')\n        for(let i = 0; i < this.path.length; i++){\n            this.path[i].classList.remove('path')\n        } \n    }\n}\n\nclass Circuit {\n    constructor(){\n        this.animCircuit = _('animate-circuit')\n        this.animCircle = _('animate-cir')\n    }\n    // startAnimation(){\n    //     function draw(timestamp){\n    //         if(!start) start = timestamp\n    //         var runtime = timestamp - start\n    //         var progress = Math.min(runtime / 1200, 1)\n          \n    //         for (var i = 0; i < pathLength; i++) {\n    //             _('electric-path')[i].style.strokeDashoffset = 280 + (280 * progress)\n    //         }\n            \n    //         if(progress < 1){\n    //             requestAnimationFrame(draw)\n    //         }else{\n    //             for (var i = 0; i < pathLength; i++) {\n    //                 _('electric-path')[i].setAttribute('style', '')\n    //             }\n    //             return;\n    //         }\n    //     }\n    //     requestAnimationFrame(draw)\n    // }\n    removeAnimations(){\n\n    }\n\n}\nconst digital = new Digital()\nconst circuit = new Circuit()\n\nwindow.onload = function(e){\n    // digital.startHandAnimation()\n     // console.log(document.getElementById('test-line').getTotalLength());\n \n    let newTechnologies = new Technologies();\n    newTechnologies.loadImages();\n\n    document.querySelector('.technologies .start-canvas').addEventListener('click', function(){\n        Technologies.prototype.toggle = true\n        requestAnimationFrame(newTechnologies.draw.bind(newTechnologies)) \n    }.bind(this));\n\n    document.querySelector('.technologies .stop-canvas').addEventListener('click', function(){\n        Technologies.prototype.toggle = false\n        requestAnimationFrame(newTechnologies.draw.bind(newTechnologies)) \n    }.bind(this));\n\n    var starryNight = new StarryNight()\n    starryNight.loadImages()\n\n    hoverMap()\n    \n    var designSlider = new DesignSlider();\n    designSlider();\n\n    robot[1]() //updates robot location\n    robot[0].loadImages(); //then loades images into slider\n\n    robotFlight.flyIntoPlace.hideRobot(1.3); //Hides flying robot out of screen view\n    \n}.bind(this);\n\n"],"sourceRoot":""}